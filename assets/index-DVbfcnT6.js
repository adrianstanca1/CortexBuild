var $j=Object.defineProperty;var qj=(s,a,r)=>a in s?$j(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r;var Vx=(s,a,r)=>qj(s,typeof a!="symbol"?a+"":a,r);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Hl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Hj(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var a=s.default;if(typeof a=="function"){var r=function l(){return this instanceof l?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(l){var o=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(r,l,o.get?o:{enumerable:!0,get:function(){return s[l]}})}),r}var fd={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function Fj(){if(Gx)return jl;Gx=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:l,key:d,ref:o!==void 0?o:null,props:u}}return jl.Fragment=a,jl.jsx=r,jl.jsxs=r,jl}var Yx;function Vj(){return Yx||(Yx=1,fd.exports=Fj()),fd.exports}var e=Vj(),pd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function Gj(){if(Kx)return we;Kx=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function S(z,M,C){this.props=z,this.context=M,this.refs=j,this.updater=C||v}S.prototype.isReactComponent={},S.prototype.setState=function(z,M){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,M,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function A(){}A.prototype=S.prototype;function T(z,M,C){this.props=z,this.context=M,this.refs=j,this.updater=C||v}var L=T.prototype=new A;L.constructor=T,k(L,S.prototype),L.isPureReactComponent=!0;var $=Array.isArray;function D(){}var q={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Q(z,M,C){var ae=C.ref;return{$$typeof:s,type:z,key:M,ref:ae!==void 0?ae:null,props:C}}function ie(z,M){return Q(z.type,M,z.props)}function J(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function Z(z){var M={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(C){return M[C]})}var le=/\/+/g;function se(z,M){return typeof z=="object"&&z!==null&&z.key!=null?Z(""+z.key):M.toString(36)}function oe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(M){z.status==="pending"&&(z.status="fulfilled",z.value=M)},function(M){z.status==="pending"&&(z.status="rejected",z.reason=M)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function U(z,M,C,ae,fe){var I=typeof z;(I==="undefined"||I==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(I){case"bigint":case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case s:case a:de=!0;break;case f:return de=z._init,U(de(z._payload),M,C,ae,fe)}}if(de)return fe=fe(z),de=ae===""?"."+se(z,0):ae,$(fe)?(C="",de!=null&&(C=de.replace(le,"$&/")+"/"),U(fe,M,C,"",function(tt){return tt})):fe!=null&&(J(fe)&&(fe=ie(fe,C+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(le,"$&/")+"/")+de)),M.push(fe)),1;de=0;var je=ae===""?".":ae+":";if($(z))for(var De=0;De<z.length;De++)ae=z[De],I=je+se(ae,De),de+=U(ae,M,C,I,fe);else if(De=b(z),typeof De=="function")for(z=De.call(z),De=0;!(ae=z.next()).done;)ae=ae.value,I=je+se(ae,De++),de+=U(ae,M,C,I,fe);else if(I==="object"){if(typeof z.then=="function")return U(oe(z),M,C,ae,fe);throw M=String(z),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return de}function ne(z,M,C){if(z==null)return z;var ae=[],fe=0;return U(z,ae,"","",function(I){return M.call(C,I,fe++)}),ae}function ue(z){if(z._status===-1){var M=z._result;M=M(),M.then(function(C){(z._status===0||z._status===-1)&&(z._status=1,z._result=C)},function(C){(z._status===0||z._status===-1)&&(z._status=2,z._result=C)}),z._status===-1&&(z._status=0,z._result=M)}if(z._status===1)return z._result.default;throw z._result}var ge=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},O={map:ne,forEach:function(z,M,C){ne(z,function(){M.apply(this,arguments)},C)},count:function(z){var M=0;return ne(z,function(){M++}),M},toArray:function(z){return ne(z,function(M){return M})||[]},only:function(z){if(!J(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return we.Activity=y,we.Children=O,we.Component=S,we.Fragment=r,we.Profiler=o,we.PureComponent=T,we.StrictMode=l,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,we.__COMPILER_RUNTIME={__proto__:null,c:function(z){return q.H.useMemoCache(z)}},we.cache=function(z){return function(){return z.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(z,M,C){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ae=k({},z.props),fe=z.key;if(M!=null)for(I in M.key!==void 0&&(fe=""+M.key),M)!G.call(M,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&M.ref===void 0||(ae[I]=M[I]);var I=arguments.length-2;if(I===1)ae.children=C;else if(1<I){for(var de=Array(I),je=0;je<I;je++)de[je]=arguments[je+2];ae.children=de}return Q(z.type,fe,ae)},we.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},we.createElement=function(z,M,C){var ae,fe={},I=null;if(M!=null)for(ae in M.key!==void 0&&(I=""+M.key),M)G.call(M,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=M[ae]);var de=arguments.length-2;if(de===1)fe.children=C;else if(1<de){for(var je=Array(de),De=0;De<de;De++)je[De]=arguments[De+2];fe.children=je}if(z&&z.defaultProps)for(ae in de=z.defaultProps,de)fe[ae]===void 0&&(fe[ae]=de[ae]);return Q(z,I,fe)},we.createRef=function(){return{current:null}},we.forwardRef=function(z){return{$$typeof:m,render:z}},we.isValidElement=J,we.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ue}},we.memo=function(z,M){return{$$typeof:x,type:z,compare:M===void 0?null:M}},we.startTransition=function(z){var M=q.T,C={};q.T=C;try{var ae=z(),fe=q.S;fe!==null&&fe(C,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(D,ge)}catch(I){ge(I)}finally{M!==null&&C.types!==null&&(M.types=C.types),q.T=M}},we.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},we.use=function(z){return q.H.use(z)},we.useActionState=function(z,M,C){return q.H.useActionState(z,M,C)},we.useCallback=function(z,M){return q.H.useCallback(z,M)},we.useContext=function(z){return q.H.useContext(z)},we.useDebugValue=function(){},we.useDeferredValue=function(z,M){return q.H.useDeferredValue(z,M)},we.useEffect=function(z,M){return q.H.useEffect(z,M)},we.useEffectEvent=function(z){return q.H.useEffectEvent(z)},we.useId=function(){return q.H.useId()},we.useImperativeHandle=function(z,M,C){return q.H.useImperativeHandle(z,M,C)},we.useInsertionEffect=function(z,M){return q.H.useInsertionEffect(z,M)},we.useLayoutEffect=function(z,M){return q.H.useLayoutEffect(z,M)},we.useMemo=function(z,M){return q.H.useMemo(z,M)},we.useOptimistic=function(z,M){return q.H.useOptimistic(z,M)},we.useReducer=function(z,M,C){return q.H.useReducer(z,M,C)},we.useRef=function(z){return q.H.useRef(z)},we.useState=function(z){return q.H.useState(z)},we.useSyncExternalStore=function(z,M,C){return q.H.useSyncExternalStore(z,M,C)},we.useTransition=function(){return q.H.useTransition()},we.version="19.2.0",we}var Jx;function wh(){return Jx||(Jx=1,pd.exports=Gj()),pd.exports}var E=wh();const $0=Hl(E);var xd={exports:{}},wl={},gd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function Yj(){return Qx||(Qx=1,(function(s){function a(U,ne){var ue=U.length;U.push(ne);e:for(;0<ue;){var ge=ue-1>>>1,O=U[ge];if(0<o(O,ne))U[ge]=ne,U[ue]=O,ue=ge;else break e}}function r(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var ne=U[0],ue=U.pop();if(ue!==ne){U[0]=ue;e:for(var ge=0,O=U.length,z=O>>>1;ge<z;){var M=2*(ge+1)-1,C=U[M],ae=M+1,fe=U[ae];if(0>o(C,ue))ae<O&&0>o(fe,C)?(U[ge]=fe,U[ae]=ue,ge=ae):(U[ge]=C,U[M]=ue,ge=M);else if(ae<O&&0>o(fe,ue))U[ge]=fe,U[ae]=ue,ge=ae;else break e}}return ne}function o(U,ne){var ue=U.sortIndex-ne.sortIndex;return ue!==0?ue:U.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var g=[],x=[],f=1,y=null,w=3,b=!1,v=!1,k=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function L(U){for(var ne=r(x);ne!==null;){if(ne.callback===null)l(x);else if(ne.startTime<=U)l(x),ne.sortIndex=ne.expirationTime,a(g,ne);else break;ne=r(x)}}function $(U){if(k=!1,L(U),!v)if(r(g)!==null)v=!0,D||(D=!0,Z());else{var ne=r(x);ne!==null&&oe($,ne.startTime-U)}}var D=!1,q=-1,G=5,Q=-1;function ie(){return j?!0:!(s.unstable_now()-Q<G)}function J(){if(j=!1,D){var U=s.unstable_now();Q=U;var ne=!0;try{e:{v=!1,k&&(k=!1,A(q),q=-1),b=!0;var ue=w;try{t:{for(L(U),y=r(g);y!==null&&!(y.expirationTime>U&&ie());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,w=y.priorityLevel;var O=ge(y.expirationTime<=U);if(U=s.unstable_now(),typeof O=="function"){y.callback=O,L(U),ne=!0;break t}y===r(g)&&l(g),L(U)}else l(g);y=r(g)}if(y!==null)ne=!0;else{var z=r(x);z!==null&&oe($,z.startTime-U),ne=!1}}break e}finally{y=null,w=ue,b=!1}ne=void 0}}finally{ne?Z():D=!1}}}var Z;if(typeof T=="function")Z=function(){T(J)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,se=le.port2;le.port1.onmessage=J,Z=function(){se.postMessage(null)}}else Z=function(){S(J,0)};function oe(U,ne){q=S(function(){U(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(U){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var ue=w;w=ne;try{return U()}finally{w=ue}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ue=w;w=U;try{return ne()}finally{w=ue}},s.unstable_scheduleCallback=function(U,ne,ue){var ge=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ge+ue:ge):ue=ge,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ue+O,U={id:f++,callback:ne,priorityLevel:U,startTime:ue,expirationTime:O,sortIndex:-1},ue>ge?(U.sortIndex=ue,a(x,U),r(g)===null&&U===r(x)&&(k?(A(q),q=-1):k=!0,oe($,ue-ge))):(U.sortIndex=O,a(g,U),v||b||(v=!0,D||(D=!0,Z()))),U},s.unstable_shouldYield=ie,s.unstable_wrapCallback=function(U){var ne=w;return function(){var ue=w;w=ne;try{return U.apply(this,arguments)}finally{w=ue}}}})(yd)),yd}var Xx;function Kj(){return Xx||(Xx=1,gd.exports=Yj()),gd.exports}var bd={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function Jj(){if(Zx)return wt;Zx=1;var s=wh();function a(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)x+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,x,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:x,implementation:f}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,wt.createPortal=function(g,x){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(a(299));return u(g,x,null,f)},wt.flushSync=function(g){var x=d.T,f=l.p;try{if(d.T=null,l.p=2,g)return g()}finally{d.T=x,l.p=f,l.d.f()}},wt.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,l.d.C(g,x))},wt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},wt.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var f=x.as,y=m(f,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,b=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;f==="style"?l.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:b}):f==="script"&&l.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:b,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},wt.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var f=m(x.as,x.crossOrigin);l.d.M(g,{crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&l.d.M(g)},wt.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var f=x.as,y=m(f,x.crossOrigin);l.d.L(g,f,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},wt.preloadModule=function(g,x){if(typeof g=="string")if(x){var f=m(x.as,x.crossOrigin);l.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else l.d.m(g)},wt.requestFormReset=function(g){l.d.r(g)},wt.unstable_batchedUpdates=function(g,x){return g(x)},wt.useFormState=function(g,x,f){return d.H.useFormState(g,x,f)},wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},wt.version="19.2.0",wt}var Wx;function Qj(){if(Wx)return bd.exports;Wx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),bd.exports=Jj(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function Xj(){if(eg)return wl;eg=1;var s=Kj(),a=wh(),r=Qj();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(l(188))}function x(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(l(188));return n!==t?null:t}for(var i=t,c=n;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return g(h),t;if(p===c)return g(h),n;p=p.sibling}throw Error(l(188))}if(i.return!==c.return)i=h,c=p;else{for(var N=!1,_=h.child;_;){if(_===i){N=!0,i=h,c=p;break}if(_===c){N=!0,c=h,i=p;break}_=_.sibling}if(!N){for(_=p.child;_;){if(_===i){N=!0,i=p,c=h;break}if(_===c){N=!0,c=p,i=h;break}_=_.sibling}if(!N)throw Error(l(189))}}if(i.alternate!==c)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:n}function f(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=f(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var le=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===le?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case $:return"Suspense";case D:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case T:return t.displayName||"Context";case A:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}var oe=Array.isArray,U=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ge=[],O=-1;function z(t){return{current:t}}function M(t){0>O||(t.current=ge[O],ge[O]=null,O--)}function C(t,n){O++,ge[O]=t.current,t.current=n}var ae=z(null),fe=z(null),I=z(null),de=z(null);function je(t,n){switch(C(I,n),C(fe,t),C(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fx(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fx(n),t=px(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}M(ae),C(ae,t)}function De(){M(ae),M(fe),M(I)}function tt(t){t.memoizedState!==null&&C(de,t);var n=ae.current,i=px(n,t.type);n!==i&&(C(fe,t),C(ae,i))}function Rn(t){fe.current===t&&(M(ae),M(fe)),de.current===t&&(M(de),gl._currentValue=ue)}var Ar,Zl;function zn(t){if(Ar===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ar=n&&n[1]||"",Zl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+t+Zl}var ha=!1;function ma(t,n){if(!t||ha)return"";ha=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var V=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){V=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){V=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),N=p[0],_=p[1];if(N&&_){var R=N.split(`
`),F=_.split(`
`);for(h=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(c===R.length||h===F.length)for(c=R.length-1,h=F.length-1;1<=c&&0<=h&&R[c]!==F[h];)h--;for(;1<=c&&0<=h;c--,h--)if(R[c]!==F[h]){if(c!==1||h!==1)do if(c--,h--,0>h||R[c]!==F[h]){var X=`
`+R[c].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=c&&0<=h);break}}}finally{ha=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?zn(i):""}function Wl(t,n){switch(t.tag){case 26:case 27:case 5:return zn(t.type);case 16:return zn("Lazy");case 13:return t.child!==n&&n!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return ma(t.type,!1);case 11:return ma(t.type.render,!1);case 1:return ma(t.type,!0);case 31:return zn("Activity");default:return""}}function ei(t){try{var n="",i=null;do n+=Wl(t,i),i=t,t=t.return;while(t);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var fa=Object.prototype.hasOwnProperty,pa=s.unstable_scheduleCallback,Er=s.unstable_cancelCallback,Wo=s.unstable_shouldYield,ec=s.unstable_requestPaint,Et=s.unstable_now,tc=s.unstable_getCurrentPriorityLevel,W=s.unstable_ImmediatePriority,ce=s.unstable_UserBlockingPriority,be=s.unstable_NormalPriority,Ce=s.unstable_LowPriority,Pe=s.unstable_IdlePriority,Gt=s.log,Ln=s.unstable_setDisableYieldValue,Tt=null,ht=null;function Ot(t){if(typeof Gt=="function"&&Ln(t),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Tt,t)}catch{}}var Ge=Math.clz32?Math.clz32:Cb,as=Math.log,xn=Math.LN2;function Cb(t){return t>>>=0,t===0?32:31-(as(t)/xn|0)|0}var ti=256,ni=262144,si=4194304;function zs(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,i){var c=t.pendingLanes;if(c===0)return 0;var h=0,p=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var _=c&134217727;return _!==0?(c=_&~p,c!==0?h=zs(c):(N&=_,N!==0?h=zs(N):i||(i=_&~t,i!==0&&(h=zs(i))))):(_=c&~p,_!==0?h=zs(_):N!==0?h=zs(N):i||(i=c&~t,i!==0&&(h=zs(i)))),h===0?0:n!==0&&n!==h&&(n&p)===0&&(p=h&-h,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:h}function Tr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ab(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kh(){var t=si;return si<<=1,(si&62914560)===0&&(si=4194304),t}function nc(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eb(t,n,i,c,h,p){var N=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var _=t.entanglements,R=t.expirationTimes,F=t.hiddenUpdates;for(i=N&~i;0<i;){var X=31-Ge(i),te=1<<X;_[X]=0,R[X]=-1;var V=F[X];if(V!==null)for(F[X]=null,X=0;X<V.length;X++){var K=V[X];K!==null&&(K.lane&=-536870913)}i&=~te}c!==0&&Jh(t,c,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(N&~n))}function Jh(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var c=31-Ge(n);t.entangledLanes|=n,t.entanglements[c]=t.entanglements[c]|1073741824|i&261930}function Qh(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var c=31-Ge(i),h=1<<c;h&n|t[c]&n&&(t[c]|=n),i&=~h}}function Xh(t,n){var i=n&-n;return i=(i&42)!==0?1:sc(i),(i&(t.suspendedLanes|n))!==0?0:i}function sc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ac(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zh(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Ux(t.type))}function Wh(t,n){var i=ne.p;try{return ne.p=t,n()}finally{ne.p=i}}var rs=Math.random().toString(36).slice(2),xt="__reactFiber$"+rs,Mt="__reactProps$"+rs,xa="__reactContainer$"+rs,rc="__reactEvents$"+rs,Tb="__reactListeners$"+rs,Db="__reactHandles$"+rs,em="__reactResources$"+rs,Or="__reactMarker$"+rs;function lc(t){delete t[xt],delete t[Mt],delete t[rc],delete t[Tb],delete t[Db]}function ga(t){var n=t[xt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[xa]||i[xt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=wx(t);t!==null;){if(i=t[xt])return i;t=wx(t)}return n}t=i,i=t.parentNode}return null}function ya(t){if(t=t[xt]||t[xa]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Mr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function ba(t){var n=t[em];return n||(n=t[em]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(t){t[Or]=!0}var tm=new Set,nm={};function Ls(t,n){va(t,n),va(t+"Capture",n)}function va(t,n){for(nm[t]=n,t=0;t<n.length;t++)tm.add(n[t])}var Ob=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sm={},am={};function Mb(t){return fa.call(am,t)?!0:fa.call(sm,t)?!1:Ob.test(t)?am[t]=!0:(sm[t]=!0,!1)}function ri(t,n,i){if(Mb(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function li(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function Bn(t,n,i,c){if(c===null)t.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+c)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rb(t,n,i){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,p=c.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(N){i=""+N,p.call(this,N)}}),Object.defineProperty(t,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(N){i=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ic(t){if(!t._valueTracker){var n=rm(t)?"checked":"value";t._valueTracker=Rb(t,n,""+t[n])}}function lm(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return t&&(c=rm(t)?t.checked?"true":"false":t.value),t=c,t!==i?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zb=/[\n"\\]/g;function an(t){return t.replace(zb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oc(t,n,i,c,h,p,N,_){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),n!=null?N==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+sn(n)):t.value!==""+sn(n)&&(t.value=""+sn(n)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),n!=null?cc(t,N,sn(n)):i!=null?cc(t,N,sn(i)):c!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+sn(_):t.removeAttribute("name")}function im(t,n,i,c,h,p,N,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){ic(t);return}i=i!=null?""+sn(i):"",n=n!=null?""+sn(n):i,_||n===t.value||(t.value=n),t.defaultValue=n}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=_?t.checked:!!c,t.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N),ic(t)}function cc(t,n,i){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ja(t,n,i,c){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&c&&(t[i].defaultSelected=!0)}else{for(i=""+sn(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function om(t,n,i){if(n!=null&&(n=""+sn(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+sn(i):""}function cm(t,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(l(92));if(oe(c)){if(1<c.length)throw Error(l(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=sn(n),t.defaultValue=i,c=t.textContent,c===i&&c!==""&&c!==null&&(t.value=c),ic(t)}function wa(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Lb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function um(t,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":c?t.setProperty(n,i):typeof i!="number"||i===0||Lb.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function dm(t,n,i){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in n)c=n[h],n.hasOwnProperty(h)&&i[h]!==c&&um(t,h,c)}else for(var p in n)n.hasOwnProperty(p)&&um(t,p,n[p])}function uc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ub=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(t){return Ub.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var dc=null;function hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Na=null,Sa=null;function hm(t){var n=ya(t);if(n&&(t=n.stateNode)){var i=t[Mt]||null;e:switch(t=n.stateNode,n.type){case"input":if(oc(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==t&&c.form===t.form){var h=c[Mt]||null;if(!h)throw Error(l(90));oc(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===t.form&&lm(c)}break e;case"textarea":om(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ja(t,!!i.multiple,n,!1)}}}var mc=!1;function mm(t,n,i){if(mc)return t(n,i);mc=!0;try{var c=t(n);return c}finally{if(mc=!1,(Na!==null||Sa!==null)&&(Ji(),Na&&(n=Na,t=Sa,Sa=Na=null,hm(n),t)))for(n=0;n<t.length;n++)hm(t[n])}}function Rr(t,n){var i=t.stateNode;if(i===null)return null;var c=i[Mt]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,n,typeof i));return i}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=!1;if(In)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){fc=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{fc=!1}var ls=null,pc=null,ci=null;function fm(){if(ci)return ci;var t,n=pc,i=n.length,c,h="value"in ls?ls.value:ls.textContent,p=h.length;for(t=0;t<i&&n[t]===h[t];t++);var N=i-t;for(c=1;c<=N&&n[i-c]===h[p-c];c++);return ci=h.slice(t,1<c?1-c:void 0)}function ui(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function di(){return!0}function pm(){return!1}function Rt(t){function n(i,c,h,p,N){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=N,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(i=t[_],this[_]=i?i(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?di:pm,this.isPropagationStopped=pm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),n}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Rt(Bs),Lr=y({},Bs,{view:0,detail:0}),Ib=Rt(Lr),xc,gc,Br,mi=y({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(xc=t.screenX-Br.screenX,gc=t.screenY-Br.screenY):gc=xc=0,Br=t),xc)},movementY:function(t){return"movementY"in t?t.movementY:gc}}),xm=Rt(mi),Pb=y({},mi,{dataTransfer:0}),$b=Rt(Pb),qb=y({},Lr,{relatedTarget:0}),yc=Rt(qb),Hb=y({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Fb=Rt(Hb),Vb=y({},Bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gb=Rt(Vb),Yb=y({},Bs,{data:0}),gm=Rt(Yb),Kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qb[t])?!!n[t]:!1}function bc(){return Xb}var Zb=y({},Lr,{key:function(t){if(t.key){var n=Kb[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wb=Rt(Zb),ev=y({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ym=Rt(ev),tv=y({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),nv=Rt(tv),sv=y({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),av=Rt(sv),rv=y({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=Rt(rv),iv=y({},Bs,{newState:0,oldState:0}),ov=Rt(iv),cv=[9,13,27,32],vc=In&&"CompositionEvent"in window,Ur=null;In&&"documentMode"in document&&(Ur=document.documentMode);var uv=In&&"TextEvent"in window&&!Ur,bm=In&&(!vc||Ur&&8<Ur&&11>=Ur),vm=" ",jm=!1;function wm(t,n){switch(t){case"keyup":return cv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function dv(t,n){switch(t){case"compositionend":return Nm(n);case"keypress":return n.which!==32?null:(jm=!0,vm);case"textInput":return t=n.data,t===vm&&jm?null:t;default:return null}}function hv(t,n){if(ka)return t==="compositionend"||!vc&&wm(t,n)?(t=fm(),ci=pc=ls=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bm&&n.locale!=="ko"?null:n.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!mv[t.type]:n==="textarea"}function km(t,n,i,c){Na?Sa?Sa.push(c):Sa=[c]:Na=c,n=no(n,"onChange"),0<n.length&&(i=new hi("onChange","change",null,i,c),t.push({event:i,listeners:n}))}var Ir=null,Pr=null;function fv(t){ox(t,0)}function fi(t){var n=Mr(t);if(lm(n))return t}function _m(t,n){if(t==="change")return n}var Cm=!1;if(In){var jc;if(In){var wc="oninput"in document;if(!wc){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),wc=typeof Am.oninput=="function"}jc=wc}else jc=!1;Cm=jc&&(!document.documentMode||9<document.documentMode)}function Em(){Ir&&(Ir.detachEvent("onpropertychange",Tm),Pr=Ir=null)}function Tm(t){if(t.propertyName==="value"&&fi(Pr)){var n=[];km(n,Pr,t,hc(t)),mm(fv,n)}}function pv(t,n,i){t==="focusin"?(Em(),Ir=n,Pr=i,Ir.attachEvent("onpropertychange",Tm)):t==="focusout"&&Em()}function xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(Pr)}function gv(t,n){if(t==="click")return fi(n)}function yv(t,n){if(t==="input"||t==="change")return fi(n)}function bv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Yt=typeof Object.is=="function"?Object.is:bv;function $r(t,n){if(Yt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!fa.call(n,h)||!Yt(t[h],n[h]))return!1}return!0}function Dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Om(t,n){var i=Dm(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=n&&c>=n)return{node:i,offset:n-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dm(i)}}function Mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=ii(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vv=In&&"documentMode"in document&&11>=document.documentMode,_a=null,Sc=null,qr=null,kc=!1;function zm(t,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;kc||_a==null||_a!==ii(c)||(c=_a,"selectionStart"in c&&Nc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qr&&$r(qr,c)||(qr=c,c=no(Sc,"onSelect"),0<c.length&&(n=new hi("onSelect","select",null,n,i),t.push({event:n,listeners:c}),n.target=_a)))}function Us(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Ca={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},_c={},Lm={};In&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Is(t){if(_c[t])return _c[t];if(!Ca[t])return t;var n=Ca[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Lm)return _c[t]=n[i];return t}var Bm=Is("animationend"),Um=Is("animationiteration"),Im=Is("animationstart"),jv=Is("transitionrun"),wv=Is("transitionstart"),Nv=Is("transitioncancel"),Pm=Is("transitionend"),$m=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function gn(t,n){$m.set(t,n),Ls(n,[t])}var pi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},rn=[],Aa=0,Ac=0;function xi(){for(var t=Aa,n=Ac=Aa=0;n<t;){var i=rn[n];rn[n++]=null;var c=rn[n];rn[n++]=null;var h=rn[n];rn[n++]=null;var p=rn[n];if(rn[n++]=null,c!==null&&h!==null){var N=c.pending;N===null?h.next=h:(h.next=N.next,N.next=h),c.pending=h}p!==0&&qm(i,h,p)}}function gi(t,n,i,c){rn[Aa++]=t,rn[Aa++]=n,rn[Aa++]=i,rn[Aa++]=c,Ac|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Ec(t,n,i,c){return gi(t,n,i,c),yi(t)}function Ps(t,n){return gi(t,null,null,n),yi(t)}function qm(t,n,i){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i);for(var h=!1,p=t.return;p!==null;)p.childLanes|=i,c=p.alternate,c!==null&&(c.childLanes|=i),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&n!==null&&(h=31-Ge(i),t=p.hiddenUpdates,c=t[h],c===null?t[h]=[n]:c.push(n),n.lane=i|536870912),p):null}function yi(t){if(50<ul)throw ul=0,Uu=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function Sv(t,n,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,n,i,c){return new Sv(t,n,i,c)}function Tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,n){var i=t.alternate;return i===null?(i=Kt(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Hm(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function bi(t,n,i,c,h,p){var N=0;if(c=t,typeof t=="function")Tc(t)&&(N=1);else if(typeof t=="string")N=Ej(t,i,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=Kt(31,i,n,h),t.elementType=Q,t.lanes=p,t;case k:return $s(i.children,h,p,n);case j:N=8,h|=24;break;case S:return t=Kt(12,i,n,h|2),t.elementType=S,t.lanes=p,t;case $:return t=Kt(13,i,n,h),t.elementType=$,t.lanes=p,t;case D:return t=Kt(19,i,n,h),t.elementType=D,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:N=10;break e;case A:N=9;break e;case L:N=11;break e;case q:N=14;break e;case G:N=16,c=null;break e}N=29,i=Error(l(130,t===null?"null":typeof t,"")),c=null}return n=Kt(N,i,n,h),n.elementType=t,n.type=c,n.lanes=p,n}function $s(t,n,i,c){return t=Kt(7,t,c,n),t.lanes=i,t}function Dc(t,n,i){return t=Kt(6,t,null,n),t.lanes=i,t}function Fm(t){var n=Kt(18,null,null,0);return n.stateNode=t,n}function Oc(t,n,i){return n=Kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vm=new WeakMap;function ln(t,n){if(typeof t=="object"&&t!==null){var i=Vm.get(t);return i!==void 0?i:(n={value:t,source:n,stack:ei(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:ei(n)}}var Ta=[],Da=0,vi=null,Hr=0,on=[],cn=0,is=null,kn=1,_n="";function $n(t,n){Ta[Da++]=Hr,Ta[Da++]=vi,vi=t,Hr=n}function Gm(t,n,i){on[cn++]=kn,on[cn++]=_n,on[cn++]=is,is=t;var c=kn;t=_n;var h=32-Ge(c)-1;c&=~(1<<h),i+=1;var p=32-Ge(n)+h;if(30<p){var N=h-h%5;p=(c&(1<<N)-1).toString(32),c>>=N,h-=N,kn=1<<32-Ge(n)+h|i<<h|c,_n=p+t}else kn=1<<p|i<<h|c,_n=t}function Mc(t){t.return!==null&&($n(t,1),Gm(t,1,0))}function Rc(t){for(;t===vi;)vi=Ta[--Da],Ta[Da]=null,Hr=Ta[--Da],Ta[Da]=null;for(;t===is;)is=on[--cn],on[cn]=null,_n=on[--cn],on[cn]=null,kn=on[--cn],on[cn]=null}function Ym(t,n){on[cn++]=kn,on[cn++]=_n,on[cn++]=is,kn=n.id,_n=n.overflow,is=t}var gt=null,Xe=null,Re=!1,os=null,un=!1,zc=Error(l(519));function cs(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(ln(n,t)),zc}function Km(t){var n=t.stateNode,i=t.type,c=t.memoizedProps;switch(n[xt]=t,n[Mt]=c,i){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(i=0;i<hl.length;i++)Ee(hl[i],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),im(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),cm(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||hx(n.textContent,i)?(c.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),c.onScroll!=null&&Ee("scroll",n),c.onScrollEnd!=null&&Ee("scrollend",n),c.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||cs(t,!0)}function Jm(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:gt=gt.return}}function Oa(t){if(t!==gt)return!1;if(!Re)return Jm(t),Re=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Wu(t.type,t.memoizedProps)),i=!i),i&&Xe&&cs(t),Jm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Xe=jx(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Xe=jx(t)}else n===27?(n=Xe,Ns(t.type)?(t=ad,ad=null,Xe=t):Xe=n):Xe=gt?hn(t.stateNode.nextSibling):null;return!0}function qs(){Xe=gt=null,Re=!1}function Lc(){var t=os;return t!==null&&(Ut===null?Ut=t:Ut.push.apply(Ut,t),os=null),t}function Fr(t){os===null?os=[t]:os.push(t)}var Bc=z(null),Hs=null,qn=null;function us(t,n,i){C(Bc,n._currentValue),n._currentValue=i}function Hn(t){t._currentValue=Bc.current,M(Bc)}function Uc(t,n,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===i)break;t=t.return}}function Ic(t,n,i,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var N=h.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=h;for(var R=0;R<n.length;R++)if(_.context===n[R]){p.lanes|=i,_=p.alternate,_!==null&&(_.lanes|=i),Uc(p.return,i,t),c||(N=null);break e}p=_.next}}else if(h.tag===18){if(N=h.return,N===null)throw Error(l(341));N.lanes|=i,p=N.alternate,p!==null&&(p.lanes|=i),Uc(N,i,t),N=null}else N=h.child;if(N!==null)N.return=h;else for(N=h;N!==null;){if(N===t){N=null;break}if(h=N.sibling,h!==null){h.return=N.return,N=h;break}N=N.return}h=N}}function Ma(t,n,i,c){t=null;for(var h=n,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var N=h.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var _=h.type;Yt(h.pendingProps.value,N.value)||(t!==null?t.push(_):t=[_])}}else if(h===de.current){if(N=h.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&Ic(n,t,i,c),n.flags|=262144}function ji(t){for(t=t.firstContext;t!==null;){if(!Yt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Qm(Hs,t)}function wi(t,n){return Hs===null&&Fs(t),Qm(t,n)}function Qm(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},qn===null){if(t===null)throw Error(l(308));qn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qn=qn.next=n;return i}var kv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,c){t.push(c)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},_v=s.unstable_scheduleCallback,Cv=s.unstable_NormalPriority,it={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new kv,data:new Map,refCount:0}}function Vr(t){t.refCount--,t.refCount===0&&_v(Cv,function(){t.controller.abort()})}var Gr=null,$c=0,Ra=0,za=null;function Av(t,n){if(Gr===null){var i=Gr=[];$c=0,Ra=Fu(),za={status:"pending",value:void 0,then:function(c){i.push(c)}}}return $c++,n.then(Xm,Xm),n}function Xm(){if(--$c===0&&Gr!==null){za!==null&&(za.status="fulfilled");var t=Gr;Gr=null,Ra=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ev(t,n){var i=[],c={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){c.status="fulfilled",c.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(c.status="rejected",c.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),c}var Zm=U.S;U.S=function(t,n){Lp=Et(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Av(t,n),Zm!==null&&Zm(t,n)};var Vs=z(null);function qc(){var t=Vs.current;return t!==null?t:Ye.pooledCache}function Ni(t,n){n===null?C(Vs,Vs.current):C(Vs,n.pool)}function Wm(){var t=qc();return t===null?null:{parent:it._currentValue,pool:t}}var La=Error(l(460)),Hc=Error(l(474)),Si=Error(l(542)),ki={then:function(){}};function ef(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tf(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(Un,Un),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sf(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(c){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=c}},function(c){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sf(t),t}throw Ys=n,La}}function Gs(t){try{var n=t._init;return n(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ys=i,La):i}}var Ys=null;function nf(){if(Ys===null)throw Error(l(459));var t=Ys;return Ys=null,t}function sf(t){if(t===La||t===Si)throw Error(l(483))}var Ba=null,Yr=0;function _i(t){var n=Yr;return Yr+=1,Ba===null&&(Ba=[]),tf(Ba,t,n)}function Kr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ci(t,n){throw n.$$typeof===w?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function af(t){function n(P,B){if(t){var H=P.deletions;H===null?(P.deletions=[B],P.flags|=16):H.push(B)}}function i(P,B){if(!t)return null;for(;B!==null;)n(P,B),B=B.sibling;return null}function c(P){for(var B=new Map;P!==null;)P.key!==null?B.set(P.key,P):B.set(P.index,P),P=P.sibling;return B}function h(P,B){return P=Pn(P,B),P.index=0,P.sibling=null,P}function p(P,B,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<B?(P.flags|=67108866,B):H):(P.flags|=67108866,B)):(P.flags|=1048576,B)}function N(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function _(P,B,H,ee){return B===null||B.tag!==6?(B=Dc(H,P.mode,ee),B.return=P,B):(B=h(B,H),B.return=P,B)}function R(P,B,H,ee){var xe=H.type;return xe===k?X(P,B,H.props.children,ee,H.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&Gs(xe)===B.type)?(B=h(B,H.props),Kr(B,H),B.return=P,B):(B=bi(H.type,H.key,H.props,null,P.mode,ee),Kr(B,H),B.return=P,B)}function F(P,B,H,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=Oc(H,P.mode,ee),B.return=P,B):(B=h(B,H.children||[]),B.return=P,B)}function X(P,B,H,ee,xe){return B===null||B.tag!==7?(B=$s(H,P.mode,ee,xe),B.return=P,B):(B=h(B,H),B.return=P,B)}function te(P,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Dc(""+B,P.mode,H),B.return=P,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return H=bi(B.type,B.key,B.props,null,P.mode,H),Kr(H,B),H.return=P,H;case v:return B=Oc(B,P.mode,H),B.return=P,B;case G:return B=Gs(B),te(P,B,H)}if(oe(B)||Z(B))return B=$s(B,P.mode,H,null),B.return=P,B;if(typeof B.then=="function")return te(P,_i(B),H);if(B.$$typeof===T)return te(P,wi(P,B),H);Ci(P,B)}return null}function V(P,B,H,ee){var xe=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return xe!==null?null:_(P,B,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===xe?R(P,B,H,ee):null;case v:return H.key===xe?F(P,B,H,ee):null;case G:return H=Gs(H),V(P,B,H,ee)}if(oe(H)||Z(H))return xe!==null?null:X(P,B,H,ee,null);if(typeof H.then=="function")return V(P,B,_i(H),ee);if(H.$$typeof===T)return V(P,B,wi(P,H),ee);Ci(P,H)}return null}function K(P,B,H,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(H)||null,_(B,P,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return P=P.get(ee.key===null?H:ee.key)||null,R(B,P,ee,xe);case v:return P=P.get(ee.key===null?H:ee.key)||null,F(B,P,ee,xe);case G:return ee=Gs(ee),K(P,B,H,ee,xe)}if(oe(ee)||Z(ee))return P=P.get(H)||null,X(B,P,ee,xe,null);if(typeof ee.then=="function")return K(P,B,H,_i(ee),xe);if(ee.$$typeof===T)return K(P,B,H,wi(B,ee),xe);Ci(B,ee)}return null}function me(P,B,H,ee){for(var xe=null,Le=null,pe=B,ke=B=0,Me=null;pe!==null&&ke<H.length;ke++){pe.index>ke?(Me=pe,pe=null):Me=pe.sibling;var Be=V(P,pe,H[ke],ee);if(Be===null){pe===null&&(pe=Me);break}t&&pe&&Be.alternate===null&&n(P,pe),B=p(Be,B,ke),Le===null?xe=Be:Le.sibling=Be,Le=Be,pe=Me}if(ke===H.length)return i(P,pe),Re&&$n(P,ke),xe;if(pe===null){for(;ke<H.length;ke++)pe=te(P,H[ke],ee),pe!==null&&(B=p(pe,B,ke),Le===null?xe=pe:Le.sibling=pe,Le=pe);return Re&&$n(P,ke),xe}for(pe=c(pe);ke<H.length;ke++)Me=K(pe,P,ke,H[ke],ee),Me!==null&&(t&&Me.alternate!==null&&pe.delete(Me.key===null?ke:Me.key),B=p(Me,B,ke),Le===null?xe=Me:Le.sibling=Me,Le=Me);return t&&pe.forEach(function(As){return n(P,As)}),Re&&$n(P,ke),xe}function ye(P,B,H,ee){if(H==null)throw Error(l(151));for(var xe=null,Le=null,pe=B,ke=B=0,Me=null,Be=H.next();pe!==null&&!Be.done;ke++,Be=H.next()){pe.index>ke?(Me=pe,pe=null):Me=pe.sibling;var As=V(P,pe,Be.value,ee);if(As===null){pe===null&&(pe=Me);break}t&&pe&&As.alternate===null&&n(P,pe),B=p(As,B,ke),Le===null?xe=As:Le.sibling=As,Le=As,pe=Me}if(Be.done)return i(P,pe),Re&&$n(P,ke),xe;if(pe===null){for(;!Be.done;ke++,Be=H.next())Be=te(P,Be.value,ee),Be!==null&&(B=p(Be,B,ke),Le===null?xe=Be:Le.sibling=Be,Le=Be);return Re&&$n(P,ke),xe}for(pe=c(pe);!Be.done;ke++,Be=H.next())Be=K(pe,P,ke,Be.value,ee),Be!==null&&(t&&Be.alternate!==null&&pe.delete(Be.key===null?ke:Be.key),B=p(Be,B,ke),Le===null?xe=Be:Le.sibling=Be,Le=Be);return t&&pe.forEach(function(Pj){return n(P,Pj)}),Re&&$n(P,ke),xe}function Ve(P,B,H,ee){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var xe=H.key;B!==null;){if(B.key===xe){if(xe=H.type,xe===k){if(B.tag===7){i(P,B.sibling),ee=h(B,H.props.children),ee.return=P,P=ee;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&Gs(xe)===B.type){i(P,B.sibling),ee=h(B,H.props),Kr(ee,H),ee.return=P,P=ee;break e}i(P,B);break}else n(P,B);B=B.sibling}H.type===k?(ee=$s(H.props.children,P.mode,ee,H.key),ee.return=P,P=ee):(ee=bi(H.type,H.key,H.props,null,P.mode,ee),Kr(ee,H),ee.return=P,P=ee)}return N(P);case v:e:{for(xe=H.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){i(P,B.sibling),ee=h(B,H.children||[]),ee.return=P,P=ee;break e}else{i(P,B);break}else n(P,B);B=B.sibling}ee=Oc(H,P.mode,ee),ee.return=P,P=ee}return N(P);case G:return H=Gs(H),Ve(P,B,H,ee)}if(oe(H))return me(P,B,H,ee);if(Z(H)){if(xe=Z(H),typeof xe!="function")throw Error(l(150));return H=xe.call(H),ye(P,B,H,ee)}if(typeof H.then=="function")return Ve(P,B,_i(H),ee);if(H.$$typeof===T)return Ve(P,B,wi(P,H),ee);Ci(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(i(P,B.sibling),ee=h(B,H),ee.return=P,P=ee):(i(P,B),ee=Dc(H,P.mode,ee),ee.return=P,P=ee),N(P)):i(P,B)}return function(P,B,H,ee){try{Yr=0;var xe=Ve(P,B,H,ee);return Ba=null,xe}catch(pe){if(pe===La||pe===Si)throw pe;var Le=Kt(29,pe,null,P.mode);return Le.lanes=ee,Le.return=P,Le}finally{}}}var Ks=af(!0),rf=af(!1),ds=!1;function Fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ms(t,n,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,n=yi(t),qm(t,null,i),n}return gi(t,c,n,i),yi(t)}function Jr(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=t.pendingLanes,i|=c,n.lanes=i,Qh(t,i)}}function Gc(t,n){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?h=p=N:p=p.next=N,i=i.next}while(i!==null);p===null?h=p=n:p=p.next=n}else h=p=n;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var Yc=!1;function Qr(){if(Yc){var t=za;if(t!==null)throw t}}function Xr(t,n,i,c){Yc=!1;var h=t.updateQueue;ds=!1;var p=h.firstBaseUpdate,N=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var R=_,F=R.next;R.next=null,N===null?p=F:N.next=F,N=R;var X=t.alternate;X!==null&&(X=X.updateQueue,_=X.lastBaseUpdate,_!==N&&(_===null?X.firstBaseUpdate=F:_.next=F,X.lastBaseUpdate=R))}if(p!==null){var te=h.baseState;N=0,X=F=R=null,_=p;do{var V=_.lane&-536870913,K=V!==_.lane;if(K?(Oe&V)===V:(c&V)===V){V!==0&&V===Ra&&(Yc=!0),X!==null&&(X=X.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var me=t,ye=_;V=n;var Ve=i;switch(ye.tag){case 1:if(me=ye.payload,typeof me=="function"){te=me.call(Ve,te,V);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,V=typeof me=="function"?me.call(Ve,te,V):me,V==null)break e;te=y({},te,V);break e;case 2:ds=!0}}V=_.callback,V!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[V]:K.push(V))}else K={lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},X===null?(F=X=K,R=te):X=X.next=K,N|=V;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;K=_,_=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(R=te),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=X,p===null&&(h.shared.lanes=0),ys|=N,t.lanes=N,t.memoizedState=te}}function lf(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function of(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)lf(i[t],n)}var Ua=z(null),Ai=z(0);function cf(t,n){t=Zn,C(Ai,t),C(Ua,n),Zn=t|n.baseLanes}function Kc(){C(Ai,Zn),C(Ua,Ua.current)}function Jc(){Zn=Ai.current,M(Ua),M(Ai)}var Jt=z(null),dn=null;function fs(t){var n=t.alternate;C(at,at.current&1),C(Jt,t),dn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(dn=t)}function Qc(t){C(at,at.current),C(Jt,t),dn===null&&(dn=t)}function uf(t){t.tag===22?(C(at,at.current),C(Jt,t),dn===null&&(dn=t)):ps()}function ps(){C(at,at.current),C(Jt,Jt.current)}function Qt(t){M(Jt),dn===t&&(dn=null),M(at)}var at=z(0);function Ei(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||nd(i)||sd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fn=0,Ne=null,He=null,ot=null,Ti=!1,Ia=!1,Js=!1,Di=0,Zr=0,Pa=null,Tv=0;function nt(){throw Error(l(321))}function Xc(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Yt(t[i],n[i]))return!1;return!0}function Zc(t,n,i,c,h,p){return Fn=p,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Yf:mu,Js=!1,p=i(c,h),Js=!1,Ia&&(p=hf(n,i,c,h)),df(t),p}function df(t){U.H=tl;var n=He!==null&&He.next!==null;if(Fn=0,ot=He=Ne=null,Ti=!1,Zr=0,Pa=null,n)throw Error(l(300));t===null||ct||(t=t.dependencies,t!==null&&ji(t)&&(ct=!0))}function hf(t,n,i,c){Ne=t;var h=0;do{if(Ia&&(Pa=null),Zr=0,Ia=!1,25<=h)throw Error(l(301));if(h+=1,ot=He=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=Kf,p=n(i,c)}while(Ia);return p}function Dv(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Wr(n):n,t=t.useState()[0],(He!==null?He.memoizedState:null)!==t&&(Ne.flags|=1024),n}function Wc(){var t=Di!==0;return Di=0,t}function eu(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function tu(t){if(Ti){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ti=!1}Fn=0,ot=He=Ne=null,Ia=!1,Zr=Di=0,Pa=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ne.memoizedState=ot=t:ot=ot.next=t,ot}function rt(){if(He===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var n=ot===null?Ne.memoizedState:ot.next;if(n!==null)ot=n,He=t;else{if(t===null)throw Ne.alternate===null?Error(l(467)):Error(l(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ot===null?Ne.memoizedState=ot=t:ot=ot.next=t}return ot}function Oi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wr(t){var n=Zr;return Zr+=1,Pa===null&&(Pa=[]),t=tf(Pa,t,n),n=Ne,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Yf:mu),t}function Mi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wr(t);if(t.$$typeof===T)return yt(t)}throw Error(l(438,String(t)))}function nu(t){var n=null,i=Ne.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Oi(),Ne.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),c=0;c<t;c++)i[c]=ie;return n.index++,i}function Vn(t,n){return typeof n=="function"?n(t):n}function Ri(t){var n=rt();return su(n,He,t)}function su(t,n,i){var c=t.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=i;var h=t.baseQueue,p=c.pending;if(p!==null){if(h!==null){var N=h.next;h.next=p.next,p.next=N}n.baseQueue=h=p,c.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{n=h.next;var _=N=null,R=null,F=n,X=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Oe&te)===te:(Fn&te)===te){var V=F.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Ra&&(X=!0);else if((Fn&V)===V){F=F.next,V===Ra&&(X=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(_=R=te,N=p):R=R.next=te,Ne.lanes|=V,ys|=V;te=F.action,Js&&i(p,te),p=F.hasEagerState?F.eagerState:i(p,te)}else V={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(_=R=V,N=p):R=R.next=V,Ne.lanes|=te,ys|=te;F=F.next}while(F!==null&&F!==n);if(R===null?N=p:R.next=_,!Yt(p,t.memoizedState)&&(ct=!0,X&&(i=za,i!==null)))throw i;t.memoizedState=p,t.baseState=N,t.baseQueue=R,c.lastRenderedState=p}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function au(t){var n=rt(),i=n.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var c=i.dispatch,h=i.pending,p=n.memoizedState;if(h!==null){i.pending=null;var N=h=h.next;do p=t(p,N.action),N=N.next;while(N!==h);Yt(p,n.memoizedState)||(ct=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,c]}function mf(t,n,i){var c=Ne,h=rt(),p=Re;if(p){if(i===void 0)throw Error(l(407));i=i()}else i=n();var N=!Yt((He||h).memoizedState,i);if(N&&(h.memoizedState=i,ct=!0),h=h.queue,iu(xf.bind(null,c,h,t),[t]),h.getSnapshot!==n||N||ot!==null&&ot.memoizedState.tag&1){if(c.flags|=2048,$a(9,{destroy:void 0},pf.bind(null,c,h,i,n),null),Ye===null)throw Error(l(349));p||(Fn&127)!==0||ff(c,n,i)}return i}function ff(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Ne.updateQueue,n===null?(n=Oi(),Ne.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function pf(t,n,i,c){n.value=i,n.getSnapshot=c,gf(n)&&yf(t)}function xf(t,n,i){return i(function(){gf(n)&&yf(t)})}function gf(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Yt(t,i)}catch{return!0}}function yf(t){var n=Ps(t,2);n!==null&&It(n,t,2)}function ru(t){var n=Dt();if(typeof t=="function"){var i=t;if(t=i(),Js){Ot(!0);try{i()}finally{Ot(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:t},n}function bf(t,n,i,c){return t.baseState=i,su(t,He,typeof c=="function"?c:Vn)}function Ov(t,n,i,c,h){if(Bi(t))throw Error(l(485));if(t=n.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){p.listeners.push(N)}};U.T!==null?i(!0):p.isTransition=!1,c(p),i=n.pending,i===null?(p.next=n.pending=p,vf(n,p)):(p.next=i.next,n.pending=i.next=p)}}function vf(t,n){var i=n.action,c=n.payload,h=t.state;if(n.isTransition){var p=U.T,N={};U.T=N;try{var _=i(h,c),R=U.S;R!==null&&R(N,_),jf(t,n,_)}catch(F){lu(t,n,F)}finally{p!==null&&N.types!==null&&(p.types=N.types),U.T=p}}else try{p=i(h,c),jf(t,n,p)}catch(F){lu(t,n,F)}}function jf(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){wf(t,n,c)},function(c){return lu(t,n,c)}):wf(t,n,i)}function wf(t,n,i){n.status="fulfilled",n.value=i,Nf(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,vf(t,i)))}function lu(t,n,i){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Nf(n),n=n.next;while(n!==c)}t.action=null}function Nf(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sf(t,n){return n}function kf(t,n){if(Re){var i=Ye.formState;if(i!==null){e:{var c=Ne;if(Re){if(Xe){t:{for(var h=Xe,p=un;h.nodeType!==8;){if(!p){h=null;break t}if(h=hn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Xe=hn(h.nextSibling),c=h.data==="F!";break e}}cs(c)}c=!1}c&&(n=i[0])}}return i=Dt(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:n},i.queue=c,i=Ff.bind(null,Ne,c),c.dispatch=i,c=ru(!1),p=hu.bind(null,Ne,!1,c.queue),c=Dt(),h={state:n,dispatch:null,action:t,pending:null},c.queue=h,i=Ov.bind(null,Ne,h,p,i),h.dispatch=i,c.memoizedState=t,[n,i,!1]}function _f(t){var n=rt();return Cf(n,He,t)}function Cf(t,n,i){if(n=su(t,n,Sf)[0],t=Ri(Vn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Wr(n)}catch(N){throw N===La?Si:N}else c=n;n=rt();var h=n.queue,p=h.dispatch;return i!==n.memoizedState&&(Ne.flags|=2048,$a(9,{destroy:void 0},Mv.bind(null,h,i),null)),[c,p,t]}function Mv(t,n){t.action=n}function Af(t){var n=rt(),i=He;if(i!==null)return Cf(n,i,t);rt(),n=n.memoizedState,i=rt();var c=i.queue.dispatch;return i.memoizedState=t,[n,c,!1]}function $a(t,n,i,c){return t={tag:t,create:i,deps:c,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Oi(),Ne.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,n.lastEffect=t),t}function Ef(){return rt().memoizedState}function zi(t,n,i,c){var h=Dt();Ne.flags|=t,h.memoizedState=$a(1|n,{destroy:void 0},i,c===void 0?null:c)}function Li(t,n,i,c){var h=rt();c=c===void 0?null:c;var p=h.memoizedState.inst;He!==null&&c!==null&&Xc(c,He.memoizedState.deps)?h.memoizedState=$a(n,p,i,c):(Ne.flags|=t,h.memoizedState=$a(1|n,p,i,c))}function Tf(t,n){zi(8390656,8,t,n)}function iu(t,n){Li(2048,8,t,n)}function Rv(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Oi(),Ne.updateQueue=n,n.events=[t];else{var i=n.events;i===null?n.events=[t]:i.push(t)}}function Df(t){var n=rt().memoizedState;return Rv({ref:n,nextImpl:t}),function(){if((Ue&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Of(t,n){return Li(4,2,t,n)}function Mf(t,n){return Li(4,4,t,n)}function Rf(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zf(t,n,i){i=i!=null?i.concat([t]):null,Li(4,4,Rf.bind(null,n,t),i)}function ou(){}function Lf(t,n){var i=rt();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&Xc(n,c[1])?c[0]:(i.memoizedState=[t,n],t)}function Bf(t,n){var i=rt();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&Xc(n,c[1]))return c[0];if(c=t(),Js){Ot(!0);try{t()}finally{Ot(!1)}}return i.memoizedState=[c,n],c}function cu(t,n,i){return i===void 0||(Fn&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=i,t=Up(),Ne.lanes|=t,ys|=t,i)}function Uf(t,n,i,c){return Yt(i,n)?i:Ua.current!==null?(t=cu(t,i,c),Yt(t,n)||(ct=!0),t):(Fn&42)===0||(Fn&1073741824)!==0&&(Oe&261930)===0?(ct=!0,t.memoizedState=i):(t=Up(),Ne.lanes|=t,ys|=t,n)}function If(t,n,i,c,h){var p=ne.p;ne.p=p!==0&&8>p?p:8;var N=U.T,_={};U.T=_,hu(t,!1,n,i);try{var R=h(),F=U.S;if(F!==null&&F(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=Ev(R,c);el(t,n,X,Wt(t))}else el(t,n,c,Wt(t))}catch(te){el(t,n,{then:function(){},status:"rejected",reason:te},Wt())}finally{ne.p=p,N!==null&&_.types!==null&&(N.types=_.types),U.T=N}}function zv(){}function uu(t,n,i,c){if(t.tag!==5)throw Error(l(476));var h=Pf(t).queue;If(t,h,n,ue,i===null?zv:function(){return $f(t),i(c)})}function Pf(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ue},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $f(t){var n=Pf(t);n.next===null&&(n=t.alternate.memoizedState),el(t,n.next.queue,{},Wt())}function du(){return yt(gl)}function qf(){return rt().memoizedState}function Hf(){return rt().memoizedState}function Lv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=Wt();t=hs(i);var c=ms(n,t,i);c!==null&&(It(c,n,i),Jr(c,n,i)),n={cache:Pc()},t.payload=n;return}n=n.return}}function Bv(t,n,i){var c=Wt();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Bi(t)?Vf(n,i):(i=Ec(t,n,i,c),i!==null&&(It(i,t,c),Gf(i,n,c)))}function Ff(t,n,i){var c=Wt();el(t,n,i,c)}function el(t,n,i,c){var h={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Bi(t))Vf(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var N=n.lastRenderedState,_=p(N,i);if(h.hasEagerState=!0,h.eagerState=_,Yt(_,N))return gi(t,n,h,0),Ye===null&&xi(),!1}catch{}finally{}if(i=Ec(t,n,h,c),i!==null)return It(i,t,c),Gf(i,n,c),!0}return!1}function hu(t,n,i,c){if(c={lane:2,revertLane:Fu(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Bi(t)){if(n)throw Error(l(479))}else n=Ec(t,i,c,2),n!==null&&It(n,t,2)}function Bi(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Vf(t,n){Ia=Ti=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Gf(t,n,i){if((i&4194048)!==0){var c=n.lanes;c&=t.pendingLanes,i|=c,n.lanes=i,Qh(t,i)}}var tl={readContext:yt,use:Mi,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};tl.useEffectEvent=nt;var Yf={readContext:yt,use:Mi,useCallback:function(t,n){return Dt().memoizedState=[t,n===void 0?null:n],t},useContext:yt,useEffect:Tf,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,zi(4194308,4,Rf.bind(null,n,t),i)},useLayoutEffect:function(t,n){return zi(4194308,4,t,n)},useInsertionEffect:function(t,n){zi(4,2,t,n)},useMemo:function(t,n){var i=Dt();n=n===void 0?null:n;var c=t();if(Js){Ot(!0);try{t()}finally{Ot(!1)}}return i.memoizedState=[c,n],c},useReducer:function(t,n,i){var c=Dt();if(i!==void 0){var h=i(n);if(Js){Ot(!0);try{i(n)}finally{Ot(!1)}}}else h=n;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=Bv.bind(null,Ne,t),[c.memoizedState,t]},useRef:function(t){var n=Dt();return t={current:t},n.memoizedState=t},useState:function(t){t=ru(t);var n=t.queue,i=Ff.bind(null,Ne,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:ou,useDeferredValue:function(t,n){var i=Dt();return cu(i,t,n)},useTransition:function(){var t=ru(!1);return t=If.bind(null,Ne,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var c=Ne,h=Dt();if(Re){if(i===void 0)throw Error(l(407));i=i()}else{if(i=n(),Ye===null)throw Error(l(349));(Oe&127)!==0||ff(c,n,i)}h.memoizedState=i;var p={value:i,getSnapshot:n};return h.queue=p,Tf(xf.bind(null,c,p,t),[t]),c.flags|=2048,$a(9,{destroy:void 0},pf.bind(null,c,p,i,n),null),i},useId:function(){var t=Dt(),n=Ye.identifierPrefix;if(Re){var i=_n,c=kn;i=(c&~(1<<32-Ge(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Di++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Tv++,n="_"+n+"r_"+i.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:du,useFormState:kf,useActionState:kf,useOptimistic:function(t){var n=Dt();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=hu.bind(null,Ne,!0,i),i.dispatch=n,[t,n]},useMemoCache:nu,useCacheRefresh:function(){return Dt().memoizedState=Lv.bind(null,Ne)},useEffectEvent:function(t){var n=Dt(),i={impl:t};return n.memoizedState=i,function(){if((Ue&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},mu={readContext:yt,use:Mi,useCallback:Lf,useContext:yt,useEffect:iu,useImperativeHandle:zf,useInsertionEffect:Of,useLayoutEffect:Mf,useMemo:Bf,useReducer:Ri,useRef:Ef,useState:function(){return Ri(Vn)},useDebugValue:ou,useDeferredValue:function(t,n){var i=rt();return Uf(i,He.memoizedState,t,n)},useTransition:function(){var t=Ri(Vn)[0],n=rt().memoizedState;return[typeof t=="boolean"?t:Wr(t),n]},useSyncExternalStore:mf,useId:qf,useHostTransitionStatus:du,useFormState:_f,useActionState:_f,useOptimistic:function(t,n){var i=rt();return bf(i,He,t,n)},useMemoCache:nu,useCacheRefresh:Hf};mu.useEffectEvent=Df;var Kf={readContext:yt,use:Mi,useCallback:Lf,useContext:yt,useEffect:iu,useImperativeHandle:zf,useInsertionEffect:Of,useLayoutEffect:Mf,useMemo:Bf,useReducer:au,useRef:Ef,useState:function(){return au(Vn)},useDebugValue:ou,useDeferredValue:function(t,n){var i=rt();return He===null?cu(i,t,n):Uf(i,He.memoizedState,t,n)},useTransition:function(){var t=au(Vn)[0],n=rt().memoizedState;return[typeof t=="boolean"?t:Wr(t),n]},useSyncExternalStore:mf,useId:qf,useHostTransitionStatus:du,useFormState:Af,useActionState:Af,useOptimistic:function(t,n){var i=rt();return He!==null?bf(i,He,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:nu,useCacheRefresh:Hf};Kf.useEffectEvent=Df;function fu(t,n,i,c){n=t.memoizedState,i=i(c,n),i=i==null?n:y({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var pu={enqueueSetState:function(t,n,i){t=t._reactInternals;var c=Wt(),h=hs(c);h.payload=n,i!=null&&(h.callback=i),n=ms(t,h,c),n!==null&&(It(n,t,c),Jr(n,t,c))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var c=Wt(),h=hs(c);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=ms(t,h,c),n!==null&&(It(n,t,c),Jr(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Wt(),c=hs(i);c.tag=2,n!=null&&(c.callback=n),n=ms(t,c,i),n!==null&&(It(n,t,i),Jr(n,t,i))}};function Jf(t,n,i,c,h,p,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,N):n.prototype&&n.prototype.isPureReactComponent?!$r(i,c)||!$r(h,p):!0}function Qf(t,n,i,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==t&&pu.enqueueReplaceState(n,n.state,null)}function Qs(t,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(t=t.defaultProps){i===n&&(i=y({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function Xf(t){pi(t)}function Zf(t){console.error(t)}function Wf(t){pi(t)}function Ui(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function ep(t,n,i){try{var c=t.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xu(t,n,i){return i=hs(i),i.tag=3,i.payload={element:null},i.callback=function(){Ui(t,n)},i}function tp(t){return t=hs(t),t.tag=3,t}function np(t,n,i,c){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;t.payload=function(){return h(p)},t.callback=function(){ep(n,i,c)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){ep(n,i,c),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function Uv(t,n,i,c,h){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&Ma(n,i,h,!0),i=Jt.current,i!==null){switch(i.tag){case 31:case 13:return dn===null?Qi():i.alternate===null&&st===0&&(st=3),i.flags&=-257,i.flags|=65536,i.lanes=h,c===ki?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),$u(t,c,h)),!1;case 22:return i.flags|=65536,c===ki?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),$u(t,c,h)),!1}throw Error(l(435,i.tag))}return $u(t,c,h),Qi(),!1}if(Re)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,c!==zc&&(t=Error(l(422),{cause:c}),Fr(ln(t,i)))):(c!==zc&&(n=Error(l(423),{cause:c}),Fr(ln(n,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=ln(c,i),h=xu(t.stateNode,c,h),Gc(t,h),st!==4&&(st=2)),!1;var p=Error(l(520),{cause:c});if(p=ln(p,i),cl===null?cl=[p]:cl.push(p),st!==4&&(st=2),n===null)return!0;c=ln(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=xu(i.stateNode,c,t),Gc(i,t),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(bs===null||!bs.has(p))))return i.flags|=65536,h&=-h,i.lanes|=h,h=tp(h),np(h,t,i,c),Gc(i,h),!1}i=i.return}while(i!==null);return!1}var gu=Error(l(461)),ct=!1;function bt(t,n,i,c){n.child=t===null?rf(n,null,i,c):Ks(n,t.child,i,c)}function sp(t,n,i,c,h){i=i.render;var p=n.ref;if("ref"in c){var N={};for(var _ in c)_!=="ref"&&(N[_]=c[_])}else N=c;return Fs(n),c=Zc(t,n,i,N,p,h),_=Wc(),t!==null&&!ct?(eu(t,n,h),Gn(t,n,h)):(Re&&_&&Mc(n),n.flags|=1,bt(t,n,c,h),n.child)}function ap(t,n,i,c,h){if(t===null){var p=i.type;return typeof p=="function"&&!Tc(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,rp(t,n,p,c,h)):(t=bi(i.type,null,c,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!ku(t,h)){var N=p.memoizedProps;if(i=i.compare,i=i!==null?i:$r,i(N,c)&&t.ref===n.ref)return Gn(t,n,h)}return n.flags|=1,t=Pn(p,c),t.ref=n.ref,t.return=n,n.child=t}function rp(t,n,i,c,h){if(t!==null){var p=t.memoizedProps;if($r(p,c)&&t.ref===n.ref)if(ct=!1,n.pendingProps=c=p,ku(t,h))(t.flags&131072)!==0&&(ct=!0);else return n.lanes=t.lanes,Gn(t,n,h)}return yu(t,n,i,c,h)}function lp(t,n,i,c){var h=c.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~p}else c=0,n.child=null;return ip(t,n,p,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ni(n,p!==null?p.cachePool:null),p!==null?cf(n,p):Kc(),uf(n);else return c=n.lanes=536870912,ip(t,n,p!==null?p.baseLanes|i:i,i,c)}else p!==null?(Ni(n,p.cachePool),cf(n,p),ps(),n.memoizedState=null):(t!==null&&Ni(n,null),Kc(),ps());return bt(t,n,h,i),n.child}function nl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ip(t,n,i,c,h){var p=qc();return p=p===null?null:{parent:it._currentValue,pool:p},n.memoizedState={baseLanes:i,cachePool:p},t!==null&&Ni(n,null),Kc(),uf(n),t!==null&&Ma(t,n,c,!0),n.childLanes=h,null}function Ii(t,n){return n=$i({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function op(t,n,i){return Ks(n,t.child,null,i),t=Ii(n,n.pendingProps),t.flags|=2,Qt(n),n.memoizedState=null,t}function Iv(t,n,i){var c=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Re){if(c.mode==="hidden")return t=Ii(n,c),n.lanes=536870912,nl(null,t);if(Qc(n),(t=Xe)?(t=vx(t,un),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:is!==null?{id:kn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},i=Fm(t),i.return=n,n.child=i,gt=n,Xe=null)):t=null,t===null)throw cs(n);return n.lanes=536870912,null}return Ii(n,c)}var p=t.memoizedState;if(p!==null){var N=p.dehydrated;if(Qc(n),h)if(n.flags&256)n.flags&=-257,n=op(t,n,i);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(ct||Ma(t,n,i,!1),h=(i&t.childLanes)!==0,ct||h){if(c=Ye,c!==null&&(N=Xh(c,i),N!==0&&N!==p.retryLane))throw p.retryLane=N,Ps(t,N),It(c,t,N),gu;Qi(),n=op(t,n,i)}else t=p.treeContext,Xe=hn(N.nextSibling),gt=n,Re=!0,os=null,un=!1,t!==null&&Ym(n,t),n=Ii(n,c),n.flags|=4096;return n}return t=Pn(t.child,{mode:c.mode,children:c.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Pi(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function yu(t,n,i,c,h){return Fs(n),i=Zc(t,n,i,c,void 0,h),c=Wc(),t!==null&&!ct?(eu(t,n,h),Gn(t,n,h)):(Re&&c&&Mc(n),n.flags|=1,bt(t,n,i,h),n.child)}function cp(t,n,i,c,h,p){return Fs(n),n.updateQueue=null,i=hf(n,c,i,h),df(t),c=Wc(),t!==null&&!ct?(eu(t,n,p),Gn(t,n,p)):(Re&&c&&Mc(n),n.flags|=1,bt(t,n,i,p),n.child)}function up(t,n,i,c,h){if(Fs(n),n.stateNode===null){var p=Ea,N=i.contextType;typeof N=="object"&&N!==null&&(p=yt(N)),p=new i(c,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=pu,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=c,p.state=n.memoizedState,p.refs={},Fc(n),N=i.contextType,p.context=typeof N=="object"&&N!==null?yt(N):Ea,p.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(fu(n,i,N,c),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(N=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),N!==p.state&&pu.enqueueReplaceState(p,p.state,null),Xr(n,c,p,h),Qr(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(t===null){p=n.stateNode;var _=n.memoizedProps,R=Qs(i,_);p.props=R;var F=p.context,X=i.contextType;N=Ea,typeof X=="object"&&X!==null&&(N=yt(X));var te=i.getDerivedStateFromProps;X=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||F!==N)&&Qf(n,p,c,N),ds=!1;var V=n.memoizedState;p.state=V,Xr(n,c,p,h),Qr(),F=n.memoizedState,_||V!==F||ds?(typeof te=="function"&&(fu(n,i,te,c),F=n.memoizedState),(R=ds||Jf(n,i,R,c,V,F,N))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=F),p.props=c,p.state=F,p.context=N,c=R):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{p=n.stateNode,Vc(t,n),N=n.memoizedProps,X=Qs(i,N),p.props=X,te=n.pendingProps,V=p.context,F=i.contextType,R=Ea,typeof F=="object"&&F!==null&&(R=yt(F)),_=i.getDerivedStateFromProps,(F=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(N!==te||V!==R)&&Qf(n,p,c,R),ds=!1,V=n.memoizedState,p.state=V,Xr(n,c,p,h),Qr();var K=n.memoizedState;N!==te||V!==K||ds||t!==null&&t.dependencies!==null&&ji(t.dependencies)?(typeof _=="function"&&(fu(n,i,_,c),K=n.memoizedState),(X=ds||Jf(n,i,X,c,V,K,R)||t!==null&&t.dependencies!==null&&ji(t.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,K,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,K,R)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||N===t.memoizedProps&&V===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&V===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=K),p.props=c,p.state=K,p.context=R,c=X):(typeof p.componentDidUpdate!="function"||N===t.memoizedProps&&V===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&V===t.memoizedState||(n.flags|=1024),c=!1)}return p=c,Pi(t,n),c=(n.flags&128)!==0,p||c?(p=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&c?(n.child=Ks(n,t.child,null,h),n.child=Ks(n,null,i,h)):bt(t,n,i,h),n.memoizedState=p.state,t=n.child):t=Gn(t,n,h),t}function dp(t,n,i,c){return qs(),n.flags|=256,bt(t,n,i,c),n.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(t){return{baseLanes:t,cachePool:Wm()}}function ju(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Zt),t}function hp(t,n,i){var c=n.pendingProps,h=!1,p=(n.flags&128)!==0,N;if((N=p)||(N=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),N&&(h=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,t===null){if(Re){if(h?fs(n):ps(),(t=Xe)?(t=vx(t,un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:is!==null?{id:kn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},i=Fm(t),i.return=n,n.child=i,gt=n,Xe=null)):t=null,t===null)throw cs(n);return sd(t)?n.lanes=32:n.lanes=536870912,null}var _=c.children;return c=c.fallback,h?(ps(),h=n.mode,_=$i({mode:"hidden",children:_},h),c=$s(c,h,i,null),_.return=n,c.return=n,_.sibling=c,n.child=_,c=n.child,c.memoizedState=vu(i),c.childLanes=ju(t,N,i),n.memoizedState=bu,nl(null,c)):(fs(n),wu(n,_))}var R=t.memoizedState;if(R!==null&&(_=R.dehydrated,_!==null)){if(p)n.flags&256?(fs(n),n.flags&=-257,n=Nu(t,n,i)):n.memoizedState!==null?(ps(),n.child=t.child,n.flags|=128,n=null):(ps(),_=c.fallback,h=n.mode,c=$i({mode:"visible",children:c.children},h),_=$s(_,h,i,null),_.flags|=2,c.return=n,_.return=n,c.sibling=_,n.child=c,Ks(n,t.child,null,i),c=n.child,c.memoizedState=vu(i),c.childLanes=ju(t,N,i),n.memoizedState=bu,n=nl(null,c));else if(fs(n),sd(_)){if(N=_.nextSibling&&_.nextSibling.dataset,N)var F=N.dgst;N=F,c=Error(l(419)),c.stack="",c.digest=N,Fr({value:c,source:null,stack:null}),n=Nu(t,n,i)}else if(ct||Ma(t,n,i,!1),N=(i&t.childLanes)!==0,ct||N){if(N=Ye,N!==null&&(c=Xh(N,i),c!==0&&c!==R.retryLane))throw R.retryLane=c,Ps(t,c),It(N,t,c),gu;nd(_)||Qi(),n=Nu(t,n,i)}else nd(_)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Xe=hn(_.nextSibling),gt=n,Re=!0,os=null,un=!1,t!==null&&Ym(n,t),n=wu(n,c.children),n.flags|=4096);return n}return h?(ps(),_=c.fallback,h=n.mode,R=t.child,F=R.sibling,c=Pn(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,F!==null?_=Pn(F,_):(_=$s(_,h,i,null),_.flags|=2),_.return=n,c.return=n,c.sibling=_,n.child=c,nl(null,c),c=n.child,_=t.child.memoizedState,_===null?_=vu(i):(h=_.cachePool,h!==null?(R=it._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Wm(),_={baseLanes:_.baseLanes|i,cachePool:h}),c.memoizedState=_,c.childLanes=ju(t,N,i),n.memoizedState=bu,nl(t.child,c)):(fs(n),i=t.child,t=i.sibling,i=Pn(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,t!==null&&(N=n.deletions,N===null?(n.deletions=[t],n.flags|=16):N.push(t)),n.child=i,n.memoizedState=null,i)}function wu(t,n){return n=$i({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $i(t,n){return t=Kt(22,t,null,n),t.lanes=0,t}function Nu(t,n,i){return Ks(n,t.child,null,i),t=wu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function mp(t,n,i){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),Uc(t.return,n,i)}function Su(t,n,i,c,h,p){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h,treeForkCount:p}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=i,N.tailMode=h,N.treeForkCount=p)}function fp(t,n,i){var c=n.pendingProps,h=c.revealOrder,p=c.tail;c=c.children;var N=at.current,_=(N&2)!==0;if(_?(N=N&1|2,n.flags|=128):N&=1,C(at,N),bt(t,n,c,i),c=Re?Hr:0,!_&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,i,n);else if(t.tag===19)mp(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&Ei(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Su(n,!1,h,i,p,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ei(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Su(n,!0,i,null,p,c);break;case"together":Su(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Gn(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ys|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Ma(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,i=Pn(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Pn(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function ku(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ji(t)))}function Pv(t,n,i){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),us(n,it,t.memoizedState.cache),qs();break;case 27:case 5:tt(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qc(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(fs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?hp(t,n,i):(fs(n),t=Gn(t,n,i),t!==null?t.sibling:null);fs(n);break;case 19:var h=(t.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(Ma(t,n,i,!1),c=(i&n.childLanes)!==0),h){if(c)return fp(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),C(at,at.current),c)break;return null;case 22:return n.lanes=0,lp(t,n,i,n.pendingProps);case 24:us(n,it,t.memoizedState.cache)}return Gn(t,n,i)}function pp(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)ct=!0;else{if(!ku(t,i)&&(n.flags&128)===0)return ct=!1,Pv(t,n,i);ct=(t.flags&131072)!==0}else ct=!1,Re&&(n.flags&1048576)!==0&&Gm(n,Hr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(t=Gs(n.elementType),n.type=t,typeof t=="function")Tc(t)?(c=Qs(t,c),n.tag=1,n=up(null,n,t,c,i)):(n.tag=0,n=yu(null,n,t,c,i));else{if(t!=null){var h=t.$$typeof;if(h===L){n.tag=11,n=sp(null,n,t,c,i);break e}else if(h===q){n.tag=14,n=ap(null,n,t,c,i);break e}}throw n=se(t)||t,Error(l(306,n,""))}}return n;case 0:return yu(t,n,n.type,n.pendingProps,i);case 1:return c=n.type,h=Qs(c,n.pendingProps),up(t,n,c,h,i);case 3:e:{if(je(n,n.stateNode.containerInfo),t===null)throw Error(l(387));c=n.pendingProps;var p=n.memoizedState;h=p.element,Vc(t,n),Xr(n,c,null,i);var N=n.memoizedState;if(c=N.cache,us(n,it,c),c!==p.cache&&Ic(n,[it],i,!0),Qr(),c=N.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=dp(t,n,c,i);break e}else if(c!==h){h=ln(Error(l(424)),n),Fr(h),n=dp(t,n,c,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xe=hn(t.firstChild),gt=n,Re=!0,os=null,un=!0,i=rf(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(qs(),c===h){n=Gn(t,n,i);break e}bt(t,n,c,i)}n=n.child}return n;case 26:return Pi(t,n),t===null?(i=_x(n.type,null,n.pendingProps,null))?n.memoizedState=i:Re||(i=n.type,t=n.pendingProps,c=so(I.current).createElement(i),c[xt]=n,c[Mt]=t,vt(c,i,t),ft(c),n.stateNode=c):n.memoizedState=_x(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return tt(n),t===null&&Re&&(c=n.stateNode=Nx(n.type,n.pendingProps,I.current),gt=n,un=!0,h=Xe,Ns(n.type)?(ad=h,Xe=hn(c.firstChild)):Xe=h),bt(t,n,n.pendingProps.children,i),Pi(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Re&&((h=c=Xe)&&(c=xj(c,n.type,n.pendingProps,un),c!==null?(n.stateNode=c,gt=n,Xe=hn(c.firstChild),un=!1,h=!0):h=!1),h||cs(n)),tt(n),h=n.type,p=n.pendingProps,N=t!==null?t.memoizedProps:null,c=p.children,Wu(h,p)?c=null:N!==null&&Wu(h,N)&&(n.flags|=32),n.memoizedState!==null&&(h=Zc(t,n,Dv,null,null,i),gl._currentValue=h),Pi(t,n),bt(t,n,c,i),n.child;case 6:return t===null&&Re&&((t=i=Xe)&&(i=gj(i,n.pendingProps,un),i!==null?(n.stateNode=i,gt=n,Xe=null,t=!0):t=!1),t||cs(n)),null;case 13:return hp(t,n,i);case 4:return je(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=Ks(n,null,c,i):bt(t,n,c,i),n.child;case 11:return sp(t,n,n.type,n.pendingProps,i);case 7:return bt(t,n,n.pendingProps,i),n.child;case 8:return bt(t,n,n.pendingProps.children,i),n.child;case 12:return bt(t,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,us(n,n.type,c.value),bt(t,n,c.children,i),n.child;case 9:return h=n.type._context,c=n.pendingProps.children,Fs(n),h=yt(h),c=c(h),n.flags|=1,bt(t,n,c,i),n.child;case 14:return ap(t,n,n.type,n.pendingProps,i);case 15:return rp(t,n,n.type,n.pendingProps,i);case 19:return fp(t,n,i);case 31:return Iv(t,n,i);case 22:return lp(t,n,i,n.pendingProps);case 24:return Fs(n),c=yt(it),t===null?(h=qc(),h===null&&(h=Ye,p=Pc(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=i),h=p),n.memoizedState={parent:c,cache:h},Fc(n),us(n,it,h)):((t.lanes&i)!==0&&(Vc(t,n),Xr(n,null,null,i),Qr()),h=t.memoizedState,p=n.memoizedState,h.parent!==c?(h={parent:c,cache:c},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),us(n,it,c)):(c=p.cache,us(n,it,c),c!==h.cache&&Ic(n,[it],i,!0))),bt(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Yn(t){t.flags|=4}function _u(t,n,i,c,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(qp())t.flags|=8192;else throw Ys=ki,Hc}else t.flags&=-16777217}function xp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dx(n))if(qp())t.flags|=8192;else throw Ys=ki,Hc}function qi(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Kh():536870912,t.lanes|=n,Va|=n)}function sl(t,n){if(!Re)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ze(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=i,n}function $v(t,n,i){var c=n.pendingProps;switch(Rc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return Ze(n),null;case 3:return i=n.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Hn(it),De(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?Yn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lc())),Ze(n),null;case 26:var h=n.type,p=n.memoizedState;return t===null?(Yn(n),p!==null?(Ze(n),xp(n,p)):(Ze(n),_u(n,h,null,c,i))):p?p!==t.memoizedState?(Yn(n),Ze(n),xp(n,p)):(Ze(n),n.flags&=-16777217):(t=t.memoizedProps,t!==c&&Yn(n),Ze(n),_u(n,h,t,c,i)),null;case 27:if(Rn(n),i=I.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Yn(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return Ze(n),null}t=ae.current,Oa(n)?Km(n):(t=Nx(h,c,i),n.stateNode=t,Yn(n))}return Ze(n),null;case 5:if(Rn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Yn(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return Ze(n),null}if(p=ae.current,Oa(n))Km(n);else{var N=so(I.current);switch(p){case 1:p=N.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=N.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=N.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=N.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=N.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?N.createElement(h,{is:c.is}):N.createElement(h)}}p[xt]=n,p[Mt]=c;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)p.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=p;e:switch(vt(p,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Yn(n)}}return Ze(n),_u(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,i),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==c&&Yn(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(l(166));if(t=I.current,Oa(n)){if(t=n.stateNode,i=n.memoizedProps,c=null,h=gt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||hx(t.nodeValue,i)),t||cs(n,!0)}else t=so(t).createTextNode(c),t[xt]=n,n.stateNode=t}return Ze(n),null;case 31:if(i=n.memoizedState,t===null||t.memoizedState!==null){if(c=Oa(n),i!==null){if(t===null){if(!c)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[xt]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),t=!1}else i=Lc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return n.flags&256?(Qt(n),n):(Qt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Ze(n),null;case 13:if(c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(l(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[xt]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),h=!1}else h=Lc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Qt(n),n):(Qt(n),null)}return Qt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,t=t!==null&&t.memoizedState!==null,i&&(c=n.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)),i!==t&&i&&(n.child.flags|=8192),qi(n,n.updateQueue),Ze(n),null);case 4:return De(),t===null&&Ku(n.stateNode.containerInfo),Ze(n),null;case 10:return Hn(n.type),Ze(n),null;case 19:if(M(at),c=n.memoizedState,c===null)return Ze(n),null;if(h=(n.flags&128)!==0,p=c.rendering,p===null)if(h)sl(c,!1);else{if(st!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=Ei(t),p!==null){for(n.flags|=128,sl(c,!1),t=p.updateQueue,n.updateQueue=t,qi(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)Hm(i,t),i=i.sibling;return C(at,at.current&1|2),Re&&$n(n,c.treeForkCount),n.child}t=t.sibling}c.tail!==null&&Et()>Yi&&(n.flags|=128,h=!0,sl(c,!1),n.lanes=4194304)}else{if(!h)if(t=Ei(p),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,qi(n,t),sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Re)return Ze(n),null}else 2*Et()-c.renderingStartTime>Yi&&i!==536870912&&(n.flags|=128,h=!0,sl(c,!1),n.lanes=4194304);c.isBackwards?(p.sibling=n.child,n.child=p):(t=c.last,t!==null?t.sibling=p:n.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Et(),t.sibling=null,i=at.current,C(at,h?i&1|2:i&1),Re&&$n(n,c.treeForkCount),t):(Ze(n),null);case 22:case 23:return Qt(n),Jc(),c=n.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),i=n.updateQueue,i!==null&&qi(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),t!==null&&M(Vs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Hn(it),Ze(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function qv(t,n){switch(Rc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hn(it),De(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rn(n),null;case 31:if(n.memoizedState!==null){if(Qt(n),n.alternate===null)throw Error(l(340));qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Qt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return M(at),null;case 4:return De(),null;case 10:return Hn(n.type),null;case 22:case 23:return Qt(n),Jc(),t!==null&&M(Vs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hn(it),null;case 25:return null;default:return null}}function gp(t,n){switch(Rc(n),n.tag){case 3:Hn(it),De();break;case 26:case 27:case 5:Rn(n);break;case 4:De();break;case 31:n.memoizedState!==null&&Qt(n);break;case 13:Qt(n);break;case 19:M(at);break;case 10:Hn(n.type);break;case 22:case 23:Qt(n),Jc(),t!==null&&M(Vs);break;case 24:Hn(it)}}function al(t,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&t)===t){c=void 0;var p=i.create,N=i.inst;c=p(),N.destroy=c}i=i.next}while(i!==h)}}catch(_){qe(n,n.return,_)}}function xs(t,n,i){try{var c=n.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&t)===t){var N=c.inst,_=N.destroy;if(_!==void 0){N.destroy=void 0,h=n;var R=i,F=_;try{F()}catch(X){qe(h,R,X)}}}c=c.next}while(c!==p)}}catch(X){qe(n,n.return,X)}}function yp(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{of(n,i)}catch(c){qe(t,t.return,c)}}}function bp(t,n,i){i.props=Qs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(c){qe(t,n,c)}}function rl(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof i=="function"?t.refCleanup=i(c):i.current=c}}catch(h){qe(t,n,h)}}function Cn(t,n){var i=t.ref,c=t.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(h){qe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){qe(t,n,h)}else i.current=null}function vp(t){var n=t.type,i=t.memoizedProps,c=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(h){qe(t,t.return,h)}}function Cu(t,n,i){try{var c=t.stateNode;uj(c,t.type,i,n),c[Mt]=n}catch(h){qe(t,t.return,h)}}function jp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function Au(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eu(t,n,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Un));else if(c!==4&&(c===27&&Ns(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(Eu(t,n,i),t=t.sibling;t!==null;)Eu(t,n,i),t=t.sibling}function Hi(t,n,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(c!==4&&(c===27&&Ns(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Hi(t,n,i),t=t.sibling;t!==null;)Hi(t,n,i),t=t.sibling}function wp(t){var n=t.stateNode,i=t.memoizedProps;try{for(var c=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);vt(n,c,i),n[xt]=t,n[Mt]=i}catch(p){qe(t,t.return,p)}}var Kn=!1,ut=!1,Tu=!1,Np=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Hv(t,n){if(t=t.containerInfo,Xu=uo,t=Rm(t),Nc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var N=0,_=-1,R=-1,F=0,X=0,te=t,V=null;t:for(;;){for(var K;te!==i||h!==0&&te.nodeType!==3||(_=N+h),te!==p||c!==0&&te.nodeType!==3||(R=N+c),te.nodeType===3&&(N+=te.nodeValue.length),(K=te.firstChild)!==null;)V=te,te=K;for(;;){if(te===t)break t;if(V===i&&++F===h&&(_=N),V===p&&++X===c&&(R=N),(K=te.nextSibling)!==null)break;te=V,V=te.parentNode}te=K}i=_===-1||R===-1?null:{start:_,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zu={focusedElem:t,selectionRange:i},uo=!1,pt=n;pt!==null;)if(n=pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,pt=t;else for(;pt!==null;){switch(n=pt,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,i=n,h=p.memoizedProps,p=p.memoizedState,c=i.stateNode;try{var me=Qs(i.type,h);t=c.getSnapshotBeforeUpdate(me,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(ye){qe(i,i.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)td(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,pt=t;break}pt=n.return}}function Sp(t,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(t,i),c&4&&al(5,i);break;case 1:if(Qn(t,i),c&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(N){qe(i,i.return,N)}else{var h=Qs(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(N){qe(i,i.return,N)}}c&64&&yp(i),c&512&&rl(i,i.return);break;case 3:if(Qn(t,i),c&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{of(t,n)}catch(N){qe(i,i.return,N)}}break;case 27:n===null&&c&4&&wp(i);case 26:case 5:Qn(t,i),n===null&&c&4&&vp(i),c&512&&rl(i,i.return);break;case 12:Qn(t,i);break;case 31:Qn(t,i),c&4&&Cp(t,i);break;case 13:Qn(t,i),c&4&&Ap(t,i),c&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Zv.bind(null,i),yj(t,i))));break;case 22:if(c=i.memoizedState!==null||Kn,!c){n=n!==null&&n.memoizedState!==null||ut,h=Kn;var p=ut;Kn=c,(ut=n)&&!p?Xn(t,i,(i.subtreeFlags&8772)!==0):Qn(t,i),Kn=h,ut=p}break;case 30:break;default:Qn(t,i)}}function kp(t){var n=t.alternate;n!==null&&(t.alternate=null,kp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&lc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,zt=!1;function Jn(t,n,i){for(i=i.child;i!==null;)_p(t,n,i),i=i.sibling}function _p(t,n,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Tt,i)}catch{}switch(i.tag){case 26:ut||Cn(i,n),Jn(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ut||Cn(i,n);var c=We,h=zt;Ns(i.type)&&(We=i.stateNode,zt=!1),Jn(t,n,i),fl(i.stateNode),We=c,zt=h;break;case 5:ut||Cn(i,n);case 6:if(c=We,h=zt,We=null,Jn(t,n,i),We=c,zt=h,We!==null)if(zt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(i.stateNode)}catch(p){qe(i,n,p)}else try{We.removeChild(i.stateNode)}catch(p){qe(i,n,p)}break;case 18:We!==null&&(zt?(t=We,yx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Wa(t)):yx(We,i.stateNode));break;case 4:c=We,h=zt,We=i.stateNode.containerInfo,zt=!0,Jn(t,n,i),We=c,zt=h;break;case 0:case 11:case 14:case 15:xs(2,i,n),ut||xs(4,i,n),Jn(t,n,i);break;case 1:ut||(Cn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&bp(i,n,c)),Jn(t,n,i);break;case 21:Jn(t,n,i);break;case 22:ut=(c=ut)||i.memoizedState!==null,Jn(t,n,i),ut=c;break;default:Jn(t,n,i)}}function Cp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(i){qe(n,n.return,i)}}}function Ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(i){qe(n,n.return,i)}}function Fv(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Np),n;default:throw Error(l(435,t.tag))}}function Fi(t,n){var i=Fv(t);n.forEach(function(c){if(!i.has(c)){i.add(c);var h=Wv.bind(null,t,c);c.then(h,h)}})}function Lt(t,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c],p=t,N=n,_=N;e:for(;_!==null;){switch(_.tag){case 27:if(Ns(_.type)){We=_.stateNode,zt=!1;break e}break;case 5:We=_.stateNode,zt=!1;break e;case 3:case 4:We=_.stateNode.containerInfo,zt=!0;break e}_=_.return}if(We===null)throw Error(l(160));_p(p,N,h),We=null,zt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var yn=null;function Ep(t,n){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lt(n,t),Bt(t),c&4&&(xs(3,t,t.return),al(3,t),xs(5,t,t.return));break;case 1:Lt(n,t),Bt(t),c&512&&(ut||i===null||Cn(i,i.return)),c&64&&Kn&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var h=yn;if(Lt(n,t),Bt(t),c&512&&(ut||i===null||Cn(i,i.return)),c&4){var p=i!==null?i.memoizedState:null;if(c=t.memoizedState,i===null)if(c===null)if(t.stateNode===null){e:{c=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Or]||p[xt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),vt(p,c,i),p[xt]=t,ft(p),c=p;break e;case"link":var N=Ex("link","href",h).get(c+(i.href||""));if(N){for(var _=0;_<N.length;_++)if(p=N[_],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(_,1);break t}}p=h.createElement(c),vt(p,c,i),h.head.appendChild(p);break;case"meta":if(N=Ex("meta","content",h).get(c+(i.content||""))){for(_=0;_<N.length;_++)if(p=N[_],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(_,1);break t}}p=h.createElement(c),vt(p,c,i),h.head.appendChild(p);break;default:throw Error(l(468,c))}p[xt]=t,ft(p),c=p}t.stateNode=c}else Tx(h,t.type,t.stateNode);else t.stateNode=Ax(h,c,t.memoizedProps);else p!==c?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,c===null?Tx(h,t.type,t.stateNode):Ax(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Cu(t,t.memoizedProps,i.memoizedProps)}break;case 27:Lt(n,t),Bt(t),c&512&&(ut||i===null||Cn(i,i.return)),i!==null&&c&4&&Cu(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Lt(n,t),Bt(t),c&512&&(ut||i===null||Cn(i,i.return)),t.flags&32){h=t.stateNode;try{wa(h,"")}catch(me){qe(t,t.return,me)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,Cu(t,h,i!==null?i.memoizedProps:h)),c&1024&&(Tu=!0);break;case 6:if(Lt(n,t),Bt(t),c&4){if(t.stateNode===null)throw Error(l(162));c=t.memoizedProps,i=t.stateNode;try{i.nodeValue=c}catch(me){qe(t,t.return,me)}}break;case 3:if(lo=null,h=yn,yn=ao(n.containerInfo),Lt(n,t),yn=h,Bt(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(me){qe(t,t.return,me)}Tu&&(Tu=!1,Tp(t));break;case 4:c=yn,yn=ao(t.stateNode.containerInfo),Lt(n,t),Bt(t),yn=c;break;case 12:Lt(n,t),Bt(t);break;case 31:Lt(n,t),Bt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Fi(t,c)));break;case 13:Lt(n,t),Bt(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Gi=Et()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Fi(t,c)));break;case 22:h=t.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,F=Kn,X=ut;if(Kn=F||h,ut=X||R,Lt(n,t),ut=X,Kn=F,Bt(t),c&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||R||Kn||ut||Xs(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){R=i=n;try{if(p=R.stateNode,h)N=p.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{_=R.stateNode;var te=R.memoizedProps.style,V=te!=null&&te.hasOwnProperty("display")?te.display:null;_.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(me){qe(R,R.return,me)}}}else if(n.tag===6){if(i===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(me){qe(R,R.return,me)}}}else if(n.tag===18){if(i===null){R=n;try{var K=R.stateNode;h?bx(K,!0):bx(R.stateNode,!1)}catch(me){qe(R,R.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=t.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Fi(t,i))));break;case 19:Lt(n,t),Bt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Fi(t,c)));break;case 30:break;case 21:break;default:Lt(n,t),Bt(t)}}function Bt(t){var n=t.flags;if(n&2){try{for(var i,c=t.return;c!==null;){if(jp(c)){i=c;break}c=c.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var h=i.stateNode,p=Au(t);Hi(t,p,h);break;case 5:var N=i.stateNode;i.flags&32&&(wa(N,""),i.flags&=-33);var _=Au(t);Hi(t,_,N);break;case 3:case 4:var R=i.stateNode.containerInfo,F=Au(t);Eu(t,F,R);break;default:throw Error(l(161))}}catch(X){qe(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sp(t,n.alternate,n),n=n.sibling}function Xs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Xs(n);break;case 1:Cn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&bp(n,n.return,i),Xs(n);break;case 27:fl(n.stateNode);case 26:case 5:Cn(n,n.return),Xs(n);break;case 22:n.memoizedState===null&&Xs(n);break;case 30:Xs(n);break;default:Xs(n)}t=t.sibling}}function Xn(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,h=t,p=n,N=p.flags;switch(p.tag){case 0:case 11:case 15:Xn(h,p,i),al(4,p);break;case 1:if(Xn(h,p,i),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){qe(c,c.return,F)}if(c=p,h=c.updateQueue,h!==null){var _=c.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)lf(R[h],_)}catch(F){qe(c,c.return,F)}}i&&N&64&&yp(p),rl(p,p.return);break;case 27:wp(p);case 26:case 5:Xn(h,p,i),i&&c===null&&N&4&&vp(p),rl(p,p.return);break;case 12:Xn(h,p,i);break;case 31:Xn(h,p,i),i&&N&4&&Cp(h,p);break;case 13:Xn(h,p,i),i&&N&4&&Ap(h,p);break;case 22:p.memoizedState===null&&Xn(h,p,i),rl(p,p.return);break;case 30:break;default:Xn(h,p,i)}n=n.sibling}}function Du(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Vr(i))}function Ou(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vr(t))}function bn(t,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dp(t,n,i,c),n=n.sibling}function Dp(t,n,i,c){var h=n.flags;switch(n.tag){case 0:case 11:case 15:bn(t,n,i,c),h&2048&&al(9,n);break;case 1:bn(t,n,i,c);break;case 3:bn(t,n,i,c),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vr(t)));break;case 12:if(h&2048){bn(t,n,i,c),t=n.stateNode;try{var p=n.memoizedProps,N=p.id,_=p.onPostCommit;typeof _=="function"&&_(N,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){qe(n,n.return,R)}}else bn(t,n,i,c);break;case 31:bn(t,n,i,c);break;case 13:bn(t,n,i,c);break;case 23:break;case 22:p=n.stateNode,N=n.alternate,n.memoizedState!==null?p._visibility&2?bn(t,n,i,c):ll(t,n):p._visibility&2?bn(t,n,i,c):(p._visibility|=2,qa(t,n,i,c,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Du(N,n);break;case 24:bn(t,n,i,c),h&2048&&Ou(n.alternate,n);break;default:bn(t,n,i,c)}}function qa(t,n,i,c,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,N=n,_=i,R=c,F=N.flags;switch(N.tag){case 0:case 11:case 15:qa(p,N,_,R,h),al(8,N);break;case 23:break;case 22:var X=N.stateNode;N.memoizedState!==null?X._visibility&2?qa(p,N,_,R,h):ll(p,N):(X._visibility|=2,qa(p,N,_,R,h)),h&&F&2048&&Du(N.alternate,N);break;case 24:qa(p,N,_,R,h),h&&F&2048&&Ou(N.alternate,N);break;default:qa(p,N,_,R,h)}n=n.sibling}}function ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,c=n,h=c.flags;switch(c.tag){case 22:ll(i,c),h&2048&&Du(c.alternate,c);break;case 24:ll(i,c),h&2048&&Ou(c.alternate,c);break;default:ll(i,c)}n=n.sibling}}var il=8192;function Ha(t,n,i){if(t.subtreeFlags&il)for(t=t.child;t!==null;)Op(t,n,i),t=t.sibling}function Op(t,n,i){switch(t.tag){case 26:Ha(t,n,i),t.flags&il&&t.memoizedState!==null&&Tj(i,yn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,i);break;case 3:case 4:var c=yn;yn=ao(t.stateNode.containerInfo),Ha(t,n,i),yn=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=il,il=16777216,Ha(t,n,i),il=c):Ha(t,n,i));break;default:Ha(t,n,i)}}function Mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];pt=c,zp(c,t)}Mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&xs(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Vi(t)):ol(t);break;default:ol(t)}}function Vi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];pt=c,zp(c,t)}Mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Vi(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Vi(n));break;default:Vi(n)}t=t.sibling}}function zp(t,n){for(;pt!==null;){var i=pt;switch(i.tag){case 0:case 11:case 15:xs(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vr(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,pt=c;else e:for(i=t;pt!==null;){c=pt;var h=c.sibling,p=c.return;if(kp(c),c===i){pt=null;break e}if(h!==null){h.return=p,pt=h;break e}pt=p}}}var Vv={getCacheForType:function(t){var n=yt(it),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i},cacheSignal:function(){return yt(it).controller.signal}},Gv=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ye=null,Ae=null,Oe=0,$e=0,Xt=null,gs=!1,Fa=!1,Mu=!1,Zn=0,st=0,ys=0,Zs=0,Ru=0,Zt=0,Va=0,cl=null,Ut=null,zu=!1,Gi=0,Lp=0,Yi=1/0,Ki=null,bs=null,mt=0,vs=null,Ga=null,Wn=0,Lu=0,Bu=null,Bp=null,ul=0,Uu=null;function Wt(){return(Ue&2)!==0&&Oe!==0?Oe&-Oe:U.T!==null?Fu():Zh()}function Up(){if(Zt===0)if((Oe&536870912)===0||Re){var t=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),Zt=t}else Zt=536870912;return t=Jt.current,t!==null&&(t.flags|=32),Zt}function It(t,n,i){(t===Ye&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),js(t,Oe,Zt,!1)),Dr(t,i),((Ue&2)===0||t!==Ye)&&(t===Ye&&((Ue&2)===0&&(Zs|=i),st===4&&js(t,Oe,Zt,!1)),An(t))}function Ip(t,n,i){if((Ue&6)!==0)throw Error(l(327));var c=!i&&(n&127)===0&&(n&t.expiredLanes)===0||Tr(t,n),h=c?Jv(t,n):Pu(t,n,!0),p=c;do{if(h===0){Fa&&!c&&js(t,n,0,!1);break}else{if(i=t.current.alternate,p&&!Yv(i)){h=Pu(t,n,!1),p=!1;continue}if(h===2){if(p=n,t.errorRecoveryDisabledLanes&p)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var _=t;h=cl;var R=_.current.memoizedState.isDehydrated;if(R&&(Ya(_,N).flags|=256),N=Pu(_,N,!1),N!==2){if(Mu&&!R){_.errorRecoveryDisabledLanes|=p,Zs|=p,h=4;break e}p=Ut,Ut=h,p!==null&&(Ut===null?Ut=p:Ut.push.apply(Ut,p))}h=N}if(p=!1,h!==2)continue}}if(h===1){Ya(t,0),js(t,n,0,!0);break}e:{switch(c=t,p=h,p){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:js(c,n,Zt,!gs);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(h=Gi+300-Et(),10<h)){if(js(c,n,Zt,!gs),ai(c,0,!0)!==0)break e;Wn=n,c.timeoutHandle=xx(Pp.bind(null,c,i,Ut,Ki,zu,n,Zt,Zs,Va,gs,p,"Throttled",-0,0),h);break e}Pp(c,i,Ut,Ki,zu,n,Zt,Zs,Va,gs,p,null,-0,0)}}break}while(!0);An(t)}function Pp(t,n,i,c,h,p,N,_,R,F,X,te,V,K){if(t.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Op(n,p,te);var me=(p&62914560)===p?Gi-Et():(p&4194048)===p?Lp-Et():0;if(me=Dj(te,me),me!==null){Wn=p,t.cancelPendingCommit=me(Kp.bind(null,t,n,p,i,c,h,N,_,R,X,te,null,V,K)),js(t,p,N,!F);return}}Kp(t,n,p,i,c,h,N,_,R)}function Yv(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var h=i[c],p=h.getSnapshot;h=h.value;try{if(!Yt(p(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(t,n,i,c){n&=~Ru,n&=~Zs,t.suspendedLanes|=n,t.pingedLanes&=~n,c&&(t.warmLanes|=n),c=t.expirationTimes;for(var h=n;0<h;){var p=31-Ge(h),N=1<<p;c[p]=-1,h&=~N}i!==0&&Jh(t,i,n)}function Ji(){return(Ue&6)===0?(dl(0),!1):!0}function Iu(){if(Ae!==null){if($e===0)var t=Ae.return;else t=Ae,qn=Hs=null,tu(t),Ba=null,Yr=0,t=Ae;for(;t!==null;)gp(t.alternate,t),t=t.return;Ae=null}}function Ya(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,mj(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Wn=0,Iu(),Ye=t,Ae=i=Pn(t.current,null),Oe=n,$e=0,Xt=null,gs=!1,Fa=Tr(t,n),Mu=!1,Va=Zt=Ru=Zs=ys=st=0,Ut=cl=null,zu=!1,(n&8)!==0&&(n|=n&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=n;0<c;){var h=31-Ge(c),p=1<<h;n|=t[h],c&=~p}return Zn=n,xi(),i}function $p(t,n){Ne=null,U.H=tl,n===La||n===Si?(n=nf(),$e=3):n===Hc?(n=nf(),$e=4):$e=n===gu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xt=n,Ae===null&&(st=1,Ui(t,ln(n,t.current)))}function qp(){var t=Jt.current;return t===null?!0:(Oe&4194048)===Oe?dn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===dn:!1}function Hp(){var t=U.H;return U.H=tl,t===null?tl:t}function Fp(){var t=U.A;return U.A=Vv,t}function Qi(){st=4,gs||(Oe&4194048)!==Oe&&Jt.current!==null||(Fa=!0),(ys&134217727)===0&&(Zs&134217727)===0||Ye===null||js(Ye,Oe,Zt,!1)}function Pu(t,n,i){var c=Ue;Ue|=2;var h=Hp(),p=Fp();(Ye!==t||Oe!==n)&&(Ki=null,Ya(t,n)),n=!1;var N=st;e:do try{if($e!==0&&Ae!==null){var _=Ae,R=Xt;switch($e){case 8:Iu(),N=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var F=$e;if($e=0,Xt=null,Ka(t,_,R,F),i&&Fa){N=0;break e}break;default:F=$e,$e=0,Xt=null,Ka(t,_,R,F)}}Kv(),N=st;break}catch(X){$p(t,X)}while(!0);return n&&t.shellSuspendCounter++,qn=Hs=null,Ue=c,U.H=h,U.A=p,Ae===null&&(Ye=null,Oe=0,xi()),N}function Kv(){for(;Ae!==null;)Vp(Ae)}function Jv(t,n){var i=Ue;Ue|=2;var c=Hp(),h=Fp();Ye!==t||Oe!==n?(Ki=null,Yi=Et()+500,Ya(t,n)):Fa=Tr(t,n);e:do try{if($e!==0&&Ae!==null){n=Ae;var p=Xt;t:switch($e){case 1:$e=0,Xt=null,Ka(t,n,p,1);break;case 2:case 9:if(ef(p)){$e=0,Xt=null,Gp(n);break}n=function(){$e!==2&&$e!==9||Ye!==t||($e=7),An(t)},p.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ef(p)?($e=0,Xt=null,Gp(n)):($e=0,Xt=null,Ka(t,n,p,7));break;case 5:var N=null;switch(Ae.tag){case 26:N=Ae.memoizedState;case 5:case 27:var _=Ae;if(N?Dx(N):_.stateNode.complete){$e=0,Xt=null;var R=_.sibling;if(R!==null)Ae=R;else{var F=_.return;F!==null?(Ae=F,Xi(F)):Ae=null}break t}}$e=0,Xt=null,Ka(t,n,p,5);break;case 6:$e=0,Xt=null,Ka(t,n,p,6);break;case 8:Iu(),st=6;break e;default:throw Error(l(462))}}Qv();break}catch(X){$p(t,X)}while(!0);return qn=Hs=null,U.H=c,U.A=h,Ue=i,Ae!==null?0:(Ye=null,Oe=0,xi(),st)}function Qv(){for(;Ae!==null&&!Wo();)Vp(Ae)}function Vp(t){var n=pp(t.alternate,t,Zn);t.memoizedProps=t.pendingProps,n===null?Xi(t):Ae=n}function Gp(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=cp(i,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=cp(i,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:tu(n);default:gp(i,n),n=Ae=Hm(n,Zn),n=pp(i,n,Zn)}t.memoizedProps=t.pendingProps,n===null?Xi(t):Ae=n}function Ka(t,n,i,c){qn=Hs=null,tu(n),Ba=null,Yr=0;var h=n.return;try{if(Uv(t,h,n,i,Oe)){st=1,Ui(t,ln(i,t.current)),Ae=null;return}}catch(p){if(h!==null)throw Ae=h,p;st=1,Ui(t,ln(i,t.current)),Ae=null;return}n.flags&32768?(Re||c===1?t=!0:Fa||(Oe&536870912)!==0?t=!1:(gs=t=!0,(c===2||c===9||c===3||c===6)&&(c=Jt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Yp(n,t)):Xi(n)}function Xi(t){var n=t;do{if((n.flags&32768)!==0){Yp(n,gs);return}t=n.return;var i=$v(n.alternate,n,Zn);if(i!==null){Ae=i;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=t}while(n!==null);st===0&&(st=5)}function Yp(t,n){do{var i=qv(t.alternate,t);if(i!==null){i.flags&=32767,Ae=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=i}while(t!==null);st=6,Ae=null}function Kp(t,n,i,c,h,p,N,_,R){t.cancelPendingCommit=null;do Zi();while(mt!==0);if((Ue&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(p=n.lanes|n.childLanes,p|=Ac,Eb(t,i,p,N,_,R),t===Ye&&(Ae=Ye=null,Oe=0),Ga=n,vs=t,Wn=i,Lu=p,Bu=h,Bp=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ej(be,function(){return Wp(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,h=ne.p,ne.p=2,N=Ue,Ue|=4;try{Hv(t,n,i)}finally{Ue=N,ne.p=h,U.T=c}}mt=1,Jp(),Qp(),Xp()}}function Jp(){if(mt===1){mt=0;var t=vs,n=Ga,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var c=ne.p;ne.p=2;var h=Ue;Ue|=4;try{Ep(n,t);var p=Zu,N=Rm(t.containerInfo),_=p.focusedElem,R=p.selectionRange;if(N!==_&&_&&_.ownerDocument&&Mm(_.ownerDocument.documentElement,_)){if(R!==null&&Nc(_)){var F=R.start,X=R.end;if(X===void 0&&(X=F),"selectionStart"in _)_.selectionStart=F,_.selectionEnd=Math.min(X,_.value.length);else{var te=_.ownerDocument||document,V=te&&te.defaultView||window;if(V.getSelection){var K=V.getSelection(),me=_.textContent.length,ye=Math.min(R.start,me),Ve=R.end===void 0?ye:Math.min(R.end,me);!K.extend&&ye>Ve&&(N=Ve,Ve=ye,ye=N);var P=Om(_,ye),B=Om(_,Ve);if(P&&B&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var H=te.createRange();H.setStart(P.node,P.offset),K.removeAllRanges(),ye>Ve?(K.addRange(H),K.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),K.addRange(H))}}}}for(te=[],K=_;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<te.length;_++){var ee=te[_];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}uo=!!Xu,Zu=Xu=null}finally{Ue=h,ne.p=c,U.T=i}}t.current=n,mt=2}}function Qp(){if(mt===2){mt=0;var t=vs,n=Ga,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var c=ne.p;ne.p=2;var h=Ue;Ue|=4;try{Sp(t,n.alternate,n)}finally{Ue=h,ne.p=c,U.T=i}}mt=3}}function Xp(){if(mt===4||mt===3){mt=0,ec();var t=vs,n=Ga,i=Wn,c=Bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mt=5:(mt=0,Ga=vs=null,Zp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(bs=null),ac(i),n=n.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Tt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=U.T,h=ne.p,ne.p=2,U.T=null;try{for(var p=t.onRecoverableError,N=0;N<c.length;N++){var _=c[N];p(_.value,{componentStack:_.stack})}}finally{U.T=n,ne.p=h}}(Wn&3)!==0&&Zi(),An(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===Uu?ul++:(ul=0,Uu=t):ul=0,dl(0)}}function Zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Vr(n)))}function Zi(){return Jp(),Qp(),Xp(),Wp()}function Wp(){if(mt!==5)return!1;var t=vs,n=Lu;Lu=0;var i=ac(Wn),c=U.T,h=ne.p;try{ne.p=32>i?32:i,U.T=null,i=Bu,Bu=null;var p=vs,N=Wn;if(mt=0,Ga=vs=null,Wn=0,(Ue&6)!==0)throw Error(l(331));var _=Ue;if(Ue|=4,Rp(p.current),Dp(p,p.current,N,i),Ue=_,dl(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{ne.p=h,U.T=c,Zp(t,n)}}function ex(t,n,i){n=ln(i,n),n=xu(t.stateNode,n,2),t=ms(t,n,2),t!==null&&(Dr(t,2),An(t))}function qe(t,n,i){if(t.tag===3)ex(t,t,i);else for(;n!==null;){if(n.tag===3){ex(n,t,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bs===null||!bs.has(c))){t=ln(i,t),i=tp(2),c=ms(n,i,2),c!==null&&(np(i,c,n,t),Dr(c,2),An(c));break}}n=n.return}}function $u(t,n,i){var c=t.pingCache;if(c===null){c=t.pingCache=new Gv;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(i)||(Mu=!0,h.add(i),t=Xv.bind(null,t,n,i),n.then(t,t))}function Xv(t,n,i){var c=t.pingCache;c!==null&&c.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Ye===t&&(Oe&i)===i&&(st===4||st===3&&(Oe&62914560)===Oe&&300>Et()-Gi?(Ue&2)===0&&Ya(t,0):Ru|=i,Va===Oe&&(Va=0)),An(t)}function tx(t,n){n===0&&(n=Kh()),t=Ps(t,n),t!==null&&(Dr(t,n),An(t))}function Zv(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),tx(t,i)}function Wv(t,n){var i=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(n),tx(t,i)}function ej(t,n){return pa(t,n)}var Wi=null,Ja=null,qu=!1,eo=!1,Hu=!1,ws=0;function An(t){t!==Ja&&t.next===null&&(Ja===null?Wi=Ja=t:Ja=Ja.next=t),eo=!0,qu||(qu=!0,nj())}function dl(t,n){if(!Hu&&eo){Hu=!0;do for(var i=!1,c=Wi;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var N=c.suspendedLanes,_=c.pingedLanes;p=(1<<31-Ge(42|t)+1)-1,p&=h&~(N&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,rx(c,p))}else p=Oe,p=ai(c,c===Ye?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Tr(c,p)||(i=!0,rx(c,p));c=c.next}while(i);Hu=!1}}function tj(){nx()}function nx(){eo=qu=!1;var t=0;ws!==0&&hj()&&(t=ws);for(var n=Et(),i=null,c=Wi;c!==null;){var h=c.next,p=sx(c,n);p===0?(c.next=null,i===null?Wi=h:i.next=h,h===null&&(Ja=i)):(i=c,(t!==0||(p&3)!==0)&&(eo=!0)),c=h}mt!==0&&mt!==5||dl(t),ws!==0&&(ws=0)}function sx(t,n){for(var i=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var N=31-Ge(p),_=1<<N,R=h[N];R===-1?((_&i)===0||(_&c)!==0)&&(h[N]=Ab(_,n)):R<=n&&(t.expiredLanes|=_),p&=~_}if(n=Ye,i=Oe,i=ai(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,i===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Er(c),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Tr(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(c!==null&&Er(c),ac(i)){case 2:case 8:i=ce;break;case 32:i=be;break;case 268435456:i=Pe;break;default:i=be}return c=ax.bind(null,t),i=pa(i,c),t.callbackPriority=n,t.callbackNode=i,n}return c!==null&&c!==null&&Er(c),t.callbackPriority=2,t.callbackNode=null,2}function ax(t,n){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Zi()&&t.callbackNode!==i)return null;var c=Oe;return c=ai(t,t===Ye?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Ip(t,c,n),sx(t,Et()),t.callbackNode!=null&&t.callbackNode===i?ax.bind(null,t):null)}function rx(t,n){if(Zi())return null;Ip(t,n,!0)}function nj(){fj(function(){(Ue&6)!==0?pa(W,tj):nx()})}function Fu(){if(ws===0){var t=Ra;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),ws=t}return ws}function lx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oi(""+t)}function ix(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function sj(t,n,i,c,h){if(n==="submit"&&i&&i.stateNode===h){var p=lx((h[Mt]||null).action),N=c.submitter;N&&(n=(n=N[Mt]||null)?lx(n.formAction):N.getAttribute("formAction"),n!==null&&(p=n,N=null));var _=new hi("action","action",null,c,h);t.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ws!==0){var R=N?ix(h,N):new FormData(h);uu(i,{pending:!0,data:R,method:h.method,action:p},null,R)}}else typeof p=="function"&&(_.preventDefault(),R=N?ix(h,N):new FormData(h),uu(i,{pending:!0,data:R,method:h.method,action:p},p,R))},currentTarget:h}]})}}for(var Vu=0;Vu<Cc.length;Vu++){var Gu=Cc[Vu],aj=Gu.toLowerCase(),rj=Gu[0].toUpperCase()+Gu.slice(1);gn(aj,"on"+rj)}gn(Bm,"onAnimationEnd"),gn(Um,"onAnimationIteration"),gn(Im,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(jv,"onTransitionRun"),gn(wv,"onTransitionStart"),gn(Nv,"onTransitionCancel"),gn(Pm,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function ox(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],h=c.event;c=c.listeners;e:{var p=void 0;if(n)for(var N=c.length-1;0<=N;N--){var _=c[N],R=_.instance,F=_.currentTarget;if(_=_.listener,R!==p&&h.isPropagationStopped())break e;p=_,h.currentTarget=F;try{p(h)}catch(X){pi(X)}h.currentTarget=null,p=R}else for(N=0;N<c.length;N++){if(_=c[N],R=_.instance,F=_.currentTarget,_=_.listener,R!==p&&h.isPropagationStopped())break e;p=_,h.currentTarget=F;try{p(h)}catch(X){pi(X)}h.currentTarget=null,p=R}}}}function Ee(t,n){var i=n[rc];i===void 0&&(i=n[rc]=new Set);var c=t+"__bubble";i.has(c)||(cx(n,t,2,!1),i.add(c))}function Yu(t,n,i){var c=0;n&&(c|=4),cx(i,t,c,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function Ku(t){if(!t[to]){t[to]=!0,tm.forEach(function(i){i!=="selectionchange"&&(lj.has(i)||Yu(i,!1,t),Yu(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[to]||(n[to]=!0,Yu("selectionchange",!1,n))}}function cx(t,n,i,c){switch(Ux(n)){case 2:var h=Rj;break;case 8:h=zj;break;default:h=cd}i=h.bind(null,n,i,t),h=void 0,!fc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function Ju(t,n,i,c,h){var p=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var _=c.stateNode.containerInfo;if(_===h)break;if(N===4)for(N=c.return;N!==null;){var R=N.tag;if((R===3||R===4)&&N.stateNode.containerInfo===h)return;N=N.return}for(;_!==null;){if(N=ga(_),N===null)return;if(R=N.tag,R===5||R===6||R===26||R===27){c=p=N;continue e}_=_.parentNode}}c=c.return}mm(function(){var F=p,X=hc(i),te=[];e:{var V=$m.get(t);if(V!==void 0){var K=hi,me=t;switch(t){case"keypress":if(ui(i)===0)break e;case"keydown":case"keyup":K=Wb;break;case"focusin":me="focus",K=yc;break;case"focusout":me="blur",K=yc;break;case"beforeblur":case"afterblur":K=yc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=nv;break;case Bm:case Um:case Im:K=Fb;break;case Pm:K=av;break;case"scroll":case"scrollend":K=Ib;break;case"wheel":K=lv;break;case"copy":case"cut":case"paste":K=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ym;break;case"toggle":case"beforetoggle":K=ov}var ye=(n&4)!==0,Ve=!ye&&(t==="scroll"||t==="scrollend"),P=ye?V!==null?V+"Capture":null:V;ye=[];for(var B=F,H;B!==null;){var ee=B;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||P===null||(ee=Rr(B,P),ee!=null&&ye.push(ml(B,ee,H))),Ve)break;B=B.return}0<ye.length&&(V=new K(V,me,null,i,X),te.push({event:V,listeners:ye}))}}if((n&7)===0){e:{if(V=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",V&&i!==dc&&(me=i.relatedTarget||i.fromElement)&&(ga(me)||me[xa]))break e;if((K||V)&&(V=X.window===X?X:(V=X.ownerDocument)?V.defaultView||V.parentWindow:window,K?(me=i.relatedTarget||i.toElement,K=F,me=me?ga(me):null,me!==null&&(Ve=u(me),ye=me.tag,me!==Ve||ye!==5&&ye!==27&&ye!==6)&&(me=null)):(K=null,me=F),K!==me)){if(ye=xm,ee="onMouseLeave",P="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(ye=ym,ee="onPointerLeave",P="onPointerEnter",B="pointer"),Ve=K==null?V:Mr(K),H=me==null?V:Mr(me),V=new ye(ee,B+"leave",K,i,X),V.target=Ve,V.relatedTarget=H,ee=null,ga(X)===F&&(ye=new ye(P,B+"enter",me,i,X),ye.target=H,ye.relatedTarget=Ve,ee=ye),Ve=ee,K&&me)t:{for(ye=ij,P=K,B=me,H=0,ee=P;ee;ee=ye(ee))H++;ee=0;for(var xe=B;xe;xe=ye(xe))ee++;for(;0<H-ee;)P=ye(P),H--;for(;0<ee-H;)B=ye(B),ee--;for(;H--;){if(P===B||B!==null&&P===B.alternate){ye=P;break t}P=ye(P),B=ye(B)}ye=null}else ye=null;K!==null&&ux(te,V,K,ye,!1),me!==null&&Ve!==null&&ux(te,Ve,me,ye,!0)}}e:{if(V=F?Mr(F):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var Le=_m;else if(Sm(V))if(Cm)Le=yv;else{Le=xv;var pe=pv}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?F&&uc(F.elementType)&&(Le=_m):Le=gv;if(Le&&(Le=Le(t,F))){km(te,Le,i,X);break e}pe&&pe(t,V,F),t==="focusout"&&F&&V.type==="number"&&F.memoizedProps.value!=null&&cc(V,"number",V.value)}switch(pe=F?Mr(F):window,t){case"focusin":(Sm(pe)||pe.contentEditable==="true")&&(_a=pe,Sc=F,qr=null);break;case"focusout":qr=Sc=_a=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,zm(te,i,X);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":zm(te,i,X)}var ke;if(vc)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ka?wm(t,i)&&(Me="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Me="onCompositionStart");Me&&(bm&&i.locale!=="ko"&&(ka||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ka&&(ke=fm()):(ls=X,pc="value"in ls?ls.value:ls.textContent,ka=!0)),pe=no(F,Me),0<pe.length&&(Me=new gm(Me,t,null,i,X),te.push({event:Me,listeners:pe}),ke?Me.data=ke:(ke=Nm(i),ke!==null&&(Me.data=ke)))),(ke=uv?dv(t,i):hv(t,i))&&(Me=no(F,"onBeforeInput"),0<Me.length&&(pe=new gm("onBeforeInput","beforeinput",null,i,X),te.push({event:pe,listeners:Me}),pe.data=ke)),sj(te,t,F,i,X)}ox(te,n)})}function ml(t,n,i){return{instance:t,listener:n,currentTarget:i}}function no(t,n){for(var i=n+"Capture",c=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Rr(t,i),h!=null&&c.unshift(ml(t,h,p)),h=Rr(t,n),h!=null&&c.push(ml(t,h,p))),t.tag===3)return c;t=t.return}return[]}function ij(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ux(t,n,i,c,h){for(var p=n._reactName,N=[];i!==null&&i!==c;){var _=i,R=_.alternate,F=_.stateNode;if(_=_.tag,R!==null&&R===c)break;_!==5&&_!==26&&_!==27||F===null||(R=F,h?(F=Rr(i,p),F!=null&&N.unshift(ml(i,F,R))):h||(F=Rr(i,p),F!=null&&N.push(ml(i,F,R)))),i=i.return}N.length!==0&&t.push({event:n,listeners:N})}var oj=/\r\n?/g,cj=/\u0000|\uFFFD/g;function dx(t){return(typeof t=="string"?t:""+t).replace(oj,`
`).replace(cj,"")}function hx(t,n){return n=dx(n),dx(t)===n}function Fe(t,n,i,c,h,p){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||wa(t,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&wa(t,""+c);break;case"className":li(t,"class",c);break;case"tabIndex":li(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":li(t,i,c);break;case"style":dm(t,c,p);break;case"data":if(n!=="object"){li(t,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=oi(""+c),t.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&Fe(t,n,"name",h.name,h,null),Fe(t,n,"formEncType",h.formEncType,h,null),Fe(t,n,"formMethod",h.formMethod,h,null),Fe(t,n,"formTarget",h.formTarget,h,null)):(Fe(t,n,"encType",h.encType,h,null),Fe(t,n,"method",h.method,h,null),Fe(t,n,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=oi(""+c),t.setAttribute(i,c);break;case"onClick":c!=null&&(t.onclick=Un);break;case"onScroll":c!=null&&Ee("scroll",t);break;case"onScrollEnd":c!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}i=oi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""+c):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":c===!0?t.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,c):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(i,c):t.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(i):t.setAttribute(i,c);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),ri(t,"popover",c);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ri(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Bb.get(i)||i,ri(t,i,c))}}function Qu(t,n,i,c,h,p){switch(i){case"style":dm(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof c=="string"?wa(t,c):(typeof c=="number"||typeof c=="bigint")&&wa(t,""+c);break;case"onScroll":c!=null&&Ee("scroll",t);break;case"onScrollEnd":c!=null&&Ee("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nm.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),p=t[Mt]||null,p=p!=null?p[i]:null,typeof p=="function"&&t.removeEventListener(n,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,c,h);break e}i in t?t[i]=c:c===!0?t.setAttribute(i,""):ri(t,i,c)}}}function vt(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var c=!1,h=!1,p;for(p in i)if(i.hasOwnProperty(p)){var N=i[p];if(N!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Fe(t,n,p,N,i,null)}}h&&Fe(t,n,"srcSet",i.srcSet,i,null),c&&Fe(t,n,"src",i.src,i,null);return;case"input":Ee("invalid",t);var _=p=N=h=null,R=null,F=null;for(c in i)if(i.hasOwnProperty(c)){var X=i[c];if(X!=null)switch(c){case"name":h=X;break;case"type":N=X;break;case"checked":R=X;break;case"defaultChecked":F=X;break;case"value":p=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,n));break;default:Fe(t,n,c,X,i,null)}}im(t,p,_,R,F,N,h,!1);return;case"select":Ee("invalid",t),c=N=p=null;for(h in i)if(i.hasOwnProperty(h)&&(_=i[h],_!=null))switch(h){case"value":p=_;break;case"defaultValue":N=_;break;case"multiple":c=_;default:Fe(t,n,h,_,i,null)}n=p,i=N,t.multiple=!!c,n!=null?ja(t,!!c,n,!1):i!=null&&ja(t,!!c,i,!0);return;case"textarea":Ee("invalid",t),p=h=c=null;for(N in i)if(i.hasOwnProperty(N)&&(_=i[N],_!=null))switch(N){case"value":c=_;break;case"defaultValue":h=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Fe(t,n,N,_,i,null)}cm(t,c,h,p);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(c=i[R],c!=null))switch(R){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Fe(t,n,R,c,i,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(c=0;c<hl.length;c++)Ee(hl[c],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in i)if(i.hasOwnProperty(F)&&(c=i[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Fe(t,n,F,c,i,null)}return;default:if(uc(n)){for(X in i)i.hasOwnProperty(X)&&(c=i[X],c!==void 0&&Qu(t,n,X,c,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(c=i[_],c!=null&&Fe(t,n,_,c,i,null))}function uj(t,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,N=null,_=null,R=null,F=null,X=null;for(K in i){var te=i[K];if(i.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=te;default:c.hasOwnProperty(K)||Fe(t,n,K,null,c,te)}}for(var V in c){var K=c[V];if(te=i[V],c.hasOwnProperty(V)&&(K!=null||te!=null))switch(V){case"type":p=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":N=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,n));break;default:K!==te&&Fe(t,n,V,K,c,te)}}oc(t,N,_,R,F,X,p,h);return;case"select":K=N=_=V=null;for(p in i)if(R=i[p],i.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":K=R;default:c.hasOwnProperty(p)||Fe(t,n,p,null,c,R)}for(h in c)if(p=c[h],R=i[h],c.hasOwnProperty(h)&&(p!=null||R!=null))switch(h){case"value":V=p;break;case"defaultValue":_=p;break;case"multiple":N=p;default:p!==R&&Fe(t,n,h,p,c,R)}n=_,i=N,c=K,V!=null?ja(t,!!i,V,!1):!!c!=!!i&&(n!=null?ja(t,!!i,n,!0):ja(t,!!i,i?[]:"",!1));return;case"textarea":K=V=null;for(_ in i)if(h=i[_],i.hasOwnProperty(_)&&h!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Fe(t,n,_,null,c,h)}for(N in c)if(h=c[N],p=i[N],c.hasOwnProperty(N)&&(h!=null||p!=null))switch(N){case"value":V=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==p&&Fe(t,n,N,h,c,p)}om(t,V,K);return;case"option":for(var me in i)if(V=i[me],i.hasOwnProperty(me)&&V!=null&&!c.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Fe(t,n,me,null,c,V)}for(R in c)if(V=c[R],K=i[R],c.hasOwnProperty(R)&&V!==K&&(V!=null||K!=null))switch(R){case"selected":t.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Fe(t,n,R,V,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in i)V=i[ye],i.hasOwnProperty(ye)&&V!=null&&!c.hasOwnProperty(ye)&&Fe(t,n,ye,null,c,V);for(F in c)if(V=c[F],K=i[F],c.hasOwnProperty(F)&&V!==K&&(V!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,n));break;default:Fe(t,n,F,V,c,K)}return;default:if(uc(n)){for(var Ve in i)V=i[Ve],i.hasOwnProperty(Ve)&&V!==void 0&&!c.hasOwnProperty(Ve)&&Qu(t,n,Ve,void 0,c,V);for(X in c)V=c[X],K=i[X],!c.hasOwnProperty(X)||V===K||V===void 0&&K===void 0||Qu(t,n,X,V,c,K);return}}for(var P in i)V=i[P],i.hasOwnProperty(P)&&V!=null&&!c.hasOwnProperty(P)&&Fe(t,n,P,null,c,V);for(te in c)V=c[te],K=i[te],!c.hasOwnProperty(te)||V===K||V==null&&K==null||Fe(t,n,te,V,c,K)}function mx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dj(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var h=i[c],p=h.transferSize,N=h.initiatorType,_=h.duration;if(p&&_&&mx(N)){for(N=0,_=h.responseEnd,c+=1;c<i.length;c++){var R=i[c],F=R.startTime;if(F>_)break;var X=R.transferSize,te=R.initiatorType;X&&mx(te)&&(R=R.responseEnd,N+=X*(R<_?1:(_-F)/(R-F)))}if(--c,n+=8*(p+N)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xu=null,Zu=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function fx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function px(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ed=null;function hj(){var t=window.event;return t&&t.type==="popstate"?t===ed?!1:(ed=t,!0):(ed=null,!1)}var xx=typeof setTimeout=="function"?setTimeout:void 0,mj=typeof clearTimeout=="function"?clearTimeout:void 0,gx=typeof Promise=="function"?Promise:void 0,fj=typeof queueMicrotask=="function"?queueMicrotask:typeof gx<"u"?function(t){return gx.resolve(null).then(t).catch(pj)}:xx;function pj(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function yx(t,n){var i=n,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(c===0){t.removeChild(h),Wa(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")fl(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,fl(i);for(var p=i.firstChild;p;){var N=p.nextSibling,_=p.nodeName;p[Or]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=N}}else i==="body"&&fl(t.ownerDocument.body);i=h}while(i);Wa(n)}function bx(t,n){var i=t;t=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=c}while(i)}function td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":td(i),lc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function xj(t,n,i,c){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Or])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function gj(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=hn(t.nextSibling),t===null))return null;return t}function vx(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=hn(t.nextSibling),t===null))return null;return t}function nd(t){return t.data==="$?"||t.data==="$~"}function sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yj(t,n){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ad=null;function jx(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(n===0)return hn(t.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}t=t.nextSibling}return null}function wx(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return t;n--}else i!=="/$"&&i!=="/&"||n++}t=t.previousSibling}return null}function Nx(t,n,i){switch(n=so(i),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);lc(t)}var mn=new Map,Sx=new Set;function ao(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ne.d;ne.d={f:bj,r:vj,D:jj,C:wj,L:Nj,m:Sj,X:_j,S:kj,M:Cj};function bj(){var t=es.f(),n=Ji();return t||n}function vj(t){var n=ya(t);n!==null&&n.tag===5&&n.type==="form"?$f(n):es.r(t)}var Qa=typeof document>"u"?null:document;function kx(t,n,i){var c=Qa;if(c&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Sx.has(h)||(Sx.add(h),t={rel:t,crossOrigin:i,href:n},c.querySelector(h)===null&&(n=c.createElement("link"),vt(n,"link",t),ft(n),c.head.appendChild(n)))}}function jj(t){es.D(t),kx("dns-prefetch",t,null)}function wj(t,n){es.C(t,n),kx("preconnect",t,n)}function Nj(t,n,i){es.L(t,n,i);var c=Qa;if(c&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+an(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+an(i.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var p=h;switch(n){case"style":p=Xa(t);break;case"script":p=Za(t)}mn.has(p)||(t=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),mn.set(p,t),c.querySelector(h)!==null||n==="style"&&c.querySelector(pl(p))||n==="script"&&c.querySelector(xl(p))||(n=c.createElement("link"),vt(n,"link",t),ft(n),c.head.appendChild(n)))}}function Sj(t,n){es.m(t,n);var i=Qa;if(i&&t){var c=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(c)+'"][href="'+an(t)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Za(t)}if(!mn.has(p)&&(t=y({rel:"modulepreload",href:t},n),mn.set(p,t),i.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(xl(p)))return}c=i.createElement("link"),vt(c,"link",t),ft(c),i.head.appendChild(c)}}}function kj(t,n,i){es.S(t,n,i);var c=Qa;if(c&&t){var h=ba(c).hoistableStyles,p=Xa(t);n=n||"default";var N=h.get(p);if(!N){var _={loading:0,preload:null};if(N=c.querySelector(pl(p)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},i),(i=mn.get(p))&&rd(t,i);var R=N=c.createElement("link");ft(R),vt(R,"link",t),R._p=new Promise(function(F,X){R.onload=F,R.onerror=X}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ro(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:_},h.set(p,N)}}}function _j(t,n){es.X(t,n);var i=Qa;if(i&&t){var c=ba(i).hoistableScripts,h=Za(t),p=c.get(h);p||(p=i.querySelector(xl(h)),p||(t=y({src:t,async:!0},n),(n=mn.get(h))&&ld(t,n),p=i.createElement("script"),ft(p),vt(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function Cj(t,n){es.M(t,n);var i=Qa;if(i&&t){var c=ba(i).hoistableScripts,h=Za(t),p=c.get(h);p||(p=i.querySelector(xl(h)),p||(t=y({src:t,async:!0,type:"module"},n),(n=mn.get(h))&&ld(t,n),p=i.createElement("script"),ft(p),vt(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function _x(t,n,i,c){var h=(h=I.current)?ao(h):null;if(!h)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Xa(i.href),i=ba(h).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Xa(i.href);var p=ba(h).hoistableStyles,N=p.get(t);if(N||(h=h.ownerDocument||h,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,N),(p=h.querySelector(pl(t)))&&!p._p&&(N.instance=p,N.state.loading=5),mn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},mn.set(t,i),p||Aj(h,t,i,N.state))),n&&c===null)throw Error(l(528,""));return N}if(n&&c!==null)throw Error(l(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(i),i=ba(h).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Xa(t){return'href="'+an(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function Cx(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Aj(t,n,i,c){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=t.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),vt(n,"link",i),ft(n),t.head.appendChild(n))}function Za(t){return'[src="'+an(t)+'"]'}function xl(t){return"script[async]"+t}function Ax(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=t.querySelector('style[data-href~="'+an(i.href)+'"]');if(c)return n.instance=c,ft(c),c;var h=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ft(c),vt(c,"style",h),ro(c,i.precedence,t),n.instance=c;case"stylesheet":h=Xa(i.href);var p=t.querySelector(pl(h));if(p)return n.state.loading|=4,n.instance=p,ft(p),p;c=Cx(i),(h=mn.get(h))&&rd(c,h),p=(t.ownerDocument||t).createElement("link"),ft(p);var N=p;return N._p=new Promise(function(_,R){N.onload=_,N.onerror=R}),vt(p,"link",c),n.state.loading|=4,ro(p,i.precedence,t),n.instance=p;case"script":return p=Za(i.src),(h=t.querySelector(xl(p)))?(n.instance=h,ft(h),h):(c=i,(h=mn.get(p))&&(c=y({},i),ld(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),vt(h,"link",c),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,ro(c,i.precedence,t));return n.instance}function ro(t,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,N=0;N<c.length;N++){var _=c[N];if(_.dataset.precedence===n)p=_;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lo=null;function Ex(t,n,i){if(lo===null){var c=new Map,h=lo=new Map;h.set(i,c)}else h=lo,c=h.get(i),c||(c=new Map,h.set(i,c));if(c.has(t))return c;for(c.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var p=i[h];if(!(p[Or]||p[xt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var N=p.getAttribute(n)||"";N=t+N;var _=c.get(N);_?_.push(p):c.set(N,[p])}}return c}function Tx(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function Ej(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tj(t,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Xa(c.href),p=n.querySelector(pl(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=io.bind(t),n.then(t,t)),i.state.loading|=4,i.instance=p,ft(p);return}p=n.ownerDocument||n,c=Cx(c),(h=mn.get(h))&&rd(c,h),p=p.createElement("link"),ft(p);var N=p;N._p=new Promise(function(_,R){N.onload=_,N.onerror=R}),vt(p,"link",c),i.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=io.bind(t),n.addEventListener("load",i),n.addEventListener("error",i))}}var id=0;function Dj(t,n){return t.stylesheets&&t.count===0&&co(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var c=setTimeout(function(){if(t.stylesheets&&co(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&id===0&&(id=62500*dj());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&co(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>id?50:800)+n);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)co(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oo=null;function co(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oo=new Map,n.forEach(Oj,t),oo=null,io.call(t))}function Oj(t,n){if(!(n.state.loading&4)){var i=oo.get(t);if(i)var c=i.get(null);else{i=new Map,oo.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var N=h[p];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),c=N)}c&&i.set(null,c)}h=n.instance,N=h.getAttribute("data-precedence"),p=i.get(N)||c,p===c&&i.set(null,h),i.set(N,h),this.count++,c=io.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var gl={$$typeof:T,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Mj(t,n,i,c,h,p,N,_,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.hiddenUpdates=nc(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ox(t,n,i,c,h,p,N,_,R,F,X,te){return t=new Mj(t,n,i,N,R,F,X,te,_),n=1,p===!0&&(n|=24),p=Kt(3,null,null,n),t.current=p,p.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:c,isDehydrated:i,cache:n},Fc(p),t}function Mx(t){return t?(t=Ea,t):Ea}function Rx(t,n,i,c,h,p){h=Mx(h),c.context===null?c.context=h:c.pendingContext=h,c=hs(n),c.payload={element:i},p=p===void 0?null:p,p!==null&&(c.callback=p),i=ms(t,c,n),i!==null&&(It(i,t,n),Jr(i,t,n))}function zx(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function od(t,n){zx(t,n),(t=t.alternate)&&zx(t,n)}function Lx(t){if(t.tag===13||t.tag===31){var n=Ps(t,67108864);n!==null&&It(n,t,67108864),od(t,67108864)}}function Bx(t){if(t.tag===13||t.tag===31){var n=Wt();n=sc(n);var i=Ps(t,n);i!==null&&It(i,t,n),od(t,n)}}var uo=!0;function Rj(t,n,i,c){var h=U.T;U.T=null;var p=ne.p;try{ne.p=2,cd(t,n,i,c)}finally{ne.p=p,U.T=h}}function zj(t,n,i,c){var h=U.T;U.T=null;var p=ne.p;try{ne.p=8,cd(t,n,i,c)}finally{ne.p=p,U.T=h}}function cd(t,n,i,c){if(uo){var h=ud(c);if(h===null)Ju(t,n,c,ho,i),Ix(t,c);else if(Bj(h,t,n,i,c))c.stopPropagation();else if(Ix(t,c),n&4&&-1<Lj.indexOf(t)){for(;h!==null;){var p=ya(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var N=zs(p.pendingLanes);if(N!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;N;){var R=1<<31-Ge(N);_.entanglements[1]|=R,N&=~R}An(p),(Ue&6)===0&&(Yi=Et()+500,dl(0))}}break;case 31:case 13:_=Ps(p,2),_!==null&&It(_,p,2),Ji(),od(p,2)}if(p=ud(c),p===null&&Ju(t,n,c,ho,i),p===h)break;h=p}h!==null&&c.stopPropagation()}else Ju(t,n,c,null,i)}}function ud(t){return t=hc(t),dd(t)}var ho=null;function dd(t){if(ho=null,t=ga(t),t!==null){var n=u(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=d(n),t!==null)return t;t=null}else if(i===31){if(t=m(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ho=t,null}function Ux(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tc()){case W:return 2;case ce:return 8;case be:case Ce:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var hd=!1,Ss=null,ks=null,_s=null,yl=new Map,bl=new Map,Cs=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ix(t,n){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function vl(t,n,i,c,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},n!==null&&(n=ya(n),n!==null&&Lx(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Bj(t,n,i,c,h){switch(n){case"focusin":return Ss=vl(Ss,t,n,i,c,h),!0;case"dragenter":return ks=vl(ks,t,n,i,c,h),!0;case"mouseover":return _s=vl(_s,t,n,i,c,h),!0;case"pointerover":var p=h.pointerId;return yl.set(p,vl(yl.get(p)||null,t,n,i,c,h)),!0;case"gotpointercapture":return p=h.pointerId,bl.set(p,vl(bl.get(p)||null,t,n,i,c,h)),!0}return!1}function Px(t){var n=ga(t.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){t.blockedOn=n,Wh(t.priority,function(){Bx(i)});return}}else if(n===31){if(n=m(i),n!==null){t.blockedOn=n,Wh(t.priority,function(){Bx(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=ud(t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);dc=c,i.target.dispatchEvent(c),dc=null}else return n=ya(i),n!==null&&Lx(n),t.blockedOn=i,!1;n.shift()}return!0}function $x(t,n,i){mo(t)&&i.delete(n)}function Uj(){hd=!1,Ss!==null&&mo(Ss)&&(Ss=null),ks!==null&&mo(ks)&&(ks=null),_s!==null&&mo(_s)&&(_s=null),yl.forEach($x),bl.forEach($x)}function fo(t,n){t.blockedOn===n&&(t.blockedOn=null,hd||(hd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Uj)))}var po=null;function qx(t){po!==t&&(po=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){po===t&&(po=null);for(var n=0;n<t.length;n+=3){var i=t[n],c=t[n+1],h=t[n+2];if(typeof c!="function"){if(dd(c||i)===null)continue;break}var p=ya(i);p!==null&&(t.splice(n,3),n-=3,uu(p,{pending:!0,data:h,method:i.method,action:c},c,h))}}))}function Wa(t){function n(R){return fo(R,t)}Ss!==null&&fo(Ss,t),ks!==null&&fo(ks,t),_s!==null&&fo(_s,t),yl.forEach(n),bl.forEach(n);for(var i=0;i<Cs.length;i++){var c=Cs[i];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Cs.length&&(i=Cs[0],i.blockedOn===null);)Px(i),i.blockedOn===null&&Cs.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var h=i[c],p=i[c+1],N=h[Mt]||null;if(typeof p=="function")N||qx(i);else if(N){var _=null;if(p&&p.hasAttribute("formAction")){if(h=p,N=p[Mt]||null)_=N.formAction;else if(dd(h)!==null)continue}else _=N.action;typeof _=="function"?i[c+1]=_:(i.splice(c,3),c-=3),qx(i)}}}function Hx(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(N){return h=N})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function md(t){this._internalRoot=t}xo.prototype.render=md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var i=n.current,c=Wt();Rx(i,c,t,n,null,null)},xo.prototype.unmount=md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Rx(t.current,2,null,t,null,null),Ji(),n[xa]=null}};function xo(t){this._internalRoot=t}xo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Zh();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Cs.length&&n!==0&&n<Cs[i].priority;i++);Cs.splice(i,0,t),i===0&&Px(t)}};var Fx=a.version;if(Fx!=="19.2.0")throw Error(l(527,Fx,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=x(n),t=t!==null?f(t):null,t=t===null?null:t.stateNode,t};var Ij={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Tt=go.inject(Ij),ht=go}catch{}}return wl.createRoot=function(t,n){if(!o(t))throw Error(l(299));var i=!1,c="",h=Xf,p=Zf,N=Wf;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=Ox(t,1,!1,null,null,i,c,null,h,p,N,Hx),t[xa]=n.current,Ku(t),new md(n)},wl.hydrateRoot=function(t,n,i){if(!o(t))throw Error(l(299));var c=!1,h="",p=Xf,N=Zf,_=Wf,R=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),n=Ox(t,1,!0,n,i??null,c,h,R,p,N,_,Hx),n.context=Mx(null),i=n.current,c=Wt(),c=sc(c),h=hs(c),h.callback=null,ms(i,h,c),i=c,n.current.lanes=i,Dr(n,i),An(n),t[xa]=n.current,Ku(t),new xo(n)},wl.version="19.2.0",wl}var tg;function Zj(){if(tg)return xd.exports;tg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),xd.exports=Xj(),xd.exports}var Wj=Zj();const e1=Hl(Wj);function q0(s,a){return function(){return s.apply(a,arguments)}}const{toString:t1}=Object.prototype,{getPrototypeOf:Nh}=Object,{iterator:Po,toStringTag:H0}=Symbol,$o=(s=>a=>{const r=t1.call(a);return s[r]||(s[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sn=s=>(s=s.toLowerCase(),a=>$o(a)===s),qo=s=>a=>typeof a===s,{isArray:vr}=Array,fr=qo("undefined");function Fl(s){return s!==null&&!fr(s)&&s.constructor!==null&&!fr(s.constructor)&&$t(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const F0=Sn("ArrayBuffer");function n1(s){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&F0(s.buffer),a}const s1=qo("string"),$t=qo("function"),V0=qo("number"),Vl=s=>s!==null&&typeof s=="object",a1=s=>s===!0||s===!1,Eo=s=>{if($o(s)!=="object")return!1;const a=Nh(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(H0 in s)&&!(Po in s)},r1=s=>{if(!Vl(s)||Fl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},l1=Sn("Date"),i1=Sn("File"),o1=Sn("Blob"),c1=Sn("FileList"),u1=s=>Vl(s)&&$t(s.pipe),d1=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||$t(s.append)&&((a=$o(s))==="formdata"||a==="object"&&$t(s.toString)&&s.toString()==="[object FormData]"))},h1=Sn("URLSearchParams"),[m1,f1,p1,x1]=["ReadableStream","Request","Response","Headers"].map(Sn),g1=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gl(s,a,{allOwnKeys:r=!1}={}){if(s===null||typeof s>"u")return;let l,o;if(typeof s!="object"&&(s=[s]),vr(s))for(l=0,o=s.length;l<o;l++)a.call(null,s[l],l,s);else{if(Fl(s))return;const u=r?Object.getOwnPropertyNames(s):Object.keys(s),d=u.length;let m;for(l=0;l<d;l++)m=u[l],a.call(null,s[m],m,s)}}function G0(s,a){if(Fl(s))return null;a=a.toLowerCase();const r=Object.keys(s);let l=r.length,o;for(;l-- >0;)if(o=r[l],a===o.toLowerCase())return o;return null}const sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Y0=s=>!fr(s)&&s!==sa;function Jd(){const{caseless:s,skipUndefined:a}=Y0(this)&&this||{},r={},l=(o,u)=>{const d=s&&G0(r,u)||u;Eo(r[d])&&Eo(o)?r[d]=Jd(r[d],o):Eo(o)?r[d]=Jd({},o):vr(o)?r[d]=o.slice():(!a||!fr(o))&&(r[d]=o)};for(let o=0,u=arguments.length;o<u;o++)arguments[o]&&Gl(arguments[o],l);return r}const y1=(s,a,r,{allOwnKeys:l}={})=>(Gl(a,(o,u)=>{r&&$t(o)?s[u]=q0(o,r):s[u]=o},{allOwnKeys:l}),s),b1=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),v1=(s,a,r,l)=>{s.prototype=Object.create(a.prototype,l),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),r&&Object.assign(s.prototype,r)},j1=(s,a,r,l)=>{let o,u,d;const m={};if(a=a||{},s==null)return a;do{for(o=Object.getOwnPropertyNames(s),u=o.length;u-- >0;)d=o[u],(!l||l(d,s,a))&&!m[d]&&(a[d]=s[d],m[d]=!0);s=r!==!1&&Nh(s)}while(s&&(!r||r(s,a))&&s!==Object.prototype);return a},w1=(s,a,r)=>{s=String(s),(r===void 0||r>s.length)&&(r=s.length),r-=a.length;const l=s.indexOf(a,r);return l!==-1&&l===r},N1=s=>{if(!s)return null;if(vr(s))return s;let a=s.length;if(!V0(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=s[a];return r},S1=(s=>a=>s&&a instanceof s)(typeof Uint8Array<"u"&&Nh(Uint8Array)),k1=(s,a)=>{const l=(s&&s[Po]).call(s);let o;for(;(o=l.next())&&!o.done;){const u=o.value;a.call(s,u[0],u[1])}},_1=(s,a)=>{let r;const l=[];for(;(r=s.exec(a))!==null;)l.push(r);return l},C1=Sn("HTMLFormElement"),A1=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,l,o){return l.toUpperCase()+o}),ng=(({hasOwnProperty:s})=>(a,r)=>s.call(a,r))(Object.prototype),E1=Sn("RegExp"),K0=(s,a)=>{const r=Object.getOwnPropertyDescriptors(s),l={};Gl(r,(o,u)=>{let d;(d=a(o,u,s))!==!1&&(l[u]=d||o)}),Object.defineProperties(s,l)},T1=s=>{K0(s,(a,r)=>{if($t(s)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const l=s[r];if($t(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},D1=(s,a)=>{const r={},l=o=>{o.forEach(u=>{r[u]=!0})};return vr(s)?l(s):l(String(s).split(a)),r},O1=()=>{},M1=(s,a)=>s!=null&&Number.isFinite(s=+s)?s:a;function R1(s){return!!(s&&$t(s.append)&&s[H0]==="FormData"&&s[Po])}const z1=s=>{const a=new Array(10),r=(l,o)=>{if(Vl(l)){if(a.indexOf(l)>=0)return;if(Fl(l))return l;if(!("toJSON"in l)){a[o]=l;const u=vr(l)?[]:{};return Gl(l,(d,m)=>{const g=r(d,o+1);!fr(g)&&(u[m]=g)}),a[o]=void 0,u}}return l};return r(s,0)},L1=Sn("AsyncFunction"),B1=s=>s&&(Vl(s)||$t(s))&&$t(s.then)&&$t(s.catch),J0=((s,a)=>s?setImmediate:a?((r,l)=>(sa.addEventListener("message",({source:o,data:u})=>{o===sa&&u===r&&l.length&&l.shift()()},!1),o=>{l.push(o),sa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$t(sa.postMessage)),U1=typeof queueMicrotask<"u"?queueMicrotask.bind(sa):typeof process<"u"&&process.nextTick||J0,I1=s=>s!=null&&$t(s[Po]),Y={isArray:vr,isArrayBuffer:F0,isBuffer:Fl,isFormData:d1,isArrayBufferView:n1,isString:s1,isNumber:V0,isBoolean:a1,isObject:Vl,isPlainObject:Eo,isEmptyObject:r1,isReadableStream:m1,isRequest:f1,isResponse:p1,isHeaders:x1,isUndefined:fr,isDate:l1,isFile:i1,isBlob:o1,isRegExp:E1,isFunction:$t,isStream:u1,isURLSearchParams:h1,isTypedArray:S1,isFileList:c1,forEach:Gl,merge:Jd,extend:y1,trim:g1,stripBOM:b1,inherits:v1,toFlatObject:j1,kindOf:$o,kindOfTest:Sn,endsWith:w1,toArray:N1,forEachEntry:k1,matchAll:_1,isHTMLForm:C1,hasOwnProperty:ng,hasOwnProp:ng,reduceDescriptors:K0,freezeMethods:T1,toObjectSet:D1,toCamelCase:A1,noop:O1,toFiniteNumber:M1,findKey:G0,global:sa,isContextDefined:Y0,isSpecCompliantForm:R1,toJSONObject:z1,isAsyncFn:L1,isThenable:B1,setImmediate:J0,asap:U1,isIterable:I1};function Se(s,a,r,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const Q0=Se.prototype,X0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{X0[s]={value:s}});Object.defineProperties(Se,X0);Object.defineProperty(Q0,"isAxiosError",{value:!0});Se.from=(s,a,r,l,o,u)=>{const d=Object.create(Q0);Y.toFlatObject(s,d,function(f){return f!==Error.prototype},x=>x!=="isAxiosError");const m=s&&s.message?s.message:"Error",g=a==null&&s?s.code:a;return Se.call(d,m,g,r,l,o),s&&d.cause==null&&Object.defineProperty(d,"cause",{value:s,configurable:!0}),d.name=s&&s.name||"Error",u&&Object.assign(d,u),d};const P1=null;function Qd(s){return Y.isPlainObject(s)||Y.isArray(s)}function Z0(s){return Y.endsWith(s,"[]")?s.slice(0,-2):s}function sg(s,a,r){return s?s.concat(a).map(function(o,u){return o=Z0(o),!r&&u?"["+o+"]":o}).join(r?".":""):a}function $1(s){return Y.isArray(s)&&!s.some(Qd)}const q1=Y.toFlatObject(Y,{},null,function(a){return/^is[A-Z]/.test(a)});function Ho(s,a,r){if(!Y.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,j){return!Y.isUndefined(j[k])});const l=r.metaTokens,o=r.visitor||f,u=r.dots,d=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(a);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function x(v){if(v===null)return"";if(Y.isDate(v))return v.toISOString();if(Y.isBoolean(v))return v.toString();if(!g&&Y.isBlob(v))throw new Se("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(v)||Y.isTypedArray(v)?g&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,k,j){let S=v;if(v&&!j&&typeof v=="object"){if(Y.endsWith(k,"{}"))k=l?k:k.slice(0,-2),v=JSON.stringify(v);else if(Y.isArray(v)&&$1(v)||(Y.isFileList(v)||Y.endsWith(k,"[]"))&&(S=Y.toArray(v)))return k=Z0(k),S.forEach(function(T,L){!(Y.isUndefined(T)||T===null)&&a.append(d===!0?sg([k],L,u):d===null?k:k+"[]",x(T))}),!1}return Qd(v)?!0:(a.append(sg(j,k,u),x(v)),!1)}const y=[],w=Object.assign(q1,{defaultVisitor:f,convertValue:x,isVisitable:Qd});function b(v,k){if(!Y.isUndefined(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(v),Y.forEach(v,function(S,A){(!(Y.isUndefined(S)||S===null)&&o.call(a,S,Y.isString(A)?A.trim():A,k,w))===!0&&b(S,k?k.concat(A):[A])}),y.pop()}}if(!Y.isObject(s))throw new TypeError("data must be an object");return b(s),a}function ag(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Sh(s,a){this._pairs=[],s&&Ho(s,this,a)}const W0=Sh.prototype;W0.append=function(a,r){this._pairs.push([a,r])};W0.toString=function(a){const r=a?function(l){return a.call(this,l,ag)}:ag;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function H1(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ey(s,a,r){if(!a)return s;const l=r&&r.encode||H1;Y.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let u;if(o?u=o(a,r):u=Y.isURLSearchParams(a)?a.toString():new Sh(a,r).toString(l),u){const d=s.indexOf("#");d!==-1&&(s=s.slice(0,d)),s+=(s.indexOf("?")===-1?"?":"&")+u}return s}class rg{constructor(){this.handlers=[]}use(a,r,l){return this.handlers.push({fulfilled:a,rejected:r,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){Y.forEach(this.handlers,function(l){l!==null&&a(l)})}}const ty={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F1=typeof URLSearchParams<"u"?URLSearchParams:Sh,V1=typeof FormData<"u"?FormData:null,G1=typeof Blob<"u"?Blob:null,Y1={isBrowser:!0,classes:{URLSearchParams:F1,FormData:V1,Blob:G1},protocols:["http","https","file","blob","url","data"]},kh=typeof window<"u"&&typeof document<"u",Xd=typeof navigator=="object"&&navigator||void 0,K1=kh&&(!Xd||["ReactNative","NativeScript","NS"].indexOf(Xd.product)<0),J1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q1=kh&&window.location.href||"http://localhost",X1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kh,hasStandardBrowserEnv:K1,hasStandardBrowserWebWorkerEnv:J1,navigator:Xd,origin:Q1},Symbol.toStringTag,{value:"Module"})),kt={...X1,...Y1};function Z1(s,a){return Ho(s,new kt.classes.URLSearchParams,{visitor:function(r,l,o,u){return kt.isNode&&Y.isBuffer(r)?(this.append(l,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...a})}function W1(s){return Y.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function e2(s){const a={},r=Object.keys(s);let l;const o=r.length;let u;for(l=0;l<o;l++)u=r[l],a[u]=s[u];return a}function ny(s){function a(r,l,o,u){let d=r[u++];if(d==="__proto__")return!0;const m=Number.isFinite(+d),g=u>=r.length;return d=!d&&Y.isArray(o)?o.length:d,g?(Y.hasOwnProp(o,d)?o[d]=[o[d],l]:o[d]=l,!m):((!o[d]||!Y.isObject(o[d]))&&(o[d]=[]),a(r,l,o[d],u)&&Y.isArray(o[d])&&(o[d]=e2(o[d])),!m)}if(Y.isFormData(s)&&Y.isFunction(s.entries)){const r={};return Y.forEachEntry(s,(l,o)=>{a(W1(l),o,r,0)}),r}return null}function t2(s,a,r){if(Y.isString(s))try{return(a||JSON.parse)(s),Y.trim(s)}catch(l){if(l.name!=="SyntaxError")throw l}return(r||JSON.stringify)(s)}const Yl={transitional:ty,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const l=r.getContentType()||"",o=l.indexOf("application/json")>-1,u=Y.isObject(a);if(u&&Y.isHTMLForm(a)&&(a=new FormData(a)),Y.isFormData(a))return o?JSON.stringify(ny(a)):a;if(Y.isArrayBuffer(a)||Y.isBuffer(a)||Y.isStream(a)||Y.isFile(a)||Y.isBlob(a)||Y.isReadableStream(a))return a;if(Y.isArrayBufferView(a))return a.buffer;if(Y.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let m;if(u){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Z1(a,this.formSerializer).toString();if((m=Y.isFileList(a))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Ho(m?{"files[]":a}:a,g&&new g,this.formSerializer)}}return u||o?(r.setContentType("application/json",!1),t2(a)):a}],transformResponse:[function(a){const r=this.transitional||Yl.transitional,l=r&&r.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(a)||Y.isReadableStream(a))return a;if(a&&Y.isString(a)&&(l&&!this.responseType||o)){const d=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(m){if(d)throw m.name==="SyntaxError"?Se.from(m,Se.ERR_BAD_RESPONSE,this,null,this.response):m}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],s=>{Yl.headers[s]={}});const n2=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s2=s=>{const a={};let r,l,o;return s&&s.split(`
`).forEach(function(d){o=d.indexOf(":"),r=d.substring(0,o).trim().toLowerCase(),l=d.substring(o+1).trim(),!(!r||a[r]&&n2[r])&&(r==="set-cookie"?a[r]?a[r].push(l):a[r]=[l]:a[r]=a[r]?a[r]+", "+l:l)}),a},lg=Symbol("internals");function Nl(s){return s&&String(s).trim().toLowerCase()}function To(s){return s===!1||s==null?s:Y.isArray(s)?s.map(To):String(s)}function a2(s){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=r.exec(s);)a[l[1]]=l[2];return a}const r2=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function vd(s,a,r,l,o){if(Y.isFunction(l))return l.call(this,a,r);if(o&&(a=r),!!Y.isString(a)){if(Y.isString(l))return a.indexOf(l)!==-1;if(Y.isRegExp(l))return l.test(a)}}function l2(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,l)=>r.toUpperCase()+l)}function i2(s,a){const r=Y.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(s,l+r,{value:function(o,u,d){return this[l].call(this,a,o,u,d)},configurable:!0})})}let qt=class{constructor(a){a&&this.set(a)}set(a,r,l){const o=this;function u(m,g,x){const f=Nl(g);if(!f)throw new Error("header name must be a non-empty string");const y=Y.findKey(o,f);(!y||o[y]===void 0||x===!0||x===void 0&&o[y]!==!1)&&(o[y||g]=To(m))}const d=(m,g)=>Y.forEach(m,(x,f)=>u(x,f,g));if(Y.isPlainObject(a)||a instanceof this.constructor)d(a,r);else if(Y.isString(a)&&(a=a.trim())&&!r2(a))d(s2(a),r);else if(Y.isObject(a)&&Y.isIterable(a)){let m={},g,x;for(const f of a){if(!Y.isArray(f))throw TypeError("Object iterator must return a key-value pair");m[x=f[0]]=(g=m[x])?Y.isArray(g)?[...g,f[1]]:[g,f[1]]:f[1]}d(m,r)}else a!=null&&u(r,a,l);return this}get(a,r){if(a=Nl(a),a){const l=Y.findKey(this,a);if(l){const o=this[l];if(!r)return o;if(r===!0)return a2(o);if(Y.isFunction(r))return r.call(this,o,l);if(Y.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=Nl(a),a){const l=Y.findKey(this,a);return!!(l&&this[l]!==void 0&&(!r||vd(this,this[l],l,r)))}return!1}delete(a,r){const l=this;let o=!1;function u(d){if(d=Nl(d),d){const m=Y.findKey(l,d);m&&(!r||vd(l,l[m],m,r))&&(delete l[m],o=!0)}}return Y.isArray(a)?a.forEach(u):u(a),o}clear(a){const r=Object.keys(this);let l=r.length,o=!1;for(;l--;){const u=r[l];(!a||vd(this,this[u],u,a,!0))&&(delete this[u],o=!0)}return o}normalize(a){const r=this,l={};return Y.forEach(this,(o,u)=>{const d=Y.findKey(l,u);if(d){r[d]=To(o),delete r[u];return}const m=a?l2(u):String(u).trim();m!==u&&delete r[u],r[m]=To(o),l[m]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return Y.forEach(this,(l,o)=>{l!=null&&l!==!1&&(r[o]=a&&Y.isArray(l)?l.join(", "):l)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const l=new this(a);return r.forEach(o=>l.set(o)),l}static accessor(a){const l=(this[lg]=this[lg]={accessors:{}}).accessors,o=this.prototype;function u(d){const m=Nl(d);l[m]||(i2(o,d),l[m]=!0)}return Y.isArray(a)?a.forEach(u):u(a),this}};qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(qt.prototype,({value:s},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(l){this[r]=l}}});Y.freezeMethods(qt);function jd(s,a){const r=this||Yl,l=a||r,o=qt.from(l.headers);let u=l.data;return Y.forEach(s,function(m){u=m.call(r,u,o.normalize(),a?a.status:void 0)}),o.normalize(),u}function sy(s){return!!(s&&s.__CANCEL__)}function jr(s,a,r){Se.call(this,s??"canceled",Se.ERR_CANCELED,a,r),this.name="CanceledError"}Y.inherits(jr,Se,{__CANCEL__:!0});function ay(s,a,r){const l=r.config.validateStatus;!r.status||!l||l(r.status)?s(r):a(new Se("Request failed with status code "+r.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function o2(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function c2(s,a){s=s||10;const r=new Array(s),l=new Array(s);let o=0,u=0,d;return a=a!==void 0?a:1e3,function(g){const x=Date.now(),f=l[u];d||(d=x),r[o]=g,l[o]=x;let y=u,w=0;for(;y!==o;)w+=r[y++],y=y%s;if(o=(o+1)%s,o===u&&(u=(u+1)%s),x-d<a)return;const b=f&&x-f;return b?Math.round(w*1e3/b):void 0}}function u2(s,a){let r=0,l=1e3/a,o,u;const d=(x,f=Date.now())=>{r=f,o=null,u&&(clearTimeout(u),u=null),s(...x)};return[(...x)=>{const f=Date.now(),y=f-r;y>=l?d(x,f):(o=x,u||(u=setTimeout(()=>{u=null,d(o)},l-y)))},()=>o&&d(o)]}const Ro=(s,a,r=3)=>{let l=0;const o=c2(50,250);return u2(u=>{const d=u.loaded,m=u.lengthComputable?u.total:void 0,g=d-l,x=o(g),f=d<=m;l=d;const y={loaded:d,total:m,progress:m?d/m:void 0,bytes:g,rate:x||void 0,estimated:x&&m&&f?(m-d)/x:void 0,event:u,lengthComputable:m!=null,[a?"download":"upload"]:!0};s(y)},r)},ig=(s,a)=>{const r=s!=null;return[l=>a[0]({lengthComputable:r,total:s,loaded:l}),a[1]]},og=s=>(...a)=>Y.asap(()=>s(...a)),d2=kt.hasStandardBrowserEnv?((s,a)=>r=>(r=new URL(r,kt.origin),s.protocol===r.protocol&&s.host===r.host&&(a||s.port===r.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,h2=kt.hasStandardBrowserEnv?{write(s,a,r,l,o,u){const d=[s+"="+encodeURIComponent(a)];Y.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),Y.isString(l)&&d.push("path="+l),Y.isString(o)&&d.push("domain="+o),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function m2(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function f2(s,a){return a?s.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):s}function ry(s,a,r){let l=!m2(a);return s&&(l||r==!1)?f2(s,a):a}const cg=s=>s instanceof qt?{...s}:s;function la(s,a){a=a||{};const r={};function l(x,f,y,w){return Y.isPlainObject(x)&&Y.isPlainObject(f)?Y.merge.call({caseless:w},x,f):Y.isPlainObject(f)?Y.merge({},f):Y.isArray(f)?f.slice():f}function o(x,f,y,w){if(Y.isUndefined(f)){if(!Y.isUndefined(x))return l(void 0,x,y,w)}else return l(x,f,y,w)}function u(x,f){if(!Y.isUndefined(f))return l(void 0,f)}function d(x,f){if(Y.isUndefined(f)){if(!Y.isUndefined(x))return l(void 0,x)}else return l(void 0,f)}function m(x,f,y){if(y in a)return l(x,f);if(y in s)return l(void 0,x)}const g={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m,headers:(x,f,y)=>o(cg(x),cg(f),y,!0)};return Y.forEach(Object.keys({...s,...a}),function(f){const y=g[f]||o,w=y(s[f],a[f],f);Y.isUndefined(w)&&y!==m||(r[f]=w)}),r}const ly=s=>{const a=la({},s);let{data:r,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:u,headers:d,auth:m}=a;if(a.headers=d=qt.from(d),a.url=ey(ry(a.baseURL,a.url,a.allowAbsoluteUrls),s.params,s.paramsSerializer),m&&d.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),Y.isFormData(r)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(Y.isFunction(r.getHeaders)){const g=r.getHeaders(),x=["content-type","content-length"];Object.entries(g).forEach(([f,y])=>{x.includes(f.toLowerCase())&&d.set(f,y)})}}if(kt.hasStandardBrowserEnv&&(l&&Y.isFunction(l)&&(l=l(a)),l||l!==!1&&d2(a.url))){const g=o&&u&&h2.read(u);g&&d.set(o,g)}return a},p2=typeof XMLHttpRequest<"u",x2=p2&&function(s){return new Promise(function(r,l){const o=ly(s);let u=o.data;const d=qt.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:x}=o,f,y,w,b,v;function k(){b&&b(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(o.method.toUpperCase(),o.url,!0),j.timeout=o.timeout;function S(){if(!j)return;const T=qt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),$={data:!m||m==="text"||m==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:T,config:s,request:j};ay(function(q){r(q),k()},function(q){l(q),k()},$),j=null}"onloadend"in j?j.onloadend=S:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(S)},j.onabort=function(){j&&(l(new Se("Request aborted",Se.ECONNABORTED,s,j)),j=null)},j.onerror=function(L){const $=L&&L.message?L.message:"Network Error",D=new Se($,Se.ERR_NETWORK,s,j);D.event=L||null,l(D),j=null},j.ontimeout=function(){let L=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const $=o.transitional||ty;o.timeoutErrorMessage&&(L=o.timeoutErrorMessage),l(new Se(L,$.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,s,j)),j=null},u===void 0&&d.setContentType(null),"setRequestHeader"in j&&Y.forEach(d.toJSON(),function(L,$){j.setRequestHeader($,L)}),Y.isUndefined(o.withCredentials)||(j.withCredentials=!!o.withCredentials),m&&m!=="json"&&(j.responseType=o.responseType),x&&([w,v]=Ro(x,!0),j.addEventListener("progress",w)),g&&j.upload&&([y,b]=Ro(g),j.upload.addEventListener("progress",y),j.upload.addEventListener("loadend",b)),(o.cancelToken||o.signal)&&(f=T=>{j&&(l(!T||T.type?new jr(null,s,j):T),j.abort(),j=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const A=o2(o.url);if(A&&kt.protocols.indexOf(A)===-1){l(new Se("Unsupported protocol "+A+":",Se.ERR_BAD_REQUEST,s));return}j.send(u||null)})},g2=(s,a)=>{const{length:r}=s=s?s.filter(Boolean):[];if(a||r){let l=new AbortController,o;const u=function(x){if(!o){o=!0,m();const f=x instanceof Error?x:this.reason;l.abort(f instanceof Se?f:new jr(f instanceof Error?f.message:f))}};let d=a&&setTimeout(()=>{d=null,u(new Se(`timeout ${a} of ms exceeded`,Se.ETIMEDOUT))},a);const m=()=>{s&&(d&&clearTimeout(d),d=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(u):x.removeEventListener("abort",u)}),s=null)};s.forEach(x=>x.addEventListener("abort",u));const{signal:g}=l;return g.unsubscribe=()=>Y.asap(m),g}},y2=function*(s,a){let r=s.byteLength;if(r<a){yield s;return}let l=0,o;for(;l<r;)o=l+a,yield s.slice(l,o),l=o},b2=async function*(s,a){for await(const r of v2(s))yield*y2(r,a)},v2=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const a=s.getReader();try{for(;;){const{done:r,value:l}=await a.read();if(r)break;yield l}}finally{await a.cancel()}},ug=(s,a,r,l)=>{const o=b2(s,a);let u=0,d,m=g=>{d||(d=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:x,value:f}=await o.next();if(x){m(),g.close();return}let y=f.byteLength;if(r){let w=u+=y;r(w)}g.enqueue(new Uint8Array(f))}catch(x){throw m(x),x}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},dg=64*1024,{isFunction:yo}=Y,j2=(({Request:s,Response:a})=>({Request:s,Response:a}))(Y.global),{ReadableStream:hg,TextEncoder:mg}=Y.global,fg=(s,...a)=>{try{return!!s(...a)}catch{return!1}},w2=s=>{s=Y.merge.call({skipUndefined:!0},j2,s);const{fetch:a,Request:r,Response:l}=s,o=a?yo(a):typeof fetch=="function",u=yo(r),d=yo(l);if(!o)return!1;const m=o&&yo(hg),g=o&&(typeof mg=="function"?(v=>k=>v.encode(k))(new mg):async v=>new Uint8Array(await new r(v).arrayBuffer())),x=u&&m&&fg(()=>{let v=!1;const k=new r(kt.origin,{body:new hg,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!k}),f=d&&m&&fg(()=>Y.isReadableStream(new l("").body)),y={stream:f&&(v=>v.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!y[v]&&(y[v]=(k,j)=>{let S=k&&k[v];if(S)return S.call(k);throw new Se(`Response type '${v}' is not supported`,Se.ERR_NOT_SUPPORT,j)})});const w=async v=>{if(v==null)return 0;if(Y.isBlob(v))return v.size;if(Y.isSpecCompliantForm(v))return(await new r(kt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(v)||Y.isArrayBuffer(v))return v.byteLength;if(Y.isURLSearchParams(v)&&(v=v+""),Y.isString(v))return(await g(v)).byteLength},b=async(v,k)=>{const j=Y.toFiniteNumber(v.getContentLength());return j??w(k)};return async v=>{let{url:k,method:j,data:S,signal:A,cancelToken:T,timeout:L,onDownloadProgress:$,onUploadProgress:D,responseType:q,headers:G,withCredentials:Q="same-origin",fetchOptions:ie}=ly(v),J=a||fetch;q=q?(q+"").toLowerCase():"text";let Z=g2([A,T&&T.toAbortSignal()],L),le=null;const se=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let oe;try{if(D&&x&&j!=="get"&&j!=="head"&&(oe=await b(G,S))!==0){let z=new r(k,{method:"POST",body:S,duplex:"half"}),M;if(Y.isFormData(S)&&(M=z.headers.get("content-type"))&&G.setContentType(M),z.body){const[C,ae]=ig(oe,Ro(og(D)));S=ug(z.body,dg,C,ae)}}Y.isString(Q)||(Q=Q?"include":"omit");const U=u&&"credentials"in r.prototype,ne={...ie,signal:Z,method:j.toUpperCase(),headers:G.normalize().toJSON(),body:S,duplex:"half",credentials:U?Q:void 0};le=u&&new r(k,ne);let ue=await(u?J(le,ie):J(k,ne));const ge=f&&(q==="stream"||q==="response");if(f&&($||ge&&se)){const z={};["status","statusText","headers"].forEach(fe=>{z[fe]=ue[fe]});const M=Y.toFiniteNumber(ue.headers.get("content-length")),[C,ae]=$&&ig(M,Ro(og($),!0))||[];ue=new l(ug(ue.body,dg,C,()=>{ae&&ae(),se&&se()}),z)}q=q||"text";let O=await y[Y.findKey(y,q)||"text"](ue,v);return!ge&&se&&se(),await new Promise((z,M)=>{ay(z,M,{data:O,headers:qt.from(ue.headers),status:ue.status,statusText:ue.statusText,config:v,request:le})})}catch(U){throw se&&se(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,v,le),{cause:U.cause||U}):Se.from(U,U&&U.code,v,le)}}},N2=new Map,iy=s=>{let a=s?s.env:{};const{fetch:r,Request:l,Response:o}=a,u=[l,o,r];let d=u.length,m=d,g,x,f=N2;for(;m--;)g=u[m],x=f.get(g),x===void 0&&f.set(g,x=m?new Map:w2(a)),f=x;return x};iy();const Zd={http:P1,xhr:x2,fetch:{get:iy}};Y.forEach(Zd,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});const pg=s=>`- ${s}`,S2=s=>Y.isFunction(s)||s===null||s===!1,oy={getAdapter:(s,a)=>{s=Y.isArray(s)?s:[s];const{length:r}=s;let l,o;const u={};for(let d=0;d<r;d++){l=s[d];let m;if(o=l,!S2(l)&&(o=Zd[(m=String(l)).toLowerCase()],o===void 0))throw new Se(`Unknown adapter '${m}'`);if(o&&(Y.isFunction(o)||(o=o.get(a))))break;u[m||"#"+d]=o}if(!o){const d=Object.entries(u).map(([g,x])=>`adapter ${g} `+(x===!1?"is not supported by the environment":"is not available in the build"));let m=r?d.length>1?`since :
`+d.map(pg).join(`
`):" "+pg(d[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o},adapters:Zd};function wd(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new jr(null,s)}function xg(s){return wd(s),s.headers=qt.from(s.headers),s.data=jd.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),oy.getAdapter(s.adapter||Yl.adapter,s)(s).then(function(l){return wd(s),l.data=jd.call(s,s.transformResponse,l),l.headers=qt.from(l.headers),l},function(l){return sy(l)||(wd(s),l&&l.response&&(l.response.data=jd.call(s,s.transformResponse,l.response),l.response.headers=qt.from(l.response.headers))),Promise.reject(l)})}const cy="1.12.2",Fo={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{Fo[s]=function(l){return typeof l===s||"a"+(a<1?"n ":" ")+s}});const gg={};Fo.transitional=function(a,r,l){function o(u,d){return"[Axios v"+cy+"] Transitional option '"+u+"'"+d+(l?". "+l:"")}return(u,d,m)=>{if(a===!1)throw new Se(o(d," has been removed"+(r?" in "+r:"")),Se.ERR_DEPRECATED);return r&&!gg[d]&&(gg[d]=!0,console.warn(o(d," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(u,d,m):!0}};Fo.spelling=function(a){return(r,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function k2(s,a,r){if(typeof s!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const l=Object.keys(s);let o=l.length;for(;o-- >0;){const u=l[o],d=a[u];if(d){const m=s[u],g=m===void 0||d(m,u,s);if(g!==!0)throw new Se("option "+u+" must be "+g,Se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Se("Unknown option "+u,Se.ERR_BAD_OPTION)}}const Do={assertOptions:k2,validators:Fo},En=Do.validators;let aa=class{constructor(a){this.defaults=a||{},this.interceptors={request:new rg,response:new rg}}async request(a,r){try{return await this._request(a,r)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?u&&!String(l.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+u):l.stack=u}catch{}}throw l}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=la(this.defaults,r);const{transitional:l,paramsSerializer:o,headers:u}=r;l!==void 0&&Do.assertOptions(l,{silentJSONParsing:En.transitional(En.boolean),forcedJSONParsing:En.transitional(En.boolean),clarifyTimeoutError:En.transitional(En.boolean)},!1),o!=null&&(Y.isFunction(o)?r.paramsSerializer={serialize:o}:Do.assertOptions(o,{encode:En.function,serialize:En.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Do.assertOptions(r,{baseUrl:En.spelling("baseURL"),withXsrfToken:En.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=u&&Y.merge(u.common,u[r.method]);u&&Y.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),r.headers=qt.concat(d,u);const m=[];let g=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(g=g&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const x=[];this.interceptors.response.forEach(function(k){x.push(k.fulfilled,k.rejected)});let f,y=0,w;if(!g){const v=[xg.bind(this),void 0];for(v.unshift(...m),v.push(...x),w=v.length,f=Promise.resolve(r);y<w;)f=f.then(v[y++],v[y++]);return f}w=m.length;let b=r;for(;y<w;){const v=m[y++],k=m[y++];try{b=v(b)}catch(j){k.call(this,j);break}}try{f=xg.call(this,b)}catch(v){return Promise.reject(v)}for(y=0,w=x.length;y<w;)f=f.then(x[y++],x[y++]);return f}getUri(a){a=la(this.defaults,a);const r=ry(a.baseURL,a.url,a.allowAbsoluteUrls);return ey(r,a.params,a.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(a){aa.prototype[a]=function(r,l){return this.request(la(l||{},{method:a,url:r,data:(l||{}).data}))}});Y.forEach(["post","put","patch"],function(a){function r(l){return function(u,d,m){return this.request(la(m||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}aa.prototype[a]=r(),aa.prototype[a+"Form"]=r(!0)});let _2=class uy{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const l=this;this.promise.then(o=>{if(!l._listeners)return;let u=l._listeners.length;for(;u-- >0;)l._listeners[u](o);l._listeners=null}),this.promise.then=o=>{let u;const d=new Promise(m=>{l.subscribe(m),u=m}).then(o);return d.cancel=function(){l.unsubscribe(u)},d},a(function(u,d,m){l.reason||(l.reason=new jr(u,d,m),r(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=l=>{a.abort(l)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new uy(function(o){a=o}),cancel:a}}};function C2(s){return function(r){return s.apply(null,r)}}function A2(s){return Y.isObject(s)&&s.isAxiosError===!0}const Wd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wd).forEach(([s,a])=>{Wd[a]=s});function dy(s){const a=new aa(s),r=q0(aa.prototype.request,a);return Y.extend(r,aa.prototype,a,{allOwnKeys:!0}),Y.extend(r,a,null,{allOwnKeys:!0}),r.create=function(o){return dy(la(s,o))},r}const lt=dy(Yl);lt.Axios=aa;lt.CanceledError=jr;lt.CancelToken=_2;lt.isCancel=sy;lt.VERSION=cy;lt.toFormData=Ho;lt.AxiosError=Se;lt.Cancel=lt.CanceledError;lt.all=function(a){return Promise.all(a)};lt.spread=C2;lt.isAxiosError=A2;lt.mergeConfig=la;lt.AxiosHeaders=qt;lt.formToJSON=s=>ny(Y.isHTMLForm(s)?new FormData(s):s);lt.getAdapter=oy.getAdapter;lt.HttpStatusCode=Wd;lt.default=lt;const{Axios:sC,AxiosError:aC,CanceledError:rC,isCancel:lC,CancelToken:iC,VERSION:oC,all:cC,Cancel:uC,isAxiosError:dC,spread:hC,toFormData:mC,AxiosHeaders:fC,HttpStatusCode:pC,formToJSON:xC,getAdapter:gC,mergeConfig:yC}=lt,E2="/api",Il="constructai_token",Vo=lt.create({baseURL:E2,headers:{"Content-Type":"application/json"}});Vo.interceptors.request.use(s=>{const a=localStorage.getItem(Il);return a&&(s.headers.Authorization=`Bearer ${a}`),s});const T2=async(s,a)=>{var r,l,o,u;console.log("🔐 [AuthService] Login attempt:",s);try{const d=await Vo.post("/auth/login",{email:s,password:a});if(d.data.success)return localStorage.setItem(Il,d.data.token),console.log("✅ [AuthService] Login successful:",d.data.user.name),d.data.user;throw new Error(d.data.error||"Login failed")}catch(d){throw console.error("❌ [AuthService] Login failed:",((l=(r=d.response)==null?void 0:r.data)==null?void 0:l.error)||d.message),new Error(((u=(o=d.response)==null?void 0:o.data)==null?void 0:u.error)||"Login failed")}},D2=async()=>{console.log("👋 [AuthService] Logout");try{await Vo.post("/auth/logout")}catch(s){console.error("Logout error:",s)}finally{localStorage.removeItem(Il)}},O2=async()=>{if(!localStorage.getItem(Il))return null;try{const a=await Vo.get("/auth/me");return a.data.success?a.data.user:null}catch(a){return console.error("Get current user error:",a),localStorage.removeItem(Il),null}},M2=({projectId:s,onBack:a})=>{const[r,l]=E.useState("overview"),o={name:"Riverside Residential Complex",client:"ABC Construction Ltd",location:"456 River Road, Riverside",budget:35e5,spent:175e4,progress:50,status:"in progress",priority:"high",startDate:"Mar 1, 2024",endDate:"Dec 31, 2024",description:"A modern residential complex featuring 120 units across 4 buildings with underground parking, green spaces, and community amenities.",team:[{id:"1",name:"John Smith",role:"Project Manager",avatar:"👨‍💼"},{id:"2",name:"Sarah Johnson",role:"Site Engineer",avatar:"👩‍🔧"},{id:"3",name:"Mike Davis",role:"Safety Officer",avatar:"🦺"},{id:"4",name:"Emily Brown",role:"Architect",avatar:"👩‍🎨"}],tasks:[{id:"1",title:"Foundation inspection",status:"completed",assignee:"Sarah Johnson",dueDate:"Apr 15, 2024",priority:"high"},{id:"2",title:"Electrical rough-in",status:"in-progress",assignee:"Mike Davis",dueDate:"May 20, 2024",priority:"medium"},{id:"3",title:"Plumbing installation",status:"todo",assignee:"John Smith",dueDate:"Jun 10, 2024",priority:"high"}],milestones:[{id:"1",title:"Foundation Complete",date:"Apr 30, 2024",status:"completed"},{id:"2",title:"Framing Complete",date:"Jun 15, 2024",status:"upcoming"},{id:"3",title:"MEP Rough-in",date:"Aug 1, 2024",status:"upcoming"}],documents:[{id:"1",name:"Site Plan.pdf",type:"PDF",size:"2.4 MB",uploadedBy:"Emily Brown",uploadedAt:"2 days ago"},{id:"2",name:"Building Permit.pdf",type:"PDF",size:"1.1 MB",uploadedBy:"John Smith",uploadedAt:"1 week ago"},{id:"3",name:"Safety Report.docx",type:"DOCX",size:"856 KB",uploadedBy:"Mike Davis",uploadedAt:"3 days ago"}],recentActivity:[{id:"1",type:"task",description:"Foundation inspection completed",user:"Sarah Johnson",timestamp:"2 hours ago"},{id:"2",type:"document",description:"Site Plan.pdf uploaded",user:"Emily Brown",timestamp:"5 hours ago"},{id:"3",type:"comment",description:"Added comment on electrical work",user:"Mike Davis",timestamp:"1 day ago"}]},u=f=>f==null?"£0":`£${f.toLocaleString()}`,d=f=>({planning:"bg-yellow-100 text-yellow-800","in progress":"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800"})[f]||"bg-gray-100 text-gray-800",m=f=>({low:"bg-gray-100 text-gray-800",medium:"bg-orange-100 text-orange-800",high:"bg-red-100 text-red-800"})[f]||"bg-gray-100 text-gray-800",g=f=>({todo:"bg-gray-100 text-gray-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"})[f]||"bg-gray-100 text-gray-800",x=f=>({upcoming:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[f]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(o.status)}`,children:o.status}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m(o.priority)}`,children:[o.priority," priority"]})]}),e.jsxs("p",{className:"text-gray-600",children:[o.client," • ",o.location]})]}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Project"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Budget"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u(o.budget)}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total allocated"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Spent"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u(o.spent)}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[(o.spent/o.budget*100).toFixed(1),"% of budget"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Progress"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[o.progress,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${o.progress}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Timeline"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:o.startDate}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["to ",o.endDate]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:["overview","tasks","team","documents","activity"].map(f=>e.jsx("button",{onClick:()=>l(f),className:`py-4 px-1 border-b-2 font-medium text-sm capitalize ${r===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:f},f))})}),e.jsxs("div",{className:"p-6",children:[r==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Project Description"}),e.jsx("p",{className:"text-gray-600",children:o.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Milestones"}),e.jsx("div",{className:"space-y-3",children:o.milestones.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${f.status==="completed"?"bg-green-500":f.status==="overdue"?"bg-red-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.title}),e.jsx("div",{className:"text-sm text-gray-500",children:f.date})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x(f.status)}`,children:f.status})]},f.id))})]})]}),r==="tasks"&&e.jsx("div",{className:"space-y-3",children:o.tasks.map(f=>e.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:f.title}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(f.status)}`,children:f.status}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m(f.priority)}`,children:f.priority})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Assigned to: ",f.assignee," • Due: ",f.dueDate]})]})},f.id))}),r==="team"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.team.map(f=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl",children:f.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.name}),e.jsx("div",{className:"text-sm text-gray-600",children:f.role})]})]},f.id))}),r==="documents"&&e.jsx("div",{className:"space-y-3",children:o.documents.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[f.size," • Uploaded by ",f.uploadedBy," • ",f.uploadedAt]})]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700",children:"Download"})]},f.id))}),r==="activity"&&e.jsx("div",{className:"space-y-4",children:o.recentActivity.map(f=>e.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f.type==="task"?"bg-blue-100":f.type==="document"?"bg-green-100":"bg-purple-100"}`,children:[f.type==="task"&&"✓",f.type==="document"&&"📄",f.type==="comment"&&"💬"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.description}),e.jsxs("div",{className:"text-sm text-gray-600",children:[f.user," • ",f.timestamp]})]})]},f.id))})]})]})]})},R2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({name:"",description:"",client_id:"",location:"",budget:"",start_date:"",end_date:"",status:"planning",priority:"medium",type:"commercial"}),[u,d]=E.useState([]),[m,g]=E.useState(!1),[x,f]=E.useState(null);E.useEffect(()=>{s&&y()},[s]);const y=async()=>{try{const v=await(await fetch("/api/clients?limit=100")).json();v.success&&d(v.data)}catch(b){console.error("Failed to fetch clients:",b)}};if(!s)return null;const w=async b=>{b.preventDefault(),g(!0),f(null);try{const v=localStorage.getItem("user"),k=v?JSON.parse(v):null,j=(k==null?void 0:k.company_id)||"company-1",A=await(await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:j,client_id:parseInt(l.client_id),budget:parseFloat(l.budget)||0})})).json();A.success?(r(),a(),o({name:"",description:"",client_id:"",location:"",budget:"",start_date:"",end_date:"",status:"planning",priority:"medium",type:"commercial"})):f(A.error||"Failed to create project")}catch(v){f(v.message||"Failed to create project")}finally{g(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"New Project"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:b=>o({...l,name:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:b=>o({...l,description:b.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Project description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client *"}),e.jsxs("select",{required:!0,value:l.client_id,onChange:b=>o({...l,client_id:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select client"}),u.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:l.location,onChange:b=>o({...l,location:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Project location"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget"}),e.jsx("input",{type:"number",value:l.budget,onChange:b=>o({...l,budget:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),e.jsxs("select",{value:l.type,onChange:b=>o({...l,type:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"industrial",children:"Industrial"}),e.jsx("option",{value:"infrastructure",children:"Infrastructure"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:l.start_date,onChange:b=>o({...l,start_date:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:l.end_date,onChange:b=>o({...l,end_date:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:l.status,onChange:b=>o({...l,status:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in progress",children:"In Progress"}),e.jsx("option",{value:"on hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),e.jsxs("select",{value:l.priority,onChange:b=>o({...l,priority:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin",children:"⏳"}),e.jsx("span",{children:"Creating..."})]}):e.jsx("span",{children:"Create Project"})})]})]})]})})},z2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState("all"),[d,m]=E.useState(null),[g,x]=E.useState([]),[f,y]=E.useState(!0),[w,b]=E.useState(null),[v,k]=E.useState(1),[j,S]=E.useState(1),[A,T]=E.useState(!1);E.useEffect(()=>{d||L()},[s,r,v,d]);const L=async()=>{var Q;try{y(!0),b(null);const ie=new URLSearchParams({page:v.toString(),limit:"20"});s&&ie.append("search",s),r!=="all"&&ie.append("status",r);const Z=await(await fetch(`/api/projects?${ie}`)).json();Z.success?(x(Z.data),S(((Q=Z.pagination)==null?void 0:Q.totalPages)||1)):b(Z.error||"Failed to fetch projects")}catch(ie){b(ie.message||"Failed to fetch projects"),x($)}finally{y(!1)}};if(d)return e.jsx(M2,{projectId:d,onBack:()=>m(null)});const $=[{id:"1",name:"ASasdad",client:"Green Valley Homes",location:"rm82ul",budget:123333,spent:0,progress:0,status:"planning",priority:"medium",startDate:null,endDate:null},{id:"2",name:"Downtown Office Complex",client:"Metro Construction Group",location:"Manhattan, NY",budget:125e5,spent:52e5,progress:45,status:"in progress",priority:"high",startDate:"Jan 15, 2024",endDate:"Jun 30, 2025"},{id:"3",name:"Riverside Luxury Apartments",client:"Green Valley Homes",location:"Los Angeles, CA",budget:89e5,spent:21e5,progress:28,status:"in progress",priority:"medium",startDate:"Mar 1, 2024",endDate:"Aug 31, 2025"},{id:"4",name:"Manufacturing Facility Expansion",client:"Industrial Partners LLC",location:"Chicago, IL",budget:15e6,spent:0,progress:0,status:"planning",priority:"critical",startDate:"Jun 1, 2024",endDate:"Dec 31, 2025"},{id:"5",name:"Riverside Apartments",client:"Green Valley Homes",location:"456 River Rd",budget:32e5,spent:18e5,progress:56,status:"in progress",priority:"medium",startDate:"Mar 1, 2024",endDate:"Dec 15, 2024"},{id:"6",name:"City Bridge Renovation",client:"Metro City Council",location:"Old Town Bridge",budget:18e5,spent:0,progress:0,status:"approved",priority:"critical",startDate:"Jul 1, 2024",endDate:"Mar 31, 2025"},{id:"7",name:"Downtown Office Complex",client:"Sunset Developments",location:"123 Main St, Downtown",budget:55e5,spent:21e5,progress:38,status:"in progress",priority:"high",startDate:"Jan 15, 2024",endDate:"Jun 30, 2025"}],D=Q=>Q==null?"£0":`£${Q.toLocaleString()}`,q=Q=>({planning:"bg-yellow-100 text-yellow-800","in progress":"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800"})[Q]||"bg-gray-100 text-gray-800",G=Q=>({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"})[Q]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Projects"}),e.jsx("p",{className:"text-gray-600",children:"Manage all your construction projects"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:s,onChange:Q=>a(Q.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:Q=>l(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in progress",children:"In Progress"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsxs("select",{value:o,onChange:Q=>u(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"industrial",children:"Industrial"})]}),e.jsxs("button",{type:"button",onClick:()=>T(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Project"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(Q=>e.jsxs("div",{onClick:()=>m(Q.id),className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all cursor-pointer hover:scale-105",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${q(Q.status)}`,children:Q.status}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G(Q.priority)}`,children:Q.priority})]})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:Q.name}),e.jsx("p",{className:"text-sm text-gray-600",children:Q.client})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:Q.location}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Budget:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:D(Q.budget)})]}),Q.spent>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Spent:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:D(Q.spent)})]}),Q.progress>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Progress:"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[Q.progress,"%"]})]}),Q.startDate&&Q.endDate&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{children:Q.startDate}),e.jsx("span",{className:"mx-1",children:"→"}),e.jsx("span",{children:Q.endDate})]})]}),e.jsxs("button",{type:"button",className:"w-full bg-gray-50 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{children:"View Details"})]})]},Q.id))}),e.jsx(R2,{isOpen:A,onClose:()=>T(!1),onSuccess:()=>{L(),T(!1)}})]})},L2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({name:"",contact_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",type:"commercial",status:"active"}),[u,d]=E.useState(!1),[m,g]=E.useState(null);if(!s)return null;const x=async f=>{f.preventDefault(),d(!0),g(null);try{const y=localStorage.getItem("user"),w=y?JSON.parse(y):null,b=(w==null?void 0:w.company_id)||"company-1",k=await(await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:b})})).json();k.success?(r(),a(),o({name:"",contact_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",type:"commercial",status:"active"})):g(k.error||"Failed to create client")}catch(y){g(y.message||"Failed to create client")}finally{d(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"New Client"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:f=>o({...l,name:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),e.jsx("input",{type:"text",value:l.contact_name,onChange:f=>o({...l,contact_name:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter contact name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:l.email,onChange:f=>o({...l,email:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:l.phone,onChange:f=>o({...l,phone:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(555) 123-4567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:l.address,onChange:f=>o({...l,address:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Street address"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:l.city,onChange:f=>o({...l,city:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",value:l.state,onChange:f=>o({...l,state:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"State"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zip Code"}),e.jsx("input",{type:"text",value:l.zip_code,onChange:f=>o({...l,zip_code:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12345"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Type"}),e.jsxs("select",{value:l.type,onChange:f=>o({...l,type:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"industrial",children:"Industrial"}),e.jsx("option",{value:"government",children:"Government"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:l.status,onChange:f=>o({...l,status:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin",children:"⏳"}),e.jsx("span",{children:"Creating..."})]}):e.jsx("span",{children:"Create Client"})})]})]})]})})},B2=({isOpen:s,onClose:a,onSuccess:r,client:l})=>{const[o,u]=E.useState({name:"",contact_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:""}),[d,m]=E.useState(!1),[g,x]=E.useState(null);if(E.useEffect(()=>{l&&u({name:l.name||"",contact_name:l.contact_name||"",email:l.email||"",phone:l.phone||"",address:l.address||"",city:l.city||"",state:l.state||"",zip_code:l.zip_code||""})},[l]),!s||!l)return null;const f=async y=>{y.preventDefault(),m(!0),x(null);try{const b=await(await fetch(`/api/clients/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();b.success?(r(),a()):x(b.error||"Failed to update client")}catch(w){x(w.message||"Failed to update client")}finally{m(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Client"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[g&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:g}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Company Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:o.name,onChange:y=>u({...o,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),e.jsx("input",{type:"text",value:o.contact_name,onChange:y=>u({...o,contact_name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:o.email,onChange:y=>u({...o,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:o.phone,onChange:y=>u({...o,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",value:o.address,onChange:y=>u({...o,address:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",value:o.city,onChange:y=>u({...o,city:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),e.jsx("input",{type:"text",value:o.state,onChange:y=>u({...o,state:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),e.jsx("input",{type:"text",value:o.zip_code,onChange:y=>u({...o,zip_code:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Saving...":"Save Changes"})]})]})]})})},U2=({isOpen:s,onClose:a,onConfirm:r,title:l,message:o,itemName:u,loading:d=!1})=>s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:l}),e.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:[o,u&&e.jsxs("span",{className:"block mt-2 font-medium text-gray-900",children:['"',u,'"']})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:e.jsx("p",{className:"text-xs text-red-800 text-center",children:"⚠️ This action cannot be undone"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"button",onClick:a,disabled:d,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"button",onClick:r,disabled:d,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:d?"Deleting...":"Delete"})]})]})})}):null,I2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState("all"),[d,m]=E.useState([]),[g,x]=E.useState(!0),[f,y]=E.useState(null),[w,b]=E.useState(1),[v,k]=E.useState(1),[j,S]=E.useState(!1),[A,T]=E.useState(!1),[L,$]=E.useState(!1),[D,q]=E.useState(null),[G,Q]=E.useState(!1);E.useEffect(()=>{ie()},[s,r,w]);const ie=async()=>{var U;try{x(!0),y(null);const ne=new URLSearchParams({page:w.toString(),limit:"20"});s&&ne.append("search",s),r!=="all"&&ne.append("status",r);const ge=await(await fetch(`/api/clients?${ne}`)).json();ge.success?(m(ge.data),k(((U=ge.pagination)==null?void 0:U.totalPages)||1)):y(ge.error||"Failed to fetch clients")}catch(ne){y(ne.message||"Failed to fetch clients"),m(Z)}finally{x(!1)}},J=async()=>{if(D){Q(!0);try{const ne=await(await fetch(`/api/clients/${D.id}`,{method:"DELETE"})).json();ne.success?($(!1),q(null),ie()):y(ne.error||"Failed to delete client")}catch(U){y(U.message||"Failed to delete client")}finally{Q(!1)}}},Z=[{id:1,name:"Green Valley Homes",contact_name:"Sarah Johnson",email:"sarah@greenvalley.com",phone:"(555) 234-5678",address:"",status:"active",type:"residential",projects:2,revenue:42e4},{id:2,name:"Green Valley Homes",contact_name:"Sarah Johnson",email:"sarah@greenvalley.com",phone:"555-0456",address:"456 Oak Ave, Los Angeles, CA",status:"active",type:"residential",projects:5,revenue:18e5},{id:3,name:"Industrial Partners LLC",contact_name:"Michael Chen",email:"mchen@industrialp.com",phone:"555-0789",address:"789 Industrial Blvd, Chicago, IL",status:"active",type:"industrial",projects:2,revenue:32e5},{id:4,name:"Metro City Council",contact_name:"David Chen",email:"d.chen@metrocity.gov",phone:"(555) 345-6789",address:"",status:"active",type:"government",projects:1,revenue:12e5},{id:5,name:"Metro Construction Group",contact_name:"John Anderson",email:"john@metroconstruction.com",phone:"555-0123",address:"123 Main St, New York, NY",status:"active",type:"commercial",projects:3,revenue:25e5},{id:6,name:"Sunset Developments",contact_name:"John Martinez",email:"john@sunsetdev.com",phone:"(555) 123-4567",address:"",status:"active",type:"commercial",projects:3,revenue:85e4}],le=U=>U==null?"£0":`£${U.toLocaleString()}`,se=U=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800"})[U]||"bg-gray-100 text-gray-800",oe=U=>({residential:"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",industrial:"bg-orange-100 text-orange-800",government:"bg-indigo-100 text-indigo-800"})[U]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Clients"}),e.jsx("p",{className:"text-gray-600",children:"Manage your client relationships"}),g&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[e.jsx("span",{className:"inline-block animate-spin mr-2",children:"⏳"}),"Loading clients..."]}),f&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["⚠️ ",f]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search clients...",value:s,onChange:U=>a(U.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:U=>l(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsxs("select",{value:o,onChange:U=>u(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"industrial",children:"Industrial"}),e.jsx("option",{value:"government",children:"Government"})]}),e.jsxs("button",{type:"button",onClick:()=>S(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Client"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(U=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${se(U.status)}`,children:U.status}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${oe(U.type)}`,children:U.type})]})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:U.name}),e.jsx("p",{className:"text-sm text-gray-600",children:U.contact_name})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("a",{href:`mailto:${U.email}`,className:"hover:text-blue-600",children:U.email})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("a",{href:`tel:${U.phone}`,className:"hover:text-blue-600",children:U.phone})]}),U.address&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:U.address})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-1",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("span",{children:"Projects:"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:U.projects})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-1",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Revenue:"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:le(U.revenue)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"button",onClick:()=>{q(U),T(!0)},className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),e.jsxs("button",{type:"button",onClick:()=>{q(U),$(!0)},className:"flex-1 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center justify-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})]},U.id))}),e.jsx(L2,{isOpen:j,onClose:()=>S(!1),onSuccess:()=>{ie(),S(!1)}}),e.jsx(B2,{isOpen:A,onClose:()=>{T(!1),q(null)},onSuccess:()=>{ie(),T(!1),q(null)},client:D}),e.jsx(U2,{isOpen:L,onClose:()=>{$(!1),q(null)},onConfirm:J,title:"Delete Client",message:"Are you sure you want to delete this client? This will also remove all associated projects and data.",itemName:D==null?void 0:D.name,loading:G})]})},P2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({project_id:"",subject:"",description:"",priority:"medium",due_date:""}),[u,d]=E.useState([]),[m,g]=E.useState(!1),[x,f]=E.useState(null);E.useEffect(()=>{s&&y()},[s]);const y=async()=>{try{const v=await(await fetch("/api/projects?limit=100")).json();v.success&&d(v.data)}catch(b){console.error("Failed to fetch projects:",b)}};if(!s)return null;const w=async b=>{b.preventDefault(),g(!0),f(null);try{const v=localStorage.getItem("user"),k=v?JSON.parse(v):null,j=(k==null?void 0:k.company_id)||"company-1",A=await(await fetch("/api/rfis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:j,project_id:parseInt(l.project_id),rfi_number:`RFI-${Date.now()}`,status:"open"})})).json();A.success?(r(),a(),o({project_id:"",subject:"",description:"",priority:"medium",due_date:""})):f(A.error||"Failed to create RFI")}catch(v){f(v.message||"Failed to create RFI")}finally{g(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New RFI"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:l.project_id,onChange:b=>o({...l,project_id:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a project"}),u.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:l.subject,onChange:b=>o({...l,subject:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter RFI subject"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{required:!0,value:l.description,onChange:b=>o({...l,description:b.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe the information request..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{value:l.priority,onChange:b=>o({...l,priority:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:l.due_date,onChange:b=>o({...l,due_date:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Creating...":"Create RFI"})]})]})]})})},$2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState([]),[d,m]=E.useState(!0),[g,x]=E.useState(null),[f,y]=E.useState(!1);E.useEffect(()=>{w()},[s,r]);const w=async()=>{try{m(!0);const A=new URLSearchParams({page:"1",limit:"50"});s&&A.append("search",s),r!=="all"&&A.append("status",r);const L=await(await fetch(`/api/rfis?${A}`)).json();L.success?u(L.data):x(L.error)}catch(A){x(A.message),u(b)}finally{m(!1)}},b=[{id:"RFI-2024-001",title:"Clarification on HVAC Duct Sizing",description:"The mechanical drawings show 14-inch ducts for the main supply, but the specifications call for 16-inch. Which should we follow?",project:"Downtown Office Complex",status:"answered",priority:"high",category:"design",submittedTo:"Engineering Team",dueDate:"Dec 20, 2024",response:"Use 16-inch ducts as specified in the specifications document. The drawings will be updated in the next revision.",respondedBy:"Lead Engineer",responseDate:"Dec 18, 2024",overdue:!1},{id:"RFI-2024-002",title:"Flooring Material Confirmation",description:"Owner requested premium hardwood, but budget shows standard laminate. Need clarification before ordering.",project:"Riverside Luxury Apartments",status:"open",priority:"urgent",category:"materials",submittedTo:"Owner",dueDate:"Dec 25, 2024",response:null,respondedBy:null,responseDate:null,overdue:!0,overdueDays:287},{id:"RFI-2024-003",title:"Fire Rating Requirements",description:"Do interior partition walls on 3rd floor require 1-hour or 2-hour fire rating per local code?",project:"Downtown Office Complex",status:"pending response",priority:"high",category:"code compliance",submittedTo:"Code Inspector",dueDate:"Dec 22, 2024",response:null,respondedBy:null,responseDate:null,overdue:!0,overdueDays:290}],v={total:3,open:2,overdue:2,answered:1},k=A=>({answered:"bg-green-100 text-green-800",open:"bg-blue-100 text-blue-800","pending response":"bg-yellow-100 text-yellow-800",closed:"bg-gray-100 text-gray-800"})[A]||"bg-gray-100 text-gray-800",j=A=>({answered:"✓",open:"○","pending response":"⏳",closed:"✕"})[A]||"○",S=A=>({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[A]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"RFIs"}),e.jsx("p",{className:"text-gray-600",children:"Manage Requests for Information"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New RFI"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search RFIs...",value:s,onChange:A=>a(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:A=>l(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"pending response",children:"Pending Response"}),e.jsx("option",{value:"answered",children:"Answered"}),e.jsx("option",{value:"closed",children:"Closed"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total RFIs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.total})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center text-2xl",children:"📋"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Open"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.open})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center text-2xl",children:"○"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overdue"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.overdue})]}),e.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center text-2xl",children:"⚠️"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Answered"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.answered})]}),e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center text-2xl",children:"✓"})]})})]}),e.jsx("div",{className:"space-y-4",children:o.map(A=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${k(A.status)}`,children:[e.jsx("span",{children:j(A.status)}),e.jsx("span",{children:A.status})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S(A.priority)}`,children:A.priority}),A.overdue&&e.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:[A.overdueDays,"d overdue"]})]})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["RFI #",A.id]}),e.jsx("p",{className:"text-sm text-gray-600",children:A.project})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:A.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:A.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Category: "}),e.jsx("span",{className:"font-medium text-gray-900",children:A.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Submitted to: "}),e.jsx("span",{className:"font-medium text-gray-900",children:A.submittedTo})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Due: "}),e.jsx("span",{className:"font-medium text-gray-900",children:A.dueDate})]})]}),A.response&&e.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Response:"}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:A.response}),e.jsxs("p",{className:"text-xs text-gray-500",children:["By ",A.respondedBy," on ",A.responseDate]})]})]}),!A.response&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),e.jsx("span",{children:"Respond"})]})})]},A.id))}),e.jsx(P2,{isOpen:f,onClose:()=>y(!1),onSuccess:()=>{y(!1),w()}})]})},q2=({onClose:s,onSave:a})=>{const[r,l]=E.useState("modern"),[o,u]=E.useState({invoiceNumber:`INV-${Date.now()}`,invoiceDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],companyName:"CortexBuild Ltd",companyAddress:"123 Construction Ave, London, UK",companyEmail:"billing@cortexbuild.com",companyPhone:"+44 20 1234 5678",clientName:"",clientAddress:"",clientEmail:"",clientPhone:"",items:[{description:"",quantity:1,rate:0,amount:0}],notes:"Thank you for your business!",terms:"Payment due within 30 days",subtotal:0,tax:0,total:0}),d=[{id:"modern",name:"Modern",color:"bg-blue-500"},{id:"classic",name:"Classic",color:"bg-gray-800"},{id:"creative",name:"Creative",color:"bg-teal-500"},{id:"minimalist",name:"Minimalist",color:"bg-gray-400"},{id:"corporate",name:"Corporate",color:"bg-gray-700"},{id:"artistic",name:"Artistic",color:"bg-red-800"},{id:"teal",name:"Teal",color:"bg-teal-600"},{id:"geometric",name:"Geometric",color:"bg-yellow-500"},{id:"handwritten",name:"Handwritten",color:"bg-gray-600"},{id:"vintage",name:"Vintage",color:"bg-amber-700"}],m=()=>{u({...o,items:[...o.items,{description:"",quantity:1,rate:0,amount:0}]})},g=v=>{const k=o.items.filter((j,S)=>S!==v);u({...o,items:k}),f(k)},x=(v,k,j)=>{const S=[...o.items];S[v]={...S[v],[k]:j},(k==="quantity"||k==="rate")&&(S[v].amount=S[v].quantity*S[v].rate),u({...o,items:S}),f(S)},f=v=>{const k=v.reduce((A,T)=>A+T.amount,0),j=k*.2,S=k+j;u(A=>({...A,subtotal:k,tax:j,total:S}))},y=v=>`£${v.toFixed(2)}`,w=()=>{window.print()},b=()=>{a(o)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",children:e.jsxs("div",{className:"min-h-screen p-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-4 bg-white rounded-lg shadow-lg p-4 print:hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Builder"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Print / PDF"}),e.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save Invoice"}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Template"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(v=>e.jsx("button",{onClick:()=>l(v.id),className:`px-4 py-2 rounded-lg transition-all ${r===v.id?`${v.color} text-white shadow-lg scale-105`:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v.name},v.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Your Company"}),e.jsx("input",{type:"text",placeholder:"Company Name",value:o.companyName,onChange:v=>u({...o,companyName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),e.jsx("input",{type:"text",placeholder:"Address",value:o.companyAddress,onChange:v=>u({...o,companyAddress:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),e.jsx("input",{type:"email",placeholder:"Email",value:o.companyEmail,onChange:v=>u({...o,companyEmail:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),e.jsx("input",{type:"tel",placeholder:"Phone",value:o.companyPhone,onChange:v=>u({...o,companyPhone:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Bill To"}),e.jsx("input",{type:"text",placeholder:"Client Name",value:o.clientName,onChange:v=>u({...o,clientName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),e.jsx("input",{type:"text",placeholder:"Address",value:o.clientAddress,onChange:v=>u({...o,clientAddress:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),e.jsx("input",{type:"email",placeholder:"Email",value:o.clientEmail,onChange:v=>u({...o,clientEmail:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),e.jsx("input",{type:"tel",placeholder:"Phone",value:o.clientPhone,onChange:v=>u({...o,clientPhone:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice #"}),e.jsx("input",{type:"text",value:o.invoiceNumber,onChange:v=>u({...o,invoiceNumber:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Date"}),e.jsx("input",{type:"date",value:o.invoiceDate,onChange:v=>u({...o,invoiceDate:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:o.dueDate,onChange:v=>u({...o,dueDate:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Line Items"}),e.jsx("button",{onClick:m,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"+ Add Item"})]}),o.items.map((v,k)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[e.jsx("input",{type:"text",placeholder:"Description",value:v.description,onChange:j=>x(k,"description",j.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg"}),e.jsx("input",{type:"number",placeholder:"Qty",value:v.quantity,onChange:j=>x(k,"quantity",parseFloat(j.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg"}),e.jsx("input",{type:"number",placeholder:"Rate",value:v.rate,onChange:j=>x(k,"rate",parseFloat(j.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg"}),e.jsx("div",{className:"col-span-2 px-3 py-2 bg-gray-100 rounded-lg flex items-center",children:y(v.amount)}),e.jsx("button",{onClick:()=>g(k),className:"col-span-1 px-2 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"×"})]},k))]})]}),e.jsxs("div",{className:`a4-preview-container ${r} bg-white mx-auto shadow-2xl`,style:{width:"21cm",minHeight:"29.7cm",padding:"1cm",fontFamily:"system-ui, -apple-system, sans-serif"},children:[e.jsx("header",{style:{borderBottom:"2px solid #e5e7eb",paddingBottom:"1rem",marginBottom:"2rem"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.5rem"},children:o.companyName}),e.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:[o.companyAddress,e.jsx("br",{}),o.companyEmail,e.jsx("br",{}),o.companyPhone]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#2563eb",marginBottom:"0.5rem"},children:"INVOICE"}),e.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["#",o.invoiceNumber]})]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginBottom:"2rem"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Bill To"}),e.jsxs("p",{style:{fontSize:"0.875rem",color:"#1f2937",lineHeight:"1.5"},children:[e.jsx("strong",{children:o.clientName}),e.jsx("br",{}),o.clientAddress,e.jsx("br",{}),o.clientEmail,e.jsx("br",{}),o.clientPhone]})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Invoice Details"}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[e.jsx("span",{children:"Invoice Date:"}),e.jsx("span",{children:o.invoiceDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Due Date:"}),e.jsx("span",{children:o.dueDate})]})]})]})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"2rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f3f4f6",borderBottom:"2px solid #d1d5db"},children:[e.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Description"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Qty"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Rate"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Amount"})]})}),e.jsx("tbody",{children:o.items.map((v,k)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[e.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem",color:"#1f2937"},children:v.description}),e.jsx("td",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",color:"#1f2937"},children:v.quantity}),e.jsx("td",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",color:"#1f2937"},children:y(v.rate)}),e.jsx("td",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",color:"#1f2937"},children:y(v.amount)})]},k))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:e.jsxs("div",{style:{width:"300px",backgroundColor:"#f9fafb",border:"1px solid #f3f4f6",borderRadius:"0.5rem",padding:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.875rem"},children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:y(o.subtotal)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.875rem"},children:[e.jsx("span",{children:"Tax (20%):"}),e.jsx("span",{children:y(o.tax)})]}),e.jsx("div",{style:{borderTop:"2px solid #d1d5db",paddingTop:"0.5rem",marginTop:"0.5rem"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"bold"},children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:y(o.total)})]})})]})}),e.jsxs("div",{style:{backgroundColor:"#dcfce7",color:"#166534",padding:"1rem",borderRadius:"0.5rem",marginBottom:"2rem",textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Amount Due"}),e.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:y(o.total)})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Notes"}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:o.notes})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Terms & Conditions"}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:o.terms})]})]})]})]})})},H2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState([]),[d,m]=E.useState(!0),[g,x]=E.useState(null),[f,y]=E.useState(!1);E.useEffect(()=>{w()},[s,r]);const w=async()=>{try{m(!0);const S=new URLSearchParams({page:"1",limit:"50"});s&&S.append("search",s),r!=="all"&&S.append("status",r);const T=await(await fetch(`/api/invoices?${S}`)).json();T.success?u(T.data):x(T.error)}catch(S){x(S.message),u(b)}finally{m(!1)}},b=[{id:"INV-2024-001",client:"Metro Construction Group",project:"Downtown Office Complex",description:"Progress billing - Phase 1 completion",amount:486e3,status:"paid",type:"progress",issueDate:"Nov 1, 2024",dueDate:"Nov 30, 2024",paidAmount:486e3,paidDate:"Nov 28, 2024"},{id:"INV-2024-002",client:"Green Valley Homes",project:"Riverside Luxury Apartments",description:"Progress billing - Foundation and framing",amount:302400,status:"sent",type:"progress",issueDate:"Dec 1, 2024",dueDate:"Dec 31, 2024",paidAmount:0,paidDate:null},{id:"INV-2024-003",client:"Metro Construction Group",project:"Downtown Office Complex",description:"Progress billing - Phase 2 structural work",amount:561600,status:"viewed",type:"progress",issueDate:"Dec 15, 2024",dueDate:"Jan 15, 2025",paidAmount:0,paidDate:null},{id:"INV-2024-002",client:"Green Valley Homes",project:"Riverside Apartments",description:"Progress payment - 50% completion",amount:172800,status:"sent",type:"progress",issueDate:"May 15, 2024",dueDate:"Jun 15, 2024",paidAmount:0,paidDate:null},{id:"INV-2024-001",client:"Sunset Developments",project:"Downtown Office Complex",description:"Progress payment - Phase 1 completion",amount:486e3,status:"paid",type:"progress",issueDate:"Feb 1, 2024",dueDate:"Mar 1, 2024",paidAmount:486e3,paidDate:"Feb 28, 2024"}],v=S=>S==null?"£0.00":`£${S.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,k=S=>({paid:"bg-green-100 text-green-800",sent:"bg-blue-100 text-blue-800",viewed:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"})[S]||"bg-gray-100 text-gray-800",j=S=>({paid:"✓",sent:"📤",viewed:"👁",overdue:"⚠️",draft:"📝"})[S]||"📄";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Invoices"}),e.jsx("p",{className:"text-gray-600",children:"Manage billing and payments"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search invoices...",value:s,onChange:S=>a(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:S=>l(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"viewed",children:"Viewed"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"draft",children:"Draft"})]}),e.jsxs("button",{type:"button",onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Invoice"})]})]})]})}),e.jsx("div",{className:"space-y-4",children:o.map((S,A)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${k(S.status)}`,children:[e.jsx("span",{children:j(S.status)}),e.jsx("span",{children:S.status})]}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:v(S.amount)})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Invoice #",S.id]}),e.jsx("p",{className:"text-sm text-gray-600",children:S.client})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Project:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.project})]}),e.jsx("p",{className:"text-sm text-gray-600",children:S.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Issue Date:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.issueDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Due Date:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.dueDate})]}),S.paidAmount>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Paid:"}),e.jsx("p",{className:"text-sm font-medium text-green-600",children:v(S.paidAmount)})]}),e.jsx("div",{children:e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:S.type})})]})]})]},`${S.id}-${A}`))}),f&&e.jsx(q2,{onClose:()=>y(!1),onSave:async S=>{try{const A=localStorage.getItem("user"),T=A?JSON.parse(A):null,L=(T==null?void 0:T.company_id)||"company-1";(await fetch("/api/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:L,invoice_number:S.invoiceNumber,client_name:S.clientName,description:S.items.map(D=>D.description).join(", "),total:S.total,status:"draft",issue_date:S.invoiceDate,due_date:S.dueDate})})).ok&&(y(!1),w())}catch(A){console.error("Failed to save invoice:",A)}}})]})},F2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({project_id:"",date:new Date().toISOString().split("T")[0],hours:"",description:"",billable:!0,hourly_rate:""}),[u,d]=E.useState([]),[m,g]=E.useState(!1),[x,f]=E.useState(null);E.useEffect(()=>{s&&y()},[s]);const y=async()=>{try{const k=await(await fetch("/api/projects?limit=100")).json();k.success&&d(k.data)}catch(v){console.error("Failed to fetch projects:",v)}};if(!s)return null;const w=async v=>{v.preventDefault(),g(!0),f(null);try{const k=localStorage.getItem("user"),j=k?JSON.parse(k):null,S=(j==null?void 0:j.company_id)||"company-1",A=(j==null?void 0:j.id)||"user-1",L=await(await fetch("/api/time-entries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:S,user_id:A,project_id:parseInt(l.project_id),hours:parseFloat(l.hours),hourly_rate:l.hourly_rate?parseFloat(l.hourly_rate):null})})).json();L.success?(r(),a(),o({project_id:"",date:new Date().toISOString().split("T")[0],hours:"",description:"",billable:!0,hourly_rate:""})):f(L.error||"Failed to create time entry")}catch(k){f(k.message||"Failed to create time entry")}finally{g(!1)}},b=l.hours&&l.hourly_rate?(parseFloat(l.hours)*parseFloat(l.hourly_rate)).toFixed(2):"0.00";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Log Time Entry"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:l.project_id,onChange:v=>o({...l,project_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select project"}),u.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:l.date,onChange:v=>o({...l,date:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hours ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",required:!0,step:"0.25",min:"0.25",max:"24",value:l.hours,onChange:v=>o({...l,hours:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"8.0"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{required:!0,value:l.description,onChange:v=>o({...l,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"What did you work on?"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:l.billable,onChange:v=>o({...l,billable:v.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Billable"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate ($)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:l.hourly_rate,onChange:v=>o({...l,hourly_rate:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"75.00"})]})]}),l.hours&&l.hourly_rate&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Amount:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-900",children:["$",b]})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Logging...":"Log Time"})]})]})]})})},V2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("this-week"),[o,u]=E.useState("all"),[d,m]=E.useState([]),[g,x]=E.useState(!0),[f,y]=E.useState(null),[w,b]=E.useState({totalHours:0,revenue:0,entries:0}),[v,k]=E.useState(!1);E.useEffect(()=>{j()},[s,r,o]);const j=async()=>{try{x(!0);const A=new URLSearchParams({page:"1",limit:"100"});o!=="all"&&A.append("project_id",o);const L=await(await fetch(`/api/time-entries?${A}`)).json();if(L.success){m(L.data);const $=L.data.reduce((q,G)=>q+(G.hours||0),0),D=L.data.reduce((q,G)=>q+(G.amount||0),0);b({totalHours:$,revenue:D,entries:L.data.length})}else y(L.error)}catch(A){y(A.message),m(S)}finally{x(!1)}},S=[{id:"1",project:"Manufacturing Facility Expansion",description:"",date:"Oct 7, 2025",hours:16,rate:0,amount:0,billable:!0,category:"labor",employee:"Adrian Stanca"}];return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Time Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Log and manage your work hours"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>k(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Log Time"})]}),e.jsxs("select",{value:r,onChange:A=>l(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"last-month",children:"Last Month"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Hours"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[w.totalHours,"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center text-2xl",children:"⏱️"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["£",w.revenue.toFixed(2)]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center text-2xl",children:"💰"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Entries"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.entries})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center text-2xl",children:"📝"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search time entries...",value:s,onChange:A=>a(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),e.jsxs("select",{value:o,onChange:A=>u(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Projects"}),e.jsx("option",{value:"downtown",children:"Downtown Office Complex"}),e.jsx("option",{value:"riverside",children:"Riverside Luxury Apartments"}),e.jsx("option",{value:"manufacturing",children:"Manufacturing Facility Expansion"})]})]}),e.jsx("div",{className:"space-y-4",children:d.map(A=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:A.project}),A.billable&&e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Billable"})]}),A.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-2",children:[e.jsx("span",{children:A.date}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"font-semibold",children:[A.hours,"h"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["£",A.amount.toFixed(2)]}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:A.category})]})]})},A.id))}),e.jsx(F2,{isOpen:v,onClose:()=>k(!1),onSuccess:()=>{k(!1),j()}})]})},G2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({name:"",trade:"electrical",contact_name:"",email:"",phone:"",license_number:"",insurance_expiry:"",status:"active"}),[u,d]=E.useState(!1),[m,g]=E.useState(null);if(!s)return null;const x=async f=>{f.preventDefault(),d(!0),g(null);try{const y=localStorage.getItem("user"),w=y?JSON.parse(y):null,b=(w==null?void 0:w.company_id)||"company-1",k=await(await fetch("/api/subcontractors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:b})})).json();k.success?(r(),a(),o({name:"",trade:"electrical",contact_name:"",email:"",phone:"",license_number:"",insurance_expiry:"",status:"active"})):g(k.error||"Failed to create subcontractor")}catch(y){g(y.message||"Failed to create subcontractor")}finally{d(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"New Subcontractor"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:f=>o({...l,name:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trade *"}),e.jsxs("select",{required:!0,value:l.trade,onChange:f=>o({...l,trade:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"electrical",children:"Electrical"}),e.jsx("option",{value:"plumbing",children:"Plumbing"}),e.jsx("option",{value:"hvac",children:"HVAC"}),e.jsx("option",{value:"carpentry",children:"Carpentry"}),e.jsx("option",{value:"masonry",children:"Masonry"}),e.jsx("option",{value:"roofing",children:"Roofing"}),e.jsx("option",{value:"painting",children:"Painting"}),e.jsx("option",{value:"flooring",children:"Flooring"}),e.jsx("option",{value:"landscaping",children:"Landscaping"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name"}),e.jsx("input",{type:"text",value:l.contact_name,onChange:f=>o({...l,contact_name:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contact person"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:l.email,onChange:f=>o({...l,email:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:l.phone,onChange:f=>o({...l,phone:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(555) 123-4567"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),e.jsx("input",{type:"text",value:l.license_number,onChange:f=>o({...l,license_number:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"License #"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Expiry"}),e.jsx("input",{type:"date",value:l.insurance_expiry,onChange:f=>o({...l,insurance_expiry:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:l.status,onChange:f=>o({...l,status:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin",children:"⏳"}),e.jsx("span",{children:"Creating..."})]}):e.jsx("span",{children:"Create Subcontractor"})})]})]})]})})},Y2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState("directory"),[d,m]=E.useState([]),[g,x]=E.useState(!0),[f,y]=E.useState(null),[w,b]=E.useState(!1);E.useEffect(()=>{v()},[s,r]);const v=async()=>{try{x(!0);const S=new URLSearchParams({page:"1",limit:"50"});s&&S.append("search",s),r!=="all"&&S.append("trade",r);const T=await(await fetch(`/api/subcontractors?${S}`)).json();T.success?m(T.data):y(T.error)}catch(S){y(S.message),m(k)}finally{x(!1)}},k=[{id:"1",name:"Elite Electrical Services",trade:"electrical",contact:"Mike Johnson",email:"mike@eliteelectrical.com",phone:"555-0101",license:"EC-12345",status:"active",rating:5,projects:0,onTimeRate:92,insuranceExpiring:!0},{id:"2",name:"Premier HVAC Inc",trade:"hvac",contact:"David Chen",email:"david@premierhvac.com",phone:"555-0103",license:"HV-24680",status:"active",rating:5,projects:0,onTimeRate:88,insuranceExpiring:!0},{id:"3",name:"ProPlumb Solutions",trade:"plumbing",contact:"Sarah Martinez",email:"sarah@proplumb.com",phone:"555-0102",license:"PL-67890",status:"active",rating:5,projects:0,onTimeRate:95,insuranceExpiring:!0}],j=S=>Array.from({length:5},(A,T)=>e.jsx("span",{className:T<S?"text-yellow-400":"text-gray-300",children:"★"},T));return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Subcontractors"}),e.jsx("p",{className:"text-gray-600",children:"Manage your subcontractor network"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search subcontractors...",value:s,onChange:S=>a(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:S=>l(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Trades"}),e.jsx("option",{value:"electrical",children:"Electrical"}),e.jsx("option",{value:"hvac",children:"HVAC"}),e.jsx("option",{value:"plumbing",children:"Plumbing"}),e.jsx("option",{value:"carpentry",children:"Carpentry"})]}),e.jsxs("button",{type:"button",onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Add Subcontractor"})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{type:"button",onClick:()=>u("directory"),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="directory"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Directory"}),e.jsx("button",{type:"button",onClick:()=>u("assignments"),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="assignments"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Assignments"})]})})}),o==="directory"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(S=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-2xl",children:"🔧"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:S.status}),S.insuranceExpiring&&e.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{children:"Insurance Expiring"})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),e.jsx("p",{className:"text-sm text-gray-600",children:S.trade})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{children:S.contact})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{children:S.email})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{children:S.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("span",{children:["License: ",S.license]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Rating:"}),e.jsx("div",{className:"flex",children:j(S.rating)})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Projects:"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:S.projects})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"On-time Rate:"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[S.onTimeRate,"%"]})]})]}),e.jsxs("button",{type:"button",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Assign to Project"})]})]},S.id))}),o==="assignments"&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"No assignments yet. Assign subcontractors to projects from the Directory tab."})}),e.jsx(G2,{isOpen:w,onClose:()=>b(!1),onSuccess:()=>{v(),b(!1)}})]})},K2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({project_id:"",vendor_name:"",po_number:"",description:"",amount:"",status:"pending",order_date:new Date().toISOString().split("T")[0],delivery_date:""}),[u,d]=E.useState([]),[m,g]=E.useState(!1),[x,f]=E.useState(null);E.useEffect(()=>{s&&(y(),o(b=>({...b,po_number:`PO-${Date.now()}`})))},[s]);const y=async()=>{try{const v=await(await fetch("/api/projects?limit=100")).json();v.success&&d(v.data)}catch(b){console.error("Failed to fetch projects:",b)}};if(!s)return null;const w=async b=>{b.preventDefault(),g(!0),f(null);try{const v=localStorage.getItem("user"),k=v?JSON.parse(v):null,j=(k==null?void 0:k.company_id)||"company-1",A=await(await fetch("/api/purchase-orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:j,project_id:parseInt(l.project_id),amount:parseFloat(l.amount)})})).json();A.success?(r(),a(),o({project_id:"",vendor_name:"",po_number:"",description:"",amount:"",status:"pending",order_date:new Date().toISOString().split("T")[0],delivery_date:""})):f(A.error||"Failed to create purchase order")}catch(v){f(v.message||"Failed to create purchase order")}finally{g(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Purchase Order"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:l.project_id,onChange:b=>o({...l,project_id:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select project"}),u.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["PO Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:l.po_number,onChange:b=>o({...l,po_number:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"PO-12345"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:l.vendor_name,onChange:b=>o({...l,vendor_name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter vendor name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{required:!0,value:l.description,onChange:b=>o({...l,description:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe the purchase..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ($) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:l.amount,onChange:b=>o({...l,amount:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:l.status,onChange:b=>o({...l,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"ordered",children:"Ordered"}),e.jsx("option",{value:"received",children:"Received"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:l.order_date,onChange:b=>o({...l,order_date:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date"}),e.jsx("input",{type:"date",value:l.delivery_date,onChange:b=>o({...l,delivery_date:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Creating...":"Create PO"})]})]})]})})},J2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState([]),[d,m]=E.useState(!0),[g,x]=E.useState(null),[f,y]=E.useState(!1);E.useEffect(()=>{w()},[s,r]);const w=async()=>{try{m(!0);const j=new URLSearchParams({page:"1",limit:"50"});s&&j.append("search",s),r!=="all"&&j.append("status",r);const A=await(await fetch(`/api/purchase-orders?${j}`)).json();A.success?u(A.data):x(A.error)}catch(j){x(j.message),u(b)}finally{m(!1)}},b=[{id:"PO-2024-001",vendor:"ABC Supplies Inc",project:"Downtown Office Complex",items:"Steel beams, concrete mix",amount:45e3,status:"approved",orderDate:"Dec 1, 2024",deliveryDate:"Dec 15, 2024",receivedDate:null},{id:"PO-2024-002",vendor:"BuildMart Wholesale",project:"Riverside Luxury Apartments",items:"Lumber, drywall, insulation",amount:32500,status:"pending",orderDate:"Dec 5, 2024",deliveryDate:"Dec 20, 2024",receivedDate:null}],v=j=>j==null?"£0.00":`£${j.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,k=j=>({approved:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",received:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[j]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Purchase Orders"}),e.jsx("p",{className:"text-gray-600",children:"Manage procurement and orders"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search purchase orders...",value:s,onChange:j=>a(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"received",children:"Received"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("button",{type:"button",onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Purchase Order"})]})]})]})}),e.jsx("div",{className:"space-y-4",children:o.map(j=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k(j.status)}`,children:j.status}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:v(j.amount)})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["PO #",j.id]}),e.jsx("p",{className:"text-sm text-gray-600",children:j.vendor})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Project:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.project})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Items:"}),e.jsx("p",{className:"text-sm text-gray-600",children:j.items})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Order Date:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.orderDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Delivery Date:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.deliveryDate})]}),j.receivedDate&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Received:"}),e.jsx("p",{className:"text-sm font-medium text-green-600",children:j.receivedDate})]})]})]})]},j.id))}),e.jsx(K2,{isOpen:f,onClose:()=>y(!1),onSuccess:()=>{y(!1),w()}})]})},Q2=({isOpen:s,onClose:a,onSuccess:r})=>{const[l,o]=E.useState({project_id:"",title:"",description:"",category:"contract",file_url:"",file_size:"",file_type:""}),[u,d]=E.useState([]),[m,g]=E.useState(!1),[x,f]=E.useState(null);E.useEffect(()=>{s&&y()},[s]);const y=async()=>{try{const v=await(await fetch("/api/projects?limit=100")).json();v.success&&d(v.data)}catch(b){console.error("Failed to fetch projects:",b)}};if(!s)return null;const w=async b=>{b.preventDefault(),g(!0),f(null);try{const v=localStorage.getItem("user"),k=v?JSON.parse(v):null,j=(k==null?void 0:k.company_id)||"company-1",A=await(await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,company_id:j,project_id:parseInt(l.project_id),file_size:l.file_size?parseInt(l.file_size):null})})).json();A.success?(r(),a(),o({project_id:"",title:"",description:"",category:"contract",file_url:"",file_size:"",file_type:""})):f(A.error||"Failed to create document")}catch(v){f(v.message||"Failed to create document")}finally{g(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Document"}),e.jsx("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:l.project_id,onChange:b=>o({...l,project_id:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select project"}),u.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Document Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:l.title,onChange:b=>o({...l,title:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter document title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:b=>o({...l,description:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe the document..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:l.category,onChange:b=>o({...l,category:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"contract",children:"Contract"}),e.jsx("option",{value:"drawing",children:"Drawing"}),e.jsx("option",{value:"specification",children:"Specification"}),e.jsx("option",{value:"permit",children:"Permit"}),e.jsx("option",{value:"invoice",children:"Invoice"}),e.jsx("option",{value:"report",children:"Report"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File Type"}),e.jsx("input",{type:"text",value:l.file_type,onChange:b=>o({...l,file_type:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"PDF, DOCX, etc."})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["File URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",required:!0,value:l.file_url,onChange:b=>o({...l,file_url:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the URL where the document is stored"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Uploading...":"Upload Document"})]})]})]})})},X2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),[o,u]=E.useState([]),[d,m]=E.useState(!0),[g,x]=E.useState(null),[f,y]=E.useState(!1);E.useEffect(()=>{w()},[s,r]);const w=async()=>{try{m(!0);const k=new URLSearchParams({page:"1",limit:"50"});s&&k.append("search",s),r!=="all"&&k.append("category",r);const S=await(await fetch(`/api/documents?${k}`)).json();S.success?u(S.data):x(S.error)}catch(k){x(k.message),u(b)}finally{m(!1)}},b=[{id:"1",name:"Project Blueprint - Phase 1.pdf",type:"pdf",size:"2.4 MB",project:"Downtown Office Complex",uploadedBy:"Adrian Stanca",uploadDate:"Dec 1, 2024",category:"blueprints"},{id:"2",name:"Safety Inspection Report.docx",type:"docx",size:"156 KB",project:"Riverside Luxury Apartments",uploadedBy:"John Smith",uploadDate:"Dec 5, 2024",category:"reports"},{id:"3",name:"Material Specifications.xlsx",type:"xlsx",size:"89 KB",project:"Manufacturing Facility Expansion",uploadedBy:"Sarah Johnson",uploadDate:"Dec 10, 2024",category:"specifications"}],v=k=>({pdf:"📄",docx:"📝",xlsx:"📊",jpg:"🖼️",png:"🖼️",zip:"📦"})[k]||"📁";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Documents"}),e.jsx("p",{className:"text-gray-600",children:"Manage project files and documents"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search documents...",value:s,onChange:k=>a(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:k=>l(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"docx",children:"Word"}),e.jsx("option",{value:"xlsx",children:"Excel"}),e.jsx("option",{value:"images",children:"Images"})]}),e.jsxs("button",{type:"button",onClick:()=>setShowCreateModal(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{children:"Upload Document"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(k=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx("div",{className:"text-4xl",children:v(k.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate mb-1",children:k.name}),e.jsx("p",{className:"text-xs text-gray-500",children:k.size})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Project: "}),e.jsx("span",{className:"font-medium text-gray-900",children:k.project})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Category: "}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:k.category})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Uploaded by ",k.uploadedBy," on ",k.uploadDate]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Download"}),e.jsx("button",{type:"button",className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]},k.id))}),e.jsx(Q2,{isOpen:f,onClose:()=>y(!1),onSuccess:()=>{y(!1),w()}})]})},Z2=()=>{const[s,a]=E.useState("this-month"),r=[{id:"1",name:"Financial Summary",description:"Overview of revenue, expenses, and profit",icon:"💰",color:"green"},{id:"2",name:"Project Progress",description:"Status and completion rates of all projects",icon:"📊",color:"blue"},{id:"3",name:"Time Tracking",description:"Hours logged by team and project",icon:"⏱️",color:"purple"},{id:"4",name:"Invoice Status",description:"Paid, pending, and overdue invoices",icon:"📄",color:"yellow"},{id:"5",name:"Budget vs Actual",description:"Compare budgeted vs actual costs",icon:"📈",color:"red"},{id:"6",name:"Resource Allocation",description:"Team and equipment utilization",icon:"👥",color:"indigo"}],l=o=>({green:"bg-green-50 text-green-600 border-green-200",blue:"bg-blue-50 text-blue-600 border-blue-200",purple:"bg-purple-50 text-purple-600 border-purple-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",red:"bg-red-50 text-red-600 border-red-200",indigo:"bg-indigo-50 text-indigo-600 border-indigo-200"})[o]||"bg-gray-50 text-gray-600 border-gray-200";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports"}),e.jsx("p",{className:"text-gray-600",children:"Analytics and insights for your business"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:s,onChange:o=>a(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"this-quarter",children:"This Quarter"}),e.jsx("option",{value:"this-year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]}),e.jsxs("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Export All"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(o=>e.jsxs("div",{className:`rounded-xl border-2 p-6 hover:shadow-lg transition-all cursor-pointer ${l(o.color)}`,children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:o.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:o.name}),e.jsx("p",{className:"text-sm text-gray-600",children:o.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",className:"flex-1 bg-white text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium border border-gray-300",children:"View Report"}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]},o.id))}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"£972,000"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+12% vs last month"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Projects"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"4"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"of 7 total"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Outstanding"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"£1,036,800"}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Awaiting payment"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Team Hours"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"16.0h"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This week"})]})]})]})},W2=()=>{const[s,a]=E.useState(""),[r,l]=E.useState("all"),o=[{id:"1",date:"Dec 15, 2024",description:"Invoice Payment - Metro Construction",category:"Revenue",account:"Accounts Receivable",debit:486e3,credit:0,balance:486e3,reference:"INV-2024-001"},{id:"2",date:"Dec 10, 2024",description:"Material Purchase - ABC Supplies",category:"Expenses",account:"Materials",debit:0,credit:45e3,balance:441e3,reference:"PO-2024-001"},{id:"3",date:"Dec 5, 2024",description:"Subcontractor Payment - Elite Electrical",category:"Expenses",account:"Labor",debit:0,credit:12500,balance:428500,reference:"PAY-2024-015"}],u=m=>m==null?"£0.00":`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,d=m=>({Revenue:"bg-green-100 text-green-800",Expenses:"bg-red-100 text-red-800",Assets:"bg-blue-100 text-blue-800",Liabilities:"bg-yellow-100 text-yellow-800"})[m]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ledger"}),e.jsx("p",{className:"text-gray-600",children:"Financial transactions and accounting"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:s,onChange:m=>a(m.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("select",{value:r,onChange:m=>l(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"expenses",children:"Expenses"}),e.jsx("option",{value:"assets",children:"Assets"}),e.jsx("option",{value:"liabilities",children:"Liabilities"})]}),e.jsxs("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"New Entry"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Debits"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:u(486e3)})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Credits"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:u(57500)})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Balance"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u(428500)})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d(m.category)}`,children:m.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:m.account}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-green-600",children:m.debit>0?u(m.debit):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-red-600",children:m.credit>0?u(m.credit):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:u(m.balance)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.reference})]},m.id))})]})})})]})},ew=()=>{const[s,a]=E.useState("profile");return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{type:"button",onClick:()=>a("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="profile"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Profile"}),e.jsx("button",{type:"button",onClick:()=>a("company"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="company"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Company"}),e.jsx("button",{type:"button",onClick:()=>a("notifications"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="notifications"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Notifications"}),e.jsx("button",{type:"button",onClick:()=>a("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Security"})]})})}),s==="profile"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",defaultValue:"Adrian",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",defaultValue:"Stanca",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",defaultValue:"adrian.stanca1@gmail.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",defaultValue:"+44 123 456 7890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})})]})]}),s==="company"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Company Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",defaultValue:"ConstructAI",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{rows:3,defaultValue:"123 Construction Ave, London, UK",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax ID"}),e.jsx("input",{type:"text",defaultValue:"GB123456789",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number"}),e.jsx("input",{type:"text",defaultValue:"12345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})})]})]}),s==="notifications"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:["Email notifications","Project updates","Invoice reminders","Team mentions","Weekly reports"].map(r=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-900",children:r}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},r))})]}),s==="security"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Update Password"})})]})]})]})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,l)=>l?l.toUpperCase():r.toLowerCase()),yg=s=>{const a=nw(s);return a.charAt(0).toUpperCase()+a.slice(1)},hy=(...s)=>s.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim(),sw=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=E.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:u,iconNode:d,...m},g)=>E.createElement("svg",{ref:g,...aw,width:a,height:a,stroke:s,strokeWidth:l?Number(r)*24/Number(a):r,className:hy("lucide",o),...!u&&!sw(m)&&{"aria-hidden":"true"},...m},[...d.map(([x,f])=>E.createElement(x,f)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(s,a)=>{const r=E.forwardRef(({className:l,...o},u)=>E.createElement(rw,{ref:u,iconNode:a,className:hy(`lucide-${tw(yg(s))}`,`lucide-${s}`,l),...o}));return r.displayName=yg(s),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_t=he("activity",lw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],my=he("book",iw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Oo=he("bot",ow);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ia=he("building-2",cw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],dw=he("building",uw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mw=he("calendar",hw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zo=he("chart-column",fw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],eh=he("chart-pie",pw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],th=he("check",xw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_h=he("circle-alert",gw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],et=he("circle-check-big",yw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lo=he("circle-x",bw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pr=he("clock",vw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Ft=he("code",jw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fy=he("copy",ww);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Sw=he("cpu",Nw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],wn=he("database",kw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ch=he("dollar-sign",_w);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ms=he("download",Cw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ew=he("external-link",Aw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dw=he("eye",Tw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Mw=he("file-code",Ow);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],py=he("file-text",Rw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],xy=he("folder-open",zw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pl=he("funnel",Lw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Go=he("git-branch",Bw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Iw=he("globe",Uw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nh=he("grid-3x3",Pw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],gy=he("hard-drive",$w);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Nd=he("key",qw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Fw=he("lock-open",Hw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gw=he("lock",Vw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yy=he("mail",Yw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Jw=he("maximize-2",Kw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xr=he("message-square",Qw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Zw=he("minimize-2",Xw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gr=he("package",Ww);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],sh=he("pause",eN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],by=he("pen",tN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],On=he("play",nN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ss=he("plus",sN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],vy=he("puzzle",aN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lN=he("refresh-cw",rN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],oN=he("rocket",iN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yo=he("save",cN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wr=he("search",uN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hN=he("send",dN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],fN=he("server",mN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nr=he("settings",pN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ah=he("shield",xN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ra=he("sparkles",gN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jy=he("square-pen",yN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kl=he("star",bN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],bg=he("table",vN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],vg=he("test-tube",jN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],NN=he("thumbs-up",wN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ca=he("trash-2",SN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jl=he("trending-up",kN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CN=he("triangle-alert",_N);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jg=he("upload",AN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TN=he("user-check",EN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ON=he("user-x",DN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nn=he("users",MN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],oa=he("webhook",RN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],LN=he("workflow",zN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],wg=he("wrench",BN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ah=he("x",UN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ct=he("zap",IN),wy=()=>{const[s,a]=E.useState([]),[r,l]=E.useState([]),[o,u]=E.useState(new Set),[d,m]=E.useState(!0),[g,x]=E.useState(""),[f,y]=E.useState(""),[w,b]=E.useState("downloads");E.useEffect(()=>{v(),k(),j()},[f,w]);const v=async()=>{try{const L=localStorage.getItem("token"),D=await(await fetch("http://localhost:3001/api/marketplace/categories",{headers:{Authorization:`Bearer ${L}`}})).json();D.success&&l(D.data)}catch(L){console.error("Failed to fetch categories:",L)}},k=async()=>{try{const L=localStorage.getItem("token"),$=new URLSearchParams;f&&$.append("category",f),w&&$.append("sort",w);const q=await(await fetch(`http://localhost:3001/api/marketplace/modules?${$}`,{headers:{Authorization:`Bearer ${L}`}})).json();q.success&&a(q.data)}catch(L){console.error("Failed to fetch modules:",L)}finally{m(!1)}},j=async()=>{try{const L=localStorage.getItem("token"),D=await(await fetch("http://localhost:3001/api/marketplace/installed",{headers:{Authorization:`Bearer ${L}`}})).json();if(D.success){const q=new Set(D.data.map(G=>G.module_id));u(q)}}catch(L){console.error("Failed to fetch installed modules:",L)}},S=async L=>{try{const $=localStorage.getItem("token"),q=await(await fetch("http://localhost:3001/api/marketplace/install",{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({module_id:L})})).json();q.success?(u(G=>new Set([...G,L])),alert("Module installed successfully!")):alert(q.error||"Failed to install module")}catch($){console.error("Install error:",$),alert("Failed to install module")}},A=async L=>{if(confirm("Are you sure you want to uninstall this module?"))try{const $=localStorage.getItem("token");(await(await fetch(`http://localhost:3001/api/marketplace/uninstall/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}})).json()).success&&(u(G=>{const Q=new Set(G);return Q.delete(L),Q}),alert("Module uninstalled successfully!"))}catch($){console.error("Uninstall error:",$),alert("Failed to uninstall module")}},T=s.filter(L=>L.name.toLowerCase().includes(g.toLowerCase())||L.description.toLowerCase().includes(g.toLowerCase()));return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Module Marketplace"}),e.jsx("p",{className:"text-gray-600",children:"Extend your CortexBuild platform with powerful modules"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative md:col-span-2",children:[e.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search modules...",value:g,onChange:L=>x(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:w,onChange:L=>b(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"downloads",children:"Most Popular"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Pl,{className:"w-5 h-5"}),e.jsx("span",{children:"Categories"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>y(""),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${f===""?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"All Modules"}),e.jsx("span",{className:"text-sm text-gray-500",children:s.length})]})}),r.map(L=>e.jsx("button",{onClick:()=>y(L.slug),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${f===L.slug?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:L.name}),e.jsx("span",{className:"text-sm text-gray-500",children:L.module_count})]})},L.id))]})]})}),e.jsx("div",{className:"lg:col-span-3",children:d?e.jsx("div",{className:"text-center py-12",children:"Loading modules..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(L=>{const $=o.has(L.id);return e.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:L.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:L.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:L.downloads.toLocaleString()})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Kl,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsxs("span",{children:[L.rating," (",L.reviews_count,")"]})]})]})]}),$&&e.jsx("div",{className:"ml-4 p-2 bg-green-100 rounded-full",children:e.jsx(th,{className:"w-5 h-5 text-green-600"})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["v",L.version]}),L.is_free?e.jsx("span",{className:"ml-3 px-2 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded",children:"FREE"}):e.jsxs("span",{className:"ml-3 text-lg font-bold text-gray-900",children:["£",L.price]})]}),$?e.jsxs("button",{onClick:()=>A(L.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[e.jsx(Ah,{className:"w-4 h-4"}),e.jsx("span",{children:"Uninstall"})]}):e.jsxs("button",{onClick:()=>S(L.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(gr,{className:"w-4 h-4"}),e.jsx("span",{children:"Install"})]})]})]},L.id)})})})]})]})})};function PN(s,a){const r={};return(s[s.length-1]===""?[...s,""]:s).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const $N=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HN={};function Ng(s,a){return(HN.jsx?qN:$N).test(s)}const FN=/[ \t\n\f\r]/g;function VN(s){return typeof s=="object"?s.type==="text"?Sg(s.value):!1:Sg(s)}function Sg(s){return s.replace(FN,"")===""}class Ql{constructor(a,r,l){this.normal=r,this.property=a,l&&(this.space=l)}}Ql.prototype.normal={};Ql.prototype.property={};Ql.prototype.space=void 0;function Ny(s,a){const r={},l={};for(const o of s)Object.assign(r,o.property),Object.assign(l,o.normal);return new Ql(r,l,a)}function rh(s){return s.toLowerCase()}class Vt{constructor(a,r){this.attribute=r,this.property=a}}Vt.prototype.attribute="";Vt.prototype.booleanish=!1;Vt.prototype.boolean=!1;Vt.prototype.commaOrSpaceSeparated=!1;Vt.prototype.commaSeparated=!1;Vt.prototype.defined=!1;Vt.prototype.mustUseProperty=!1;Vt.prototype.number=!1;Vt.prototype.overloadedBoolean=!1;Vt.prototype.property="";Vt.prototype.spaceSeparated=!1;Vt.prototype.space=void 0;let GN=0;const _e=ua(),dt=ua(),lh=ua(),re=ua(),Je=ua(),dr=ua(),en=ua();function ua(){return 2**++GN}const ih=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:dt,commaOrSpaceSeparated:en,commaSeparated:dr,number:re,overloadedBoolean:lh,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),Sd=Object.keys(ih);class Eh extends Vt{constructor(a,r,l,o){let u=-1;if(super(a,r),kg(this,"space",o),typeof l=="number")for(;++u<Sd.length;){const d=Sd[u];kg(this,Sd[u],(l&ih[d])===ih[d])}}}Eh.prototype.defined=!0;function kg(s,a,r){r&&(s[a]=r)}function Sr(s){const a={},r={};for(const[l,o]of Object.entries(s.properties)){const u=new Eh(l,s.transform(s.attributes||{},l),o,s.space);s.mustUseProperty&&s.mustUseProperty.includes(l)&&(u.mustUseProperty=!0),a[l]=u,r[rh(l)]=l,r[rh(u.attribute)]=l}return new Ql(a,r,s.space)}const Sy=Sr({properties:{ariaActiveDescendant:null,ariaAtomic:dt,ariaAutoComplete:null,ariaBusy:dt,ariaChecked:dt,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:dt,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:dt,ariaFlowTo:Je,ariaGrabbed:dt,ariaHasPopup:null,ariaHidden:dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:re,ariaLive:null,ariaModal:dt,ariaMultiLine:dt,ariaMultiSelectable:dt,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:dt,ariaReadOnly:dt,ariaRelevant:null,ariaRequired:dt,ariaRoleDescription:Je,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:dt,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(s,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function ky(s,a){return a in s?s[a]:a}function _y(s,a){return ky(s,a.toLowerCase())}const YN=Sr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dr,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:Je,autoFocus:_e,autoPlay:_e,blocking:Je,capture:null,charSet:null,checked:_e,cite:null,className:Je,cols:re,colSpan:null,content:null,contentEditable:dt,controls:_e,controlsList:Je,coords:re|dr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:lh,draggable:dt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:Je,height:re,hidden:lh,high:re,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:Je,itemRef:Je,itemScope:_e,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:re,pattern:null,ping:Je,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:Je,required:_e,reversed:_e,rows:re,rowSpan:re,sandbox:Je,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:dt,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:dt,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:_y}),KN=Sr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:en,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dr,g2:dr,glyphName:dr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:en,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:en,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:en,rev:en,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:en,requiredFeatures:en,requiredFonts:en,requiredFormats:en,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:en,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:en,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:en,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ky}),Cy=Sr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(s,a){return"xlink:"+a.slice(5).toLowerCase()}}),Ay=Sr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_y}),Ey=Sr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(s,a){return"xml:"+a.slice(3).toLowerCase()}}),JN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QN=/[A-Z]/g,_g=/-[a-z]/g,XN=/^data[-\w.:]+$/i;function ZN(s,a){const r=rh(a);let l=a,o=Vt;if(r in s.normal)return s.property[s.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&XN.test(a)){if(a.charAt(4)==="-"){const u=a.slice(5).replace(_g,eS);l="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=a.slice(4);if(!_g.test(u)){let d=u.replace(QN,WN);d.charAt(0)!=="-"&&(d="-"+d),a="data"+d}}o=Eh}return new o(l,a)}function WN(s){return"-"+s.toLowerCase()}function eS(s){return s.charAt(1).toUpperCase()}const tS=Ny([Sy,YN,Cy,Ay,Ey],"html"),Th=Ny([Sy,KN,Cy,Ay,Ey],"svg");function nS(s){return s.join(" ").trim()}var er={},kd,Cg;function sS(){if(Cg)return kd;Cg=1;var s=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,r=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,m=/^\s+|\s+$/g,g=`
`,x="/",f="*",y="",w="comment",b="declaration";kd=function(k,j){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];j=j||{};var S=1,A=1;function T(le){var se=le.match(a);se&&(S+=se.length);var oe=le.lastIndexOf(g);A=~oe?le.length-oe:A+le.length}function L(){var le={line:S,column:A};return function(se){return se.position=new $(le),G(),se}}function $(le){this.start=le,this.end={line:S,column:A},this.source=j.source}$.prototype.content=k;function D(le){var se=new Error(j.source+":"+S+":"+A+": "+le);if(se.reason=le,se.filename=j.source,se.line=S,se.column=A,se.source=k,!j.silent)throw se}function q(le){var se=le.exec(k);if(se){var oe=se[0];return T(oe),k=k.slice(oe.length),se}}function G(){q(r)}function Q(le){var se;for(le=le||[];se=ie();)se!==!1&&le.push(se);return le}function ie(){var le=L();if(!(x!=k.charAt(0)||f!=k.charAt(1))){for(var se=2;y!=k.charAt(se)&&(f!=k.charAt(se)||x!=k.charAt(se+1));)++se;if(se+=2,y===k.charAt(se-1))return D("End of comment missing");var oe=k.slice(2,se-2);return A+=2,T(oe),k=k.slice(se),A+=2,le({type:w,comment:oe})}}function J(){var le=L(),se=q(l);if(se){if(ie(),!q(o))return D("property missing ':'");var oe=q(u),U=le({type:b,property:v(se[0].replace(s,y)),value:oe?v(oe[0].replace(s,y)):y});return q(d),U}}function Z(){var le=[];Q(le);for(var se;se=J();)se!==!1&&(le.push(se),Q(le));return le}return G(),Z()};function v(k){return k?k.replace(m,y):y}return kd}var Ag;function aS(){if(Ag)return er;Ag=1;var s=er&&er.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(er,"__esModule",{value:!0}),er.default=r;var a=s(sS());function r(l,o){var u=null;if(!l||typeof l!="string")return u;var d=(0,a.default)(l),m=typeof o=="function";return d.forEach(function(g){if(g.type==="declaration"){var x=g.property,f=g.value;m?o(x,f,g):f&&(u=u||{},u[x]=f)}}),u}return er}var Sl={},Eg;function rS(){if(Eg)return Sl;Eg=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.camelCase=void 0;var s=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,r=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(x){return!x||r.test(x)||s.test(x)},d=function(x,f){return f.toUpperCase()},m=function(x,f){return"".concat(f,"-")},g=function(x,f){return f===void 0&&(f={}),u(x)?x:(x=x.toLowerCase(),f.reactCompat?x=x.replace(o,m):x=x.replace(l,m),x.replace(a,d))};return Sl.camelCase=g,Sl}var kl,Tg;function lS(){if(Tg)return kl;Tg=1;var s=kl&&kl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},a=s(aS()),r=rS();function l(o,u){var d={};return!o||typeof o!="string"||(0,a.default)(o,function(m,g){m&&g&&(d[(0,r.camelCase)(m,u)]=g)}),d}return l.default=l,kl=l,kl}var iS=lS();const oS=Hl(iS),Ty=Dy("end"),Dh=Dy("start");function Dy(s){return a;function a(r){const l=r&&r.position&&r.position[s]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function cS(s){const a=Dh(s),r=Ty(s);if(a&&r)return{start:a,end:r}}function Ml(s){return!s||typeof s!="object"?"":"position"in s||"type"in s?Dg(s.position):"start"in s||"end"in s?Dg(s):"line"in s||"column"in s?oh(s):""}function oh(s){return Og(s&&s.line)+":"+Og(s&&s.column)}function Dg(s){return oh(s&&s.start)+"-"+oh(s&&s.end)}function Og(s){return s&&typeof s=="number"?s:1}class At extends Error{constructor(a,r,l){super(),typeof r=="string"&&(l=r,r=void 0);let o="",u={},d=!1;if(r&&("line"in r&&"column"in r?u={place:r}:"start"in r&&"end"in r?u={place:r}:"type"in r?u={ancestors:[r],place:r.position}:u={...r}),typeof a=="string"?o=a:!u.cause&&a&&(d=!0,o=a.message,u.cause=a),!u.ruleId&&!u.source&&typeof l=="string"){const g=l.indexOf(":");g===-1?u.ruleId=l:(u.source=l.slice(0,g),u.ruleId=l.slice(g+1))}if(!u.place&&u.ancestors&&u.ancestors){const g=u.ancestors[u.ancestors.length-1];g&&(u.place=g.position)}const m=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=m?m.line:void 0,this.name=Ml(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}At.prototype.file="";At.prototype.name="";At.prototype.reason="";At.prototype.message="";At.prototype.stack="";At.prototype.column=void 0;At.prototype.line=void 0;At.prototype.ancestors=void 0;At.prototype.cause=void 0;At.prototype.fatal=void 0;At.prototype.place=void 0;At.prototype.ruleId=void 0;At.prototype.source=void 0;const Oh={}.hasOwnProperty,uS=new Map,dS=/[A-Z]/g,hS=new Set(["table","tbody","thead","tfoot","tr"]),mS=new Set(["td","th"]),Oy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fS(s,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=a.filePath||void 0;let l;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=wS(r,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=jS(r,a.jsx,a.jsxs)}const o={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:l,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?Th:tS,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},u=My(o,s,void 0);return u&&typeof u!="string"?u:o.create(s,o.Fragment,{children:u||void 0},void 0)}function My(s,a,r){if(a.type==="element")return pS(s,a,r);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return xS(s,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return yS(s,a,r);if(a.type==="mdxjsEsm")return gS(s,a);if(a.type==="root")return bS(s,a,r);if(a.type==="text")return vS(s,a)}function pS(s,a,r){const l=s.schema;let o=l;a.tagName.toLowerCase()==="svg"&&l.space==="html"&&(o=Th,s.schema=o),s.ancestors.push(a);const u=zy(s,a.tagName,!1),d=NS(s,a);let m=Rh(s,a);return hS.has(a.tagName)&&(m=m.filter(function(g){return typeof g=="string"?!VN(g):!0})),Ry(s,d,u,a),Mh(d,m),s.ancestors.pop(),s.schema=l,s.create(a,u,d,r)}function xS(s,a){if(a.data&&a.data.estree&&s.evaluater){const l=a.data.estree.body[0];return l.type,s.evaluater.evaluateExpression(l.expression)}$l(s,a.position)}function gS(s,a){if(a.data&&a.data.estree&&s.evaluater)return s.evaluater.evaluateProgram(a.data.estree);$l(s,a.position)}function yS(s,a,r){const l=s.schema;let o=l;a.name==="svg"&&l.space==="html"&&(o=Th,s.schema=o),s.ancestors.push(a);const u=a.name===null?s.Fragment:zy(s,a.name,!0),d=SS(s,a),m=Rh(s,a);return Ry(s,d,u,a),Mh(d,m),s.ancestors.pop(),s.schema=l,s.create(a,u,d,r)}function bS(s,a,r){const l={};return Mh(l,Rh(s,a)),s.create(a,s.Fragment,l,r)}function vS(s,a){return a.value}function Ry(s,a,r,l){typeof r!="string"&&r!==s.Fragment&&s.passNode&&(a.node=l)}function Mh(s,a){if(a.length>0){const r=a.length>1?a:a[0];r&&(s.children=r)}}function jS(s,a,r){return l;function l(o,u,d,m){const x=Array.isArray(d.children)?r:a;return m?x(u,d,m):x(u,d)}}function wS(s,a){return r;function r(l,o,u,d){const m=Array.isArray(u.children),g=Dh(l);return a(o,u,d,m,{columnNumber:g?g.column-1:void 0,fileName:s,lineNumber:g?g.line:void 0},void 0)}}function NS(s,a){const r={};let l,o;for(o in a.properties)if(o!=="children"&&Oh.call(a.properties,o)){const u=kS(s,o,a.properties[o]);if(u){const[d,m]=u;s.tableCellAlignToStyle&&d==="align"&&typeof m=="string"&&mS.has(a.tagName)?l=m:r[d]=m}}if(l){const u=r.style||(r.style={});u[s.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return r}function SS(s,a){const r={};for(const l of a.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&s.evaluater){const u=l.data.estree.body[0];u.type;const d=u.expression;d.type;const m=d.properties[0];m.type,Object.assign(r,s.evaluater.evaluateExpression(m.argument))}else $l(s,a.position);else{const o=l.name;let u;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&s.evaluater){const m=l.value.data.estree.body[0];m.type,u=s.evaluater.evaluateExpression(m.expression)}else $l(s,a.position);else u=l.value===null?!0:l.value;r[o]=u}return r}function Rh(s,a){const r=[];let l=-1;const o=s.passKeys?new Map:uS;for(;++l<a.children.length;){const u=a.children[l];let d;if(s.passKeys){const g=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(g){const x=o.get(g)||0;d=g+"-"+x,o.set(g,x+1)}}const m=My(s,u,d);m!==void 0&&r.push(m)}return r}function kS(s,a,r){const l=ZN(s.schema,a);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=l.commaSeparated?PN(r):nS(r)),l.property==="style"){let o=typeof r=="object"?r:_S(s,String(r));return s.stylePropertyNameCase==="css"&&(o=CS(o)),["style",o]}return[s.elementAttributeNameCase==="react"&&l.space?JN[l.property]||l.property:l.attribute,r]}}function _S(s,a){try{return oS(a,{reactCompat:!0})}catch(r){if(s.ignoreInvalidStyle)return{};const l=r,o=new At("Cannot parse `style` attribute",{ancestors:s.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=s.filePath||void 0,o.url=Oy+"#cannot-parse-style-attribute",o}}function zy(s,a,r){let l;if(!r)l={type:"Literal",value:a};else if(a.includes(".")){const o=a.split(".");let u=-1,d;for(;++u<o.length;){const m=Ng(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};d=d?{type:"MemberExpression",object:d,property:m,computed:!!(u&&m.type==="Literal"),optional:!1}:m}l=d}else l=Ng(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(l.type==="Literal"){const o=l.value;return Oh.call(s.components,o)?s.components[o]:o}if(s.evaluater)return s.evaluater.evaluateExpression(l);$l(s)}function $l(s,a){const r=new At("Cannot handle MDX estrees without `createEvaluater`",{ancestors:s.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=s.filePath||void 0,r.url=Oy+"#cannot-handle-mdx-estrees-without-createevaluater",r}function CS(s){const a={};let r;for(r in s)Oh.call(s,r)&&(a[AS(r)]=s[r]);return a}function AS(s){let a=s.replace(dS,ES);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function ES(s){return"-"+s.toLowerCase()}const _d={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TS={};function DS(s,a){const r=TS,l=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Ly(s,l,o)}function Ly(s,a,r){if(OS(s)){if("value"in s)return s.type==="html"&&!r?"":s.value;if(a&&"alt"in s&&s.alt)return s.alt;if("children"in s)return Mg(s.children,a,r)}return Array.isArray(s)?Mg(s,a,r):""}function Mg(s,a,r){const l=[];let o=-1;for(;++o<s.length;)l[o]=Ly(s[o],a,r);return l.join("")}function OS(s){return!!(s&&typeof s=="object")}const Rg=document.createElement("i");function zh(s){const a="&"+s+";";Rg.innerHTML=a;const r=Rg.textContent;return r.charCodeAt(r.length-1)===59&&s!=="semi"||r===a?!1:r}function Mn(s,a,r,l){const o=s.length;let u=0,d;if(a<0?a=-a>o?0:o+a:a=a>o?o:a,r=r>0?r:0,l.length<1e4)d=Array.from(l),d.unshift(a,r),s.splice(...d);else for(r&&s.splice(a,r);u<l.length;)d=l.slice(u,u+1e4),d.unshift(a,0),s.splice(...d),u+=1e4,a+=1e4}function pn(s,a){return s.length>0?(Mn(s,s.length,0,a),s):a}const zg={}.hasOwnProperty;function MS(s){const a={};let r=-1;for(;++r<s.length;)RS(a,s[r]);return a}function RS(s,a){let r;for(r in a){const o=(zg.call(s,r)?s[r]:void 0)||(s[r]={}),u=a[r];let d;if(u)for(d in u){zg.call(o,d)||(o[d]=[]);const m=u[d];zS(o[d],Array.isArray(m)?m:m?[m]:[])}}}function zS(s,a){let r=-1;const l=[];for(;++r<a.length;)(a[r].add==="after"?s:l).push(a[r]);Mn(s,0,0,l)}function By(s,a){const r=Number.parseInt(s,a);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function hr(s){return s.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dn=Rs(/[A-Za-z]/),nn=Rs(/[\dA-Za-z]/),LS=Rs(/[#-'*+\--9=?A-Z^-~]/);function ch(s){return s!==null&&(s<32||s===127)}const uh=Rs(/\d/),BS=Rs(/[\dA-Fa-f]/),US=Rs(/[!-/:-@[-`{-~]/);function ve(s){return s!==null&&s<-2}function Ht(s){return s!==null&&(s<0||s===32)}function Ie(s){return s===-2||s===-1||s===32}const IS=Rs(new RegExp("\\p{P}|\\p{S}","u")),PS=Rs(/\s/);function Rs(s){return a;function a(r){return r!==null&&r>-1&&s.test(String.fromCharCode(r))}}function kr(s){const a=[];let r=-1,l=0,o=0;for(;++r<s.length;){const u=s.charCodeAt(r);let d="";if(u===37&&nn(s.charCodeAt(r+1))&&nn(s.charCodeAt(r+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const m=s.charCodeAt(r+1);u<56320&&m>56319&&m<57344?(d=String.fromCharCode(u,m),o=1):d="�"}else d=String.fromCharCode(u);d&&(a.push(s.slice(l,r),encodeURIComponent(d)),l=r+o+1,d=""),o&&(r+=o,o=0)}return a.join("")+s.slice(l)}function Qe(s,a,r,l){const o=l?l-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(g){return Ie(g)?(s.enter(r),m(g)):a(g)}function m(g){return Ie(g)&&u++<o?(s.consume(g),m):(s.exit(r),a(g))}}const $S={tokenize:qS};function qS(s){const a=s.attempt(this.parser.constructs.contentInitial,l,o);let r;return a;function l(m){if(m===null){s.consume(m);return}return s.enter("lineEnding"),s.consume(m),s.exit("lineEnding"),Qe(s,a,"linePrefix")}function o(m){return s.enter("paragraph"),u(m)}function u(m){const g=s.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=g),r=g,d(m)}function d(m){if(m===null){s.exit("chunkText"),s.exit("paragraph"),s.consume(m);return}return ve(m)?(s.consume(m),s.exit("chunkText"),u):(s.consume(m),d)}}const HS={tokenize:FS},Lg={tokenize:VS};function FS(s){const a=this,r=[];let l=0,o,u,d;return m;function m(T){if(l<r.length){const L=r[l];return a.containerState=L[1],s.attempt(L[0].continuation,g,x)(T)}return x(T)}function g(T){if(l++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,o&&A();const L=a.events.length;let $=L,D;for(;$--;)if(a.events[$][0]==="exit"&&a.events[$][1].type==="chunkFlow"){D=a.events[$][1].end;break}S(l);let q=L;for(;q<a.events.length;)a.events[q][1].end={...D},q++;return Mn(a.events,$+1,0,a.events.slice(L)),a.events.length=q,x(T)}return m(T)}function x(T){if(l===r.length){if(!o)return w(T);if(o.currentConstruct&&o.currentConstruct.concrete)return v(T);a.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return a.containerState={},s.check(Lg,f,y)(T)}function f(T){return o&&A(),S(l),w(T)}function y(T){return a.parser.lazy[a.now().line]=l!==r.length,d=a.now().offset,v(T)}function w(T){return a.containerState={},s.attempt(Lg,b,v)(T)}function b(T){return l++,r.push([a.currentConstruct,a.containerState]),w(T)}function v(T){if(T===null){o&&A(),S(0),s.consume(T);return}return o=o||a.parser.flow(a.now()),s.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),k(T)}function k(T){if(T===null){j(s.exit("chunkFlow"),!0),S(0),s.consume(T);return}return ve(T)?(s.consume(T),j(s.exit("chunkFlow")),l=0,a.interrupt=void 0,m):(s.consume(T),k)}function j(T,L){const $=a.sliceStream(T);if(L&&$.push(null),T.previous=u,u&&(u.next=T),u=T,o.defineSkip(T.start),o.write($),a.parser.lazy[T.start.line]){let D=o.events.length;for(;D--;)if(o.events[D][1].start.offset<d&&(!o.events[D][1].end||o.events[D][1].end.offset>d))return;const q=a.events.length;let G=q,Q,ie;for(;G--;)if(a.events[G][0]==="exit"&&a.events[G][1].type==="chunkFlow"){if(Q){ie=a.events[G][1].end;break}Q=!0}for(S(l),D=q;D<a.events.length;)a.events[D][1].end={...ie},D++;Mn(a.events,G+1,0,a.events.slice(q)),a.events.length=D}}function S(T){let L=r.length;for(;L-- >T;){const $=r[L];a.containerState=$[1],$[0].exit.call(a,s)}r.length=T}function A(){o.write([null]),u=void 0,o=void 0,a.containerState._closeFlow=void 0}}function VS(s,a,r){return Qe(s,s.attempt(this.parser.constructs.document,a,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bg(s){if(s===null||Ht(s)||PS(s))return 1;if(IS(s))return 2}function Lh(s,a,r){const l=[];let o=-1;for(;++o<s.length;){const u=s[o].resolveAll;u&&!l.includes(u)&&(a=u(a,r),l.push(u))}return a}const dh={name:"attention",resolveAll:GS,tokenize:YS};function GS(s,a){let r=-1,l,o,u,d,m,g,x,f;for(;++r<s.length;)if(s[r][0]==="enter"&&s[r][1].type==="attentionSequence"&&s[r][1]._close){for(l=r;l--;)if(s[l][0]==="exit"&&s[l][1].type==="attentionSequence"&&s[l][1]._open&&a.sliceSerialize(s[l][1]).charCodeAt(0)===a.sliceSerialize(s[r][1]).charCodeAt(0)){if((s[l][1]._close||s[r][1]._open)&&(s[r][1].end.offset-s[r][1].start.offset)%3&&!((s[l][1].end.offset-s[l][1].start.offset+s[r][1].end.offset-s[r][1].start.offset)%3))continue;g=s[l][1].end.offset-s[l][1].start.offset>1&&s[r][1].end.offset-s[r][1].start.offset>1?2:1;const y={...s[l][1].end},w={...s[r][1].start};Ug(y,-g),Ug(w,g),d={type:g>1?"strongSequence":"emphasisSequence",start:y,end:{...s[l][1].end}},m={type:g>1?"strongSequence":"emphasisSequence",start:{...s[r][1].start},end:w},u={type:g>1?"strongText":"emphasisText",start:{...s[l][1].end},end:{...s[r][1].start}},o={type:g>1?"strong":"emphasis",start:{...d.start},end:{...m.end}},s[l][1].end={...d.start},s[r][1].start={...m.end},x=[],s[l][1].end.offset-s[l][1].start.offset&&(x=pn(x,[["enter",s[l][1],a],["exit",s[l][1],a]])),x=pn(x,[["enter",o,a],["enter",d,a],["exit",d,a],["enter",u,a]]),x=pn(x,Lh(a.parser.constructs.insideSpan.null,s.slice(l+1,r),a)),x=pn(x,[["exit",u,a],["enter",m,a],["exit",m,a],["exit",o,a]]),s[r][1].end.offset-s[r][1].start.offset?(f=2,x=pn(x,[["enter",s[r][1],a],["exit",s[r][1],a]])):f=0,Mn(s,l-1,r-l+3,x),r=l+x.length-f-2;break}}for(r=-1;++r<s.length;)s[r][1].type==="attentionSequence"&&(s[r][1].type="data");return s}function YS(s,a){const r=this.parser.constructs.attentionMarkers.null,l=this.previous,o=Bg(l);let u;return d;function d(g){return u=g,s.enter("attentionSequence"),m(g)}function m(g){if(g===u)return s.consume(g),m;const x=s.exit("attentionSequence"),f=Bg(g),y=!f||f===2&&o||r.includes(g),w=!o||o===2&&f||r.includes(l);return x._open=!!(u===42?y:y&&(o||!w)),x._close=!!(u===42?w:w&&(f||!y)),a(g)}}function Ug(s,a){s.column+=a,s.offset+=a,s._bufferIndex+=a}const KS={name:"autolink",tokenize:JS};function JS(s,a,r){let l=0;return o;function o(b){return s.enter("autolink"),s.enter("autolinkMarker"),s.consume(b),s.exit("autolinkMarker"),s.enter("autolinkProtocol"),u}function u(b){return Dn(b)?(s.consume(b),d):b===64?r(b):x(b)}function d(b){return b===43||b===45||b===46||nn(b)?(l=1,m(b)):x(b)}function m(b){return b===58?(s.consume(b),l=0,g):(b===43||b===45||b===46||nn(b))&&l++<32?(s.consume(b),m):(l=0,x(b))}function g(b){return b===62?(s.exit("autolinkProtocol"),s.enter("autolinkMarker"),s.consume(b),s.exit("autolinkMarker"),s.exit("autolink"),a):b===null||b===32||b===60||ch(b)?r(b):(s.consume(b),g)}function x(b){return b===64?(s.consume(b),f):LS(b)?(s.consume(b),x):r(b)}function f(b){return nn(b)?y(b):r(b)}function y(b){return b===46?(s.consume(b),l=0,f):b===62?(s.exit("autolinkProtocol").type="autolinkEmail",s.enter("autolinkMarker"),s.consume(b),s.exit("autolinkMarker"),s.exit("autolink"),a):w(b)}function w(b){if((b===45||nn(b))&&l++<63){const v=b===45?w:y;return s.consume(b),v}return r(b)}}const Ko={partial:!0,tokenize:QS};function QS(s,a,r){return l;function l(u){return Ie(u)?Qe(s,o,"linePrefix")(u):o(u)}function o(u){return u===null||ve(u)?a(u):r(u)}}const Uy={continuation:{tokenize:ZS},exit:WS,name:"blockQuote",tokenize:XS};function XS(s,a,r){const l=this;return o;function o(d){if(d===62){const m=l.containerState;return m.open||(s.enter("blockQuote",{_container:!0}),m.open=!0),s.enter("blockQuotePrefix"),s.enter("blockQuoteMarker"),s.consume(d),s.exit("blockQuoteMarker"),u}return r(d)}function u(d){return Ie(d)?(s.enter("blockQuotePrefixWhitespace"),s.consume(d),s.exit("blockQuotePrefixWhitespace"),s.exit("blockQuotePrefix"),a):(s.exit("blockQuotePrefix"),a(d))}}function ZS(s,a,r){const l=this;return o;function o(d){return Ie(d)?Qe(s,u,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return s.attempt(Uy,a,r)(d)}}function WS(s){s.exit("blockQuote")}const Iy={name:"characterEscape",tokenize:e4};function e4(s,a,r){return l;function l(u){return s.enter("characterEscape"),s.enter("escapeMarker"),s.consume(u),s.exit("escapeMarker"),o}function o(u){return US(u)?(s.enter("characterEscapeValue"),s.consume(u),s.exit("characterEscapeValue"),s.exit("characterEscape"),a):r(u)}}const Py={name:"characterReference",tokenize:t4};function t4(s,a,r){const l=this;let o=0,u,d;return m;function m(y){return s.enter("characterReference"),s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),g}function g(y){return y===35?(s.enter("characterReferenceMarkerNumeric"),s.consume(y),s.exit("characterReferenceMarkerNumeric"),x):(s.enter("characterReferenceValue"),u=31,d=nn,f(y))}function x(y){return y===88||y===120?(s.enter("characterReferenceMarkerHexadecimal"),s.consume(y),s.exit("characterReferenceMarkerHexadecimal"),s.enter("characterReferenceValue"),u=6,d=BS,f):(s.enter("characterReferenceValue"),u=7,d=uh,f(y))}function f(y){if(y===59&&o){const w=s.exit("characterReferenceValue");return d===nn&&!zh(l.sliceSerialize(w))?r(y):(s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),s.exit("characterReference"),a)}return d(y)&&o++<u?(s.consume(y),f):r(y)}}const Ig={partial:!0,tokenize:s4},Pg={concrete:!0,name:"codeFenced",tokenize:n4};function n4(s,a,r){const l=this,o={partial:!0,tokenize:$};let u=0,d=0,m;return g;function g(D){return x(D)}function x(D){const q=l.events[l.events.length-1];return u=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,m=D,s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),f(D)}function f(D){return D===m?(d++,s.consume(D),f):d<3?r(D):(s.exit("codeFencedFenceSequence"),Ie(D)?Qe(s,y,"whitespace")(D):y(D))}function y(D){return D===null||ve(D)?(s.exit("codeFencedFence"),l.interrupt?a(D):s.check(Ig,k,L)(D)):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),w(D))}function w(D){return D===null||ve(D)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),y(D)):Ie(D)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),Qe(s,b,"whitespace")(D)):D===96&&D===m?r(D):(s.consume(D),w)}function b(D){return D===null||ve(D)?y(D):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||ve(D)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),y(D)):D===96&&D===m?r(D):(s.consume(D),v)}function k(D){return s.attempt(o,L,j)(D)}function j(D){return s.enter("lineEnding"),s.consume(D),s.exit("lineEnding"),S}function S(D){return u>0&&Ie(D)?Qe(s,A,"linePrefix",u+1)(D):A(D)}function A(D){return D===null||ve(D)?s.check(Ig,k,L)(D):(s.enter("codeFlowValue"),T(D))}function T(D){return D===null||ve(D)?(s.exit("codeFlowValue"),A(D)):(s.consume(D),T)}function L(D){return s.exit("codeFenced"),a(D)}function $(D,q,G){let Q=0;return ie;function ie(oe){return D.enter("lineEnding"),D.consume(oe),D.exit("lineEnding"),J}function J(oe){return D.enter("codeFencedFence"),Ie(oe)?Qe(D,Z,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):Z(oe)}function Z(oe){return oe===m?(D.enter("codeFencedFenceSequence"),le(oe)):G(oe)}function le(oe){return oe===m?(Q++,D.consume(oe),le):Q>=d?(D.exit("codeFencedFenceSequence"),Ie(oe)?Qe(D,se,"whitespace")(oe):se(oe)):G(oe)}function se(oe){return oe===null||ve(oe)?(D.exit("codeFencedFence"),q(oe)):G(oe)}}}function s4(s,a,r){const l=this;return o;function o(d){return d===null?r(d):(s.enter("lineEnding"),s.consume(d),s.exit("lineEnding"),u)}function u(d){return l.parser.lazy[l.now().line]?r(d):a(d)}}const Cd={name:"codeIndented",tokenize:r4},a4={partial:!0,tokenize:l4};function r4(s,a,r){const l=this;return o;function o(x){return s.enter("codeIndented"),Qe(s,u,"linePrefix",5)(x)}function u(x){const f=l.events[l.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?d(x):r(x)}function d(x){return x===null?g(x):ve(x)?s.attempt(a4,d,g)(x):(s.enter("codeFlowValue"),m(x))}function m(x){return x===null||ve(x)?(s.exit("codeFlowValue"),d(x)):(s.consume(x),m)}function g(x){return s.exit("codeIndented"),a(x)}}function l4(s,a,r){const l=this;return o;function o(d){return l.parser.lazy[l.now().line]?r(d):ve(d)?(s.enter("lineEnding"),s.consume(d),s.exit("lineEnding"),o):Qe(s,u,"linePrefix",5)(d)}function u(d){const m=l.events[l.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(d):ve(d)?o(d):r(d)}}const i4={name:"codeText",previous:c4,resolve:o4,tokenize:u4};function o4(s){let a=s.length-4,r=3,l,o;if((s[r][1].type==="lineEnding"||s[r][1].type==="space")&&(s[a][1].type==="lineEnding"||s[a][1].type==="space")){for(l=r;++l<a;)if(s[l][1].type==="codeTextData"){s[r][1].type="codeTextPadding",s[a][1].type="codeTextPadding",r+=2,a-=2;break}}for(l=r-1,a++;++l<=a;)o===void 0?l!==a&&s[l][1].type!=="lineEnding"&&(o=l):(l===a||s[l][1].type==="lineEnding")&&(s[o][1].type="codeTextData",l!==o+2&&(s[o][1].end=s[l-1][1].end,s.splice(o+2,l-o-2),a-=l-o-2,l=o+2),o=void 0);return s}function c4(s){return s!==96||this.events[this.events.length-1][1].type==="characterEscape"}function u4(s,a,r){let l=0,o,u;return d;function d(y){return s.enter("codeText"),s.enter("codeTextSequence"),m(y)}function m(y){return y===96?(s.consume(y),l++,m):(s.exit("codeTextSequence"),g(y))}function g(y){return y===null?r(y):y===32?(s.enter("space"),s.consume(y),s.exit("space"),g):y===96?(u=s.enter("codeTextSequence"),o=0,f(y)):ve(y)?(s.enter("lineEnding"),s.consume(y),s.exit("lineEnding"),g):(s.enter("codeTextData"),x(y))}function x(y){return y===null||y===32||y===96||ve(y)?(s.exit("codeTextData"),g(y)):(s.consume(y),x)}function f(y){return y===96?(s.consume(y),o++,f):o===l?(s.exit("codeTextSequence"),s.exit("codeText"),a(y)):(u.type="codeTextData",x(y))}}class d4{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,r){const l=r??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(a,l):a>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(a,r,l){const o=r||0;this.setCursor(Math.trunc(a));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return l&&_l(this.left,l),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),_l(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),_l(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const r=this.left.splice(a,Number.POSITIVE_INFINITY);_l(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);_l(this.left,r.reverse())}}}function _l(s,a){let r=0;if(a.length<1e4)s.push(...a);else for(;r<a.length;)s.push(...a.slice(r,r+1e4)),r+=1e4}function $y(s){const a={};let r=-1,l,o,u,d,m,g,x;const f=new d4(s);for(;++r<f.length;){for(;r in a;)r=a[r];if(l=f.get(r),r&&l[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(g=l[1]._tokenizer.events,u=0,u<g.length&&g[u][1].type==="lineEndingBlank"&&(u+=2),u<g.length&&g[u][1].type==="content"))for(;++u<g.length&&g[u][1].type!=="content";)g[u][1].type==="chunkText"&&(g[u][1]._isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(Object.assign(a,h4(f,r)),r=a[r],x=!0);else if(l[1]._container){for(u=r,o=void 0;u--;)if(d=f.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),d[1].type="lineEnding",o=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;o&&(l[1].end={...f.get(o)[1].start},m=f.slice(o,r),m.unshift(l),f.splice(o,r-o+1,m))}}return Mn(s,0,Number.POSITIVE_INFINITY,f.slice(0)),!x}function h4(s,a){const r=s.get(a)[1],l=s.get(a)[2];let o=a-1;const u=[];let d=r._tokenizer;d||(d=l.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const m=d.events,g=[],x={};let f,y,w=-1,b=r,v=0,k=0;const j=[k];for(;b;){for(;s.get(++o)[1]!==b;);u.push(o),b._tokenizer||(f=l.sliceStream(b),b.next||f.push(null),y&&d.defineSkip(b.start),b._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(f),b._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=r;++w<m.length;)m[w][0]==="exit"&&m[w-1][0]==="enter"&&m[w][1].type===m[w-1][1].type&&m[w][1].start.line!==m[w][1].end.line&&(k=w+1,j.push(k),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(d.events=[],b?(b._tokenizer=void 0,b.previous=void 0):j.pop(),w=j.length;w--;){const S=m.slice(j[w],j[w+1]),A=u.pop();g.push([A,A+S.length-1]),s.splice(A,2,S)}for(g.reverse(),w=-1;++w<g.length;)x[v+g[w][0]]=v+g[w][1],v+=g[w][1]-g[w][0]-1;return x}const m4={resolve:p4,tokenize:x4},f4={partial:!0,tokenize:g4};function p4(s){return $y(s),s}function x4(s,a){let r;return l;function l(m){return s.enter("content"),r=s.enter("chunkContent",{contentType:"content"}),o(m)}function o(m){return m===null?u(m):ve(m)?s.check(f4,d,u)(m):(s.consume(m),o)}function u(m){return s.exit("chunkContent"),s.exit("content"),a(m)}function d(m){return s.consume(m),s.exit("chunkContent"),r.next=s.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function g4(s,a,r){const l=this;return o;function o(d){return s.exit("chunkContent"),s.enter("lineEnding"),s.consume(d),s.exit("lineEnding"),Qe(s,u,"linePrefix")}function u(d){if(d===null||ve(d))return r(d);const m=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(d):s.interrupt(l.parser.constructs.flow,r,a)(d)}}function qy(s,a,r,l,o,u,d,m,g){const x=g||Number.POSITIVE_INFINITY;let f=0;return y;function y(S){return S===60?(s.enter(l),s.enter(o),s.enter(u),s.consume(S),s.exit(u),w):S===null||S===32||S===41||ch(S)?r(S):(s.enter(l),s.enter(d),s.enter(m),s.enter("chunkString",{contentType:"string"}),k(S))}function w(S){return S===62?(s.enter(u),s.consume(S),s.exit(u),s.exit(o),s.exit(l),a):(s.enter(m),s.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(s.exit("chunkString"),s.exit(m),w(S)):S===null||S===60||ve(S)?r(S):(s.consume(S),S===92?v:b)}function v(S){return S===60||S===62||S===92?(s.consume(S),b):b(S)}function k(S){return!f&&(S===null||S===41||Ht(S))?(s.exit("chunkString"),s.exit(m),s.exit(d),s.exit(l),a(S)):f<x&&S===40?(s.consume(S),f++,k):S===41?(s.consume(S),f--,k):S===null||S===32||S===40||ch(S)?r(S):(s.consume(S),S===92?j:k)}function j(S){return S===40||S===41||S===92?(s.consume(S),k):k(S)}}function Hy(s,a,r,l,o,u){const d=this;let m=0,g;return x;function x(b){return s.enter(l),s.enter(o),s.consume(b),s.exit(o),s.enter(u),f}function f(b){return m>999||b===null||b===91||b===93&&!g||b===94&&!m&&"_hiddenFootnoteSupport"in d.parser.constructs?r(b):b===93?(s.exit(u),s.enter(o),s.consume(b),s.exit(o),s.exit(l),a):ve(b)?(s.enter("lineEnding"),s.consume(b),s.exit("lineEnding"),f):(s.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||ve(b)||m++>999?(s.exit("chunkString"),f(b)):(s.consume(b),g||(g=!Ie(b)),b===92?w:y)}function w(b){return b===91||b===92||b===93?(s.consume(b),m++,y):y(b)}}function Fy(s,a,r,l,o,u){let d;return m;function m(w){return w===34||w===39||w===40?(s.enter(l),s.enter(o),s.consume(w),s.exit(o),d=w===40?41:w,g):r(w)}function g(w){return w===d?(s.enter(o),s.consume(w),s.exit(o),s.exit(l),a):(s.enter(u),x(w))}function x(w){return w===d?(s.exit(u),g(d)):w===null?r(w):ve(w)?(s.enter("lineEnding"),s.consume(w),s.exit("lineEnding"),Qe(s,x,"linePrefix")):(s.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===d||w===null||ve(w)?(s.exit("chunkString"),x(w)):(s.consume(w),w===92?y:f)}function y(w){return w===d||w===92?(s.consume(w),f):f(w)}}function Rl(s,a){let r;return l;function l(o){return ve(o)?(s.enter("lineEnding"),s.consume(o),s.exit("lineEnding"),r=!0,l):Ie(o)?Qe(s,l,r?"linePrefix":"lineSuffix")(o):a(o)}}const y4={name:"definition",tokenize:v4},b4={partial:!0,tokenize:j4};function v4(s,a,r){const l=this;let o;return u;function u(b){return s.enter("definition"),d(b)}function d(b){return Hy.call(l,s,m,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function m(b){return o=hr(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),b===58?(s.enter("definitionMarker"),s.consume(b),s.exit("definitionMarker"),g):r(b)}function g(b){return Ht(b)?Rl(s,x)(b):x(b)}function x(b){return qy(s,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function f(b){return s.attempt(b4,y,y)(b)}function y(b){return Ie(b)?Qe(s,w,"whitespace")(b):w(b)}function w(b){return b===null||ve(b)?(s.exit("definition"),l.parser.defined.push(o),a(b)):r(b)}}function j4(s,a,r){return l;function l(m){return Ht(m)?Rl(s,o)(m):r(m)}function o(m){return Fy(s,u,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function u(m){return Ie(m)?Qe(s,d,"whitespace")(m):d(m)}function d(m){return m===null||ve(m)?a(m):r(m)}}const w4={name:"hardBreakEscape",tokenize:N4};function N4(s,a,r){return l;function l(u){return s.enter("hardBreakEscape"),s.consume(u),o}function o(u){return ve(u)?(s.exit("hardBreakEscape"),a(u)):r(u)}}const S4={name:"headingAtx",resolve:k4,tokenize:_4};function k4(s,a){let r=s.length-2,l=3,o,u;return s[l][1].type==="whitespace"&&(l+=2),r-2>l&&s[r][1].type==="whitespace"&&(r-=2),s[r][1].type==="atxHeadingSequence"&&(l===r-1||r-4>l&&s[r-2][1].type==="whitespace")&&(r-=l+1===r?2:4),r>l&&(o={type:"atxHeadingText",start:s[l][1].start,end:s[r][1].end},u={type:"chunkText",start:s[l][1].start,end:s[r][1].end,contentType:"text"},Mn(s,l,r-l+1,[["enter",o,a],["enter",u,a],["exit",u,a],["exit",o,a]])),s}function _4(s,a,r){let l=0;return o;function o(f){return s.enter("atxHeading"),u(f)}function u(f){return s.enter("atxHeadingSequence"),d(f)}function d(f){return f===35&&l++<6?(s.consume(f),d):f===null||Ht(f)?(s.exit("atxHeadingSequence"),m(f)):r(f)}function m(f){return f===35?(s.enter("atxHeadingSequence"),g(f)):f===null||ve(f)?(s.exit("atxHeading"),a(f)):Ie(f)?Qe(s,m,"whitespace")(f):(s.enter("atxHeadingText"),x(f))}function g(f){return f===35?(s.consume(f),g):(s.exit("atxHeadingSequence"),m(f))}function x(f){return f===null||f===35||Ht(f)?(s.exit("atxHeadingText"),m(f)):(s.consume(f),x)}}const C4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$g=["pre","script","style","textarea"],A4={concrete:!0,name:"htmlFlow",resolveTo:D4,tokenize:O4},E4={partial:!0,tokenize:R4},T4={partial:!0,tokenize:M4};function D4(s){let a=s.length;for(;a--&&!(s[a][0]==="enter"&&s[a][1].type==="htmlFlow"););return a>1&&s[a-2][1].type==="linePrefix"&&(s[a][1].start=s[a-2][1].start,s[a+1][1].start=s[a-2][1].start,s.splice(a-2,2)),s}function O4(s,a,r){const l=this;let o,u,d,m,g;return x;function x(C){return f(C)}function f(C){return s.enter("htmlFlow"),s.enter("htmlFlowData"),s.consume(C),y}function y(C){return C===33?(s.consume(C),w):C===47?(s.consume(C),u=!0,k):C===63?(s.consume(C),o=3,l.interrupt?a:O):Dn(C)?(s.consume(C),d=String.fromCharCode(C),j):r(C)}function w(C){return C===45?(s.consume(C),o=2,b):C===91?(s.consume(C),o=5,m=0,v):Dn(C)?(s.consume(C),o=4,l.interrupt?a:O):r(C)}function b(C){return C===45?(s.consume(C),l.interrupt?a:O):r(C)}function v(C){const ae="CDATA[";return C===ae.charCodeAt(m++)?(s.consume(C),m===ae.length?l.interrupt?a:Z:v):r(C)}function k(C){return Dn(C)?(s.consume(C),d=String.fromCharCode(C),j):r(C)}function j(C){if(C===null||C===47||C===62||Ht(C)){const ae=C===47,fe=d.toLowerCase();return!ae&&!u&&$g.includes(fe)?(o=1,l.interrupt?a(C):Z(C)):C4.includes(d.toLowerCase())?(o=6,ae?(s.consume(C),S):l.interrupt?a(C):Z(C)):(o=7,l.interrupt&&!l.parser.lazy[l.now().line]?r(C):u?A(C):T(C))}return C===45||nn(C)?(s.consume(C),d+=String.fromCharCode(C),j):r(C)}function S(C){return C===62?(s.consume(C),l.interrupt?a:Z):r(C)}function A(C){return Ie(C)?(s.consume(C),A):ie(C)}function T(C){return C===47?(s.consume(C),ie):C===58||C===95||Dn(C)?(s.consume(C),L):Ie(C)?(s.consume(C),T):ie(C)}function L(C){return C===45||C===46||C===58||C===95||nn(C)?(s.consume(C),L):$(C)}function $(C){return C===61?(s.consume(C),D):Ie(C)?(s.consume(C),$):T(C)}function D(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(s.consume(C),g=C,q):Ie(C)?(s.consume(C),D):G(C)}function q(C){return C===g?(s.consume(C),g=null,Q):C===null||ve(C)?r(C):(s.consume(C),q)}function G(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Ht(C)?$(C):(s.consume(C),G)}function Q(C){return C===47||C===62||Ie(C)?T(C):r(C)}function ie(C){return C===62?(s.consume(C),J):r(C)}function J(C){return C===null||ve(C)?Z(C):Ie(C)?(s.consume(C),J):r(C)}function Z(C){return C===45&&o===2?(s.consume(C),U):C===60&&o===1?(s.consume(C),ne):C===62&&o===4?(s.consume(C),z):C===63&&o===3?(s.consume(C),O):C===93&&o===5?(s.consume(C),ge):ve(C)&&(o===6||o===7)?(s.exit("htmlFlowData"),s.check(E4,M,le)(C)):C===null||ve(C)?(s.exit("htmlFlowData"),le(C)):(s.consume(C),Z)}function le(C){return s.check(T4,se,M)(C)}function se(C){return s.enter("lineEnding"),s.consume(C),s.exit("lineEnding"),oe}function oe(C){return C===null||ve(C)?le(C):(s.enter("htmlFlowData"),Z(C))}function U(C){return C===45?(s.consume(C),O):Z(C)}function ne(C){return C===47?(s.consume(C),d="",ue):Z(C)}function ue(C){if(C===62){const ae=d.toLowerCase();return $g.includes(ae)?(s.consume(C),z):Z(C)}return Dn(C)&&d.length<8?(s.consume(C),d+=String.fromCharCode(C),ue):Z(C)}function ge(C){return C===93?(s.consume(C),O):Z(C)}function O(C){return C===62?(s.consume(C),z):C===45&&o===2?(s.consume(C),O):Z(C)}function z(C){return C===null||ve(C)?(s.exit("htmlFlowData"),M(C)):(s.consume(C),z)}function M(C){return s.exit("htmlFlow"),a(C)}}function M4(s,a,r){const l=this;return o;function o(d){return ve(d)?(s.enter("lineEnding"),s.consume(d),s.exit("lineEnding"),u):r(d)}function u(d){return l.parser.lazy[l.now().line]?r(d):a(d)}}function R4(s,a,r){return l;function l(o){return s.enter("lineEnding"),s.consume(o),s.exit("lineEnding"),s.attempt(Ko,a,r)}}const z4={name:"htmlText",tokenize:L4};function L4(s,a,r){const l=this;let o,u,d;return m;function m(O){return s.enter("htmlText"),s.enter("htmlTextData"),s.consume(O),g}function g(O){return O===33?(s.consume(O),x):O===47?(s.consume(O),$):O===63?(s.consume(O),T):Dn(O)?(s.consume(O),G):r(O)}function x(O){return O===45?(s.consume(O),f):O===91?(s.consume(O),u=0,v):Dn(O)?(s.consume(O),A):r(O)}function f(O){return O===45?(s.consume(O),b):r(O)}function y(O){return O===null?r(O):O===45?(s.consume(O),w):ve(O)?(d=y,ne(O)):(s.consume(O),y)}function w(O){return O===45?(s.consume(O),b):y(O)}function b(O){return O===62?U(O):O===45?w(O):y(O)}function v(O){const z="CDATA[";return O===z.charCodeAt(u++)?(s.consume(O),u===z.length?k:v):r(O)}function k(O){return O===null?r(O):O===93?(s.consume(O),j):ve(O)?(d=k,ne(O)):(s.consume(O),k)}function j(O){return O===93?(s.consume(O),S):k(O)}function S(O){return O===62?U(O):O===93?(s.consume(O),S):k(O)}function A(O){return O===null||O===62?U(O):ve(O)?(d=A,ne(O)):(s.consume(O),A)}function T(O){return O===null?r(O):O===63?(s.consume(O),L):ve(O)?(d=T,ne(O)):(s.consume(O),T)}function L(O){return O===62?U(O):T(O)}function $(O){return Dn(O)?(s.consume(O),D):r(O)}function D(O){return O===45||nn(O)?(s.consume(O),D):q(O)}function q(O){return ve(O)?(d=q,ne(O)):Ie(O)?(s.consume(O),q):U(O)}function G(O){return O===45||nn(O)?(s.consume(O),G):O===47||O===62||Ht(O)?Q(O):r(O)}function Q(O){return O===47?(s.consume(O),U):O===58||O===95||Dn(O)?(s.consume(O),ie):ve(O)?(d=Q,ne(O)):Ie(O)?(s.consume(O),Q):U(O)}function ie(O){return O===45||O===46||O===58||O===95||nn(O)?(s.consume(O),ie):J(O)}function J(O){return O===61?(s.consume(O),Z):ve(O)?(d=J,ne(O)):Ie(O)?(s.consume(O),J):Q(O)}function Z(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(s.consume(O),o=O,le):ve(O)?(d=Z,ne(O)):Ie(O)?(s.consume(O),Z):(s.consume(O),se)}function le(O){return O===o?(s.consume(O),o=void 0,oe):O===null?r(O):ve(O)?(d=le,ne(O)):(s.consume(O),le)}function se(O){return O===null||O===34||O===39||O===60||O===61||O===96?r(O):O===47||O===62||Ht(O)?Q(O):(s.consume(O),se)}function oe(O){return O===47||O===62||Ht(O)?Q(O):r(O)}function U(O){return O===62?(s.consume(O),s.exit("htmlTextData"),s.exit("htmlText"),a):r(O)}function ne(O){return s.exit("htmlTextData"),s.enter("lineEnding"),s.consume(O),s.exit("lineEnding"),ue}function ue(O){return Ie(O)?Qe(s,ge,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):ge(O)}function ge(O){return s.enter("htmlTextData"),d(O)}}const Bh={name:"labelEnd",resolveAll:P4,resolveTo:$4,tokenize:q4},B4={tokenize:H4},U4={tokenize:F4},I4={tokenize:V4};function P4(s){let a=-1;const r=[];for(;++a<s.length;){const l=s[a][1];if(r.push(s[a]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const o=l.type==="labelImage"?4:2;l.type="data",a+=o}}return s.length!==r.length&&Mn(s,0,s.length,r),s}function $4(s,a){let r=s.length,l=0,o,u,d,m;for(;r--;)if(o=s[r][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;s[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(d){if(s[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=r,o.type!=="labelLink")){l=2;break}}else o.type==="labelEnd"&&(d=r);const g={type:s[u][1].type==="labelLink"?"link":"image",start:{...s[u][1].start},end:{...s[s.length-1][1].end}},x={type:"label",start:{...s[u][1].start},end:{...s[d][1].end}},f={type:"labelText",start:{...s[u+l+2][1].end},end:{...s[d-2][1].start}};return m=[["enter",g,a],["enter",x,a]],m=pn(m,s.slice(u+1,u+l+3)),m=pn(m,[["enter",f,a]]),m=pn(m,Lh(a.parser.constructs.insideSpan.null,s.slice(u+l+4,d-3),a)),m=pn(m,[["exit",f,a],s[d-2],s[d-1],["exit",x,a]]),m=pn(m,s.slice(d+1)),m=pn(m,[["exit",g,a]]),Mn(s,u,s.length,m),s}function q4(s,a,r){const l=this;let o=l.events.length,u,d;for(;o--;)if((l.events[o][1].type==="labelImage"||l.events[o][1].type==="labelLink")&&!l.events[o][1]._balanced){u=l.events[o][1];break}return m;function m(w){return u?u._inactive?y(w):(d=l.parser.defined.includes(hr(l.sliceSerialize({start:u.end,end:l.now()}))),s.enter("labelEnd"),s.enter("labelMarker"),s.consume(w),s.exit("labelMarker"),s.exit("labelEnd"),g):r(w)}function g(w){return w===40?s.attempt(B4,f,d?f:y)(w):w===91?s.attempt(U4,f,d?x:y)(w):d?f(w):y(w)}function x(w){return s.attempt(I4,f,y)(w)}function f(w){return a(w)}function y(w){return u._balanced=!0,r(w)}}function H4(s,a,r){return l;function l(y){return s.enter("resource"),s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),o}function o(y){return Ht(y)?Rl(s,u)(y):u(y)}function u(y){return y===41?f(y):qy(s,d,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function d(y){return Ht(y)?Rl(s,g)(y):f(y)}function m(y){return r(y)}function g(y){return y===34||y===39||y===40?Fy(s,x,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):f(y)}function x(y){return Ht(y)?Rl(s,f)(y):f(y)}function f(y){return y===41?(s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),s.exit("resource"),a):r(y)}}function F4(s,a,r){const l=this;return o;function o(m){return Hy.call(l,s,u,d,"reference","referenceMarker","referenceString")(m)}function u(m){return l.parser.defined.includes(hr(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?a(m):r(m)}function d(m){return r(m)}}function V4(s,a,r){return l;function l(u){return s.enter("reference"),s.enter("referenceMarker"),s.consume(u),s.exit("referenceMarker"),o}function o(u){return u===93?(s.enter("referenceMarker"),s.consume(u),s.exit("referenceMarker"),s.exit("reference"),a):r(u)}}const G4={name:"labelStartImage",resolveAll:Bh.resolveAll,tokenize:Y4};function Y4(s,a,r){const l=this;return o;function o(m){return s.enter("labelImage"),s.enter("labelImageMarker"),s.consume(m),s.exit("labelImageMarker"),u}function u(m){return m===91?(s.enter("labelMarker"),s.consume(m),s.exit("labelMarker"),s.exit("labelImage"),d):r(m)}function d(m){return m===94&&"_hiddenFootnoteSupport"in l.parser.constructs?r(m):a(m)}}const K4={name:"labelStartLink",resolveAll:Bh.resolveAll,tokenize:J4};function J4(s,a,r){const l=this;return o;function o(d){return s.enter("labelLink"),s.enter("labelMarker"),s.consume(d),s.exit("labelMarker"),s.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in l.parser.constructs?r(d):a(d)}}const Ad={name:"lineEnding",tokenize:Q4};function Q4(s,a){return r;function r(l){return s.enter("lineEnding"),s.consume(l),s.exit("lineEnding"),Qe(s,a,"linePrefix")}}const Mo={name:"thematicBreak",tokenize:X4};function X4(s,a,r){let l=0,o;return u;function u(x){return s.enter("thematicBreak"),d(x)}function d(x){return o=x,m(x)}function m(x){return x===o?(s.enter("thematicBreakSequence"),g(x)):l>=3&&(x===null||ve(x))?(s.exit("thematicBreak"),a(x)):r(x)}function g(x){return x===o?(s.consume(x),l++,g):(s.exit("thematicBreakSequence"),Ie(x)?Qe(s,m,"whitespace")(x):m(x))}}const Pt={continuation:{tokenize:tk},exit:sk,name:"list",tokenize:ek},Z4={partial:!0,tokenize:ak},W4={partial:!0,tokenize:nk};function ek(s,a,r){const l=this,o=l.events[l.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,d=0;return m;function m(b){const v=l.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!l.containerState.marker||b===l.containerState.marker:uh(b)){if(l.containerState.type||(l.containerState.type=v,s.enter(v,{_container:!0})),v==="listUnordered")return s.enter("listItemPrefix"),b===42||b===45?s.check(Mo,r,x)(b):x(b);if(!l.interrupt||b===49)return s.enter("listItemPrefix"),s.enter("listItemValue"),g(b)}return r(b)}function g(b){return uh(b)&&++d<10?(s.consume(b),g):(!l.interrupt||d<2)&&(l.containerState.marker?b===l.containerState.marker:b===41||b===46)?(s.exit("listItemValue"),x(b)):r(b)}function x(b){return s.enter("listItemMarker"),s.consume(b),s.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||b,s.check(Ko,l.interrupt?r:f,s.attempt(Z4,w,y))}function f(b){return l.containerState.initialBlankLine=!0,u++,w(b)}function y(b){return Ie(b)?(s.enter("listItemPrefixWhitespace"),s.consume(b),s.exit("listItemPrefixWhitespace"),w):r(b)}function w(b){return l.containerState.size=u+l.sliceSerialize(s.exit("listItemPrefix"),!0).length,a(b)}}function tk(s,a,r){const l=this;return l.containerState._closeFlow=void 0,s.check(Ko,o,u);function o(m){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,Qe(s,a,"listItemIndent",l.containerState.size+1)(m)}function u(m){return l.containerState.furtherBlankLines||!Ie(m)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,d(m)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,s.attempt(W4,a,d)(m))}function d(m){return l.containerState._closeFlow=!0,l.interrupt=void 0,Qe(s,s.attempt(Pt,a,r),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function nk(s,a,r){const l=this;return Qe(s,o,"listItemIndent",l.containerState.size+1);function o(u){const d=l.events[l.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===l.containerState.size?a(u):r(u)}}function sk(s){s.exit(this.containerState.type)}function ak(s,a,r){const l=this;return Qe(s,o,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const d=l.events[l.events.length-1];return!Ie(u)&&d&&d[1].type==="listItemPrefixWhitespace"?a(u):r(u)}}const qg={name:"setextUnderline",resolveTo:rk,tokenize:lk};function rk(s,a){let r=s.length,l,o,u;for(;r--;)if(s[r][0]==="enter"){if(s[r][1].type==="content"){l=r;break}s[r][1].type==="paragraph"&&(o=r)}else s[r][1].type==="content"&&s.splice(r,1),!u&&s[r][1].type==="definition"&&(u=r);const d={type:"setextHeading",start:{...s[l][1].start},end:{...s[s.length-1][1].end}};return s[o][1].type="setextHeadingText",u?(s.splice(o,0,["enter",d,a]),s.splice(u+1,0,["exit",s[l][1],a]),s[l][1].end={...s[u][1].end}):s[l][1]=d,s.push(["exit",d,a]),s}function lk(s,a,r){const l=this;let o;return u;function u(x){let f=l.events.length,y;for(;f--;)if(l.events[f][1].type!=="lineEnding"&&l.events[f][1].type!=="linePrefix"&&l.events[f][1].type!=="content"){y=l.events[f][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||y)?(s.enter("setextHeadingLine"),o=x,d(x)):r(x)}function d(x){return s.enter("setextHeadingLineSequence"),m(x)}function m(x){return x===o?(s.consume(x),m):(s.exit("setextHeadingLineSequence"),Ie(x)?Qe(s,g,"lineSuffix")(x):g(x))}function g(x){return x===null||ve(x)?(s.exit("setextHeadingLine"),a(x)):r(x)}}const ik={tokenize:ok};function ok(s){const a=this,r=s.attempt(Ko,l,s.attempt(this.parser.constructs.flowInitial,o,Qe(s,s.attempt(this.parser.constructs.flow,o,s.attempt(m4,o)),"linePrefix")));return r;function l(u){if(u===null){s.consume(u);return}return s.enter("lineEndingBlank"),s.consume(u),s.exit("lineEndingBlank"),a.currentConstruct=void 0,r}function o(u){if(u===null){s.consume(u);return}return s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),a.currentConstruct=void 0,r}}const ck={resolveAll:Gy()},uk=Vy("string"),dk=Vy("text");function Vy(s){return{resolveAll:Gy(s==="text"?hk:void 0),tokenize:a};function a(r){const l=this,o=this.parser.constructs[s],u=r.attempt(o,d,m);return d;function d(f){return x(f)?u(f):m(f)}function m(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),g}function g(f){return x(f)?(r.exit("data"),u(f)):(r.consume(f),g)}function x(f){if(f===null)return!0;const y=o[f];let w=-1;if(y)for(;++w<y.length;){const b=y[w];if(!b.previous||b.previous.call(l,l.previous))return!0}return!1}}}function Gy(s){return a;function a(r,l){let o=-1,u;for(;++o<=r.length;)u===void 0?r[o]&&r[o][1].type==="data"&&(u=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==u+2&&(r[u][1].end=r[o-1][1].end,r.splice(u+2,o-u-2),o=u+2),u=void 0);return s?s(r,l):r}}function hk(s,a){let r=0;for(;++r<=s.length;)if((r===s.length||s[r][1].type==="lineEnding")&&s[r-1][1].type==="data"){const l=s[r-1][1],o=a.sliceStream(l);let u=o.length,d=-1,m=0,g;for(;u--;){const x=o[u];if(typeof x=="string"){for(d=x.length;x.charCodeAt(d-1)===32;)m++,d--;if(d)break;d=-1}else if(x===-2)g=!0,m++;else if(x!==-1){u++;break}}if(a._contentTypeTextTrailing&&r===s.length&&(m=0),m){const x={type:r===s.length||g||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:l.start._bufferIndex+d,_index:l.start._index+u,line:l.end.line,column:l.end.column-m,offset:l.end.offset-m},end:{...l.end}};l.end={...x.start},l.start.offset===l.end.offset?Object.assign(l,x):(s.splice(r,0,["enter",x,a],["exit",x,a]),r+=2)}r++}return s}const mk={42:Pt,43:Pt,45:Pt,48:Pt,49:Pt,50:Pt,51:Pt,52:Pt,53:Pt,54:Pt,55:Pt,56:Pt,57:Pt,62:Uy},fk={91:y4},pk={[-2]:Cd,[-1]:Cd,32:Cd},xk={35:S4,42:Mo,45:[qg,Mo],60:A4,61:qg,95:Mo,96:Pg,126:Pg},gk={38:Py,92:Iy},yk={[-5]:Ad,[-4]:Ad,[-3]:Ad,33:G4,38:Py,42:dh,60:[KS,z4],91:K4,92:[w4,Iy],93:Bh,95:dh,96:i4},bk={null:[dh,ck]},vk={null:[42,95]},jk={null:[]},wk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vk,contentInitial:fk,disable:jk,document:mk,flow:xk,flowInitial:pk,insideSpan:bk,string:gk,text:yk},Symbol.toStringTag,{value:"Module"}));function Nk(s,a,r){let l={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},u=[];let d=[],m=[];const g={attempt:q($),check:q(D),consume:A,enter:T,exit:L,interrupt:q(D,{interrupt:!0})},x={code:null,containerState:{},defineSkip:k,events:[],now:v,parser:s,previous:null,sliceSerialize:w,sliceStream:b,write:y};let f=a.tokenize.call(x,g);return a.resolveAll&&u.push(a),x;function y(J){return d=pn(d,J),j(),d[d.length-1]!==null?[]:(G(a,0),x.events=Lh(u,x.events,x),x.events)}function w(J,Z){return kk(b(J),Z)}function b(J){return Sk(d,J)}function v(){const{_bufferIndex:J,_index:Z,line:le,column:se,offset:oe}=l;return{_bufferIndex:J,_index:Z,line:le,column:se,offset:oe}}function k(J){o[J.line]=J.column,ie()}function j(){let J;for(;l._index<d.length;){const Z=d[l._index];if(typeof Z=="string")for(J=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===J&&l._bufferIndex<Z.length;)S(Z.charCodeAt(l._bufferIndex));else S(Z)}}function S(J){f=f(J)}function A(J){ve(J)?(l.line++,l.column=1,l.offset+=J===-3?2:1,ie()):J!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===d[l._index].length&&(l._bufferIndex=-1,l._index++)),x.previous=J}function T(J,Z){const le=Z||{};return le.type=J,le.start=v(),x.events.push(["enter",le,x]),m.push(le),le}function L(J){const Z=m.pop();return Z.end=v(),x.events.push(["exit",Z,x]),Z}function $(J,Z){G(J,Z.from)}function D(J,Z){Z.restore()}function q(J,Z){return le;function le(se,oe,U){let ne,ue,ge,O;return Array.isArray(se)?M(se):"tokenize"in se?M([se]):z(se);function z(I){return de;function de(je){const De=je!==null&&I[je],tt=je!==null&&I.null,Rn=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(tt)?tt:tt?[tt]:[]];return M(Rn)(je)}}function M(I){return ne=I,ue=0,I.length===0?U:C(I[ue])}function C(I){return de;function de(je){return O=Q(),ge=I,I.partial||(x.currentConstruct=I),I.name&&x.parser.constructs.disable.null.includes(I.name)?fe():I.tokenize.call(Z?Object.assign(Object.create(x),Z):x,g,ae,fe)(je)}}function ae(I){return J(ge,O),oe}function fe(I){return O.restore(),++ue<ne.length?C(ne[ue]):U}}}function G(J,Z){J.resolveAll&&!u.includes(J)&&u.push(J),J.resolve&&Mn(x.events,Z,x.events.length-Z,J.resolve(x.events.slice(Z),x)),J.resolveTo&&(x.events=J.resolveTo(x.events,x))}function Q(){const J=v(),Z=x.previous,le=x.currentConstruct,se=x.events.length,oe=Array.from(m);return{from:se,restore:U};function U(){l=J,x.previous=Z,x.currentConstruct=le,x.events.length=se,m=oe,ie()}}function ie(){l.line in o&&l.column<2&&(l.column=o[l.line],l.offset+=o[l.line]-1)}}function Sk(s,a){const r=a.start._index,l=a.start._bufferIndex,o=a.end._index,u=a.end._bufferIndex;let d;if(r===o)d=[s[r].slice(l,u)];else{if(d=s.slice(r,o),l>-1){const m=d[0];typeof m=="string"?d[0]=m.slice(l):d.shift()}u>0&&d.push(s[o].slice(0,u))}return d}function kk(s,a){let r=-1;const l=[];let o;for(;++r<s.length;){const u=s[r];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=a?" ":"	";break}case-1:{if(!a&&o)continue;d=" ";break}default:d=String.fromCharCode(u)}o=u===-2,l.push(d)}return l.join("")}function _k(s){const l={constructs:MS([wk,...(s||{}).extensions||[]]),content:o($S),defined:[],document:o(HS),flow:o(ik),lazy:{},string:o(uk),text:o(dk)};return l;function o(u){return d;function d(m){return Nk(l,u,m)}}}function Ck(s){for(;!$y(s););return s}const Hg=/[\0\t\n\r]/g;function Ak(){let s=1,a="",r=!0,l;return o;function o(u,d,m){const g=[];let x,f,y,w,b;for(u=a+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),y=0,a="",r&&(u.charCodeAt(0)===65279&&y++,r=void 0);y<u.length;){if(Hg.lastIndex=y,x=Hg.exec(u),w=x&&x.index!==void 0?x.index:u.length,b=u.charCodeAt(w),!x){a=u.slice(y);break}if(b===10&&y===w&&l)g.push(-3),l=void 0;else switch(l&&(g.push(-5),l=void 0),y<w&&(g.push(u.slice(y,w)),s+=w-y),b){case 0:{g.push(65533),s++;break}case 9:{for(f=Math.ceil(s/4)*4,g.push(-2);s++<f;)g.push(-1);break}case 10:{g.push(-4),s=1;break}default:l=!0,s=1}y=w+1}return m&&(l&&g.push(-5),a&&g.push(a),g.push(null)),g}}const Ek=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tk(s){return s.replace(Ek,Dk)}function Dk(s,a,r){if(a)return a;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),u=o===120||o===88;return By(r.slice(u?2:1),u?16:10)}return zh(r)||s}const Yy={}.hasOwnProperty;function Ok(s,a,r){return typeof a!="string"&&(r=a,a=void 0),Mk(r)(Ck(_k(r).document().write(Ak()(s,a,!0))))}function Mk(s){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(fa),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:u(ha),blockQuote:u(tt),characterEscape:Q,characterReference:Q,codeFenced:u(Rn),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(Rn,d),codeText:u(Ar,d),codeTextData:Q,data:Q,codeFlowValue:Q,definition:u(Zl),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(zn),hardBreakEscape:u(ma),hardBreakTrailing:u(ma),htmlFlow:u(Wl,d),htmlFlowData:Q,htmlText:u(Wl,d),htmlTextData:Q,image:u(ei),label:d,link:u(fa),listItem:u(Er),listItemValue:w,listOrdered:u(pa,y),listUnordered:u(pa),paragraph:u(Wo),reference:C,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(ha),strong:u(ec),thematicBreak:u(tc)},exit:{atxHeading:g(),atxHeadingSequence:$,autolink:g(),autolinkEmail:De,autolinkProtocol:je,blockQuote:g(),characterEscapeValue:ie,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:I,characterReference:de,codeFenced:g(j),codeFencedFence:k,codeFencedFenceInfo:b,codeFencedFenceMeta:v,codeFlowValue:ie,codeIndented:g(S),codeText:g(oe),codeTextData:ie,data:ie,definition:g(),definitionDestinationString:L,definitionLabelString:A,definitionTitleString:T,emphasis:g(),hardBreakEscape:g(Z),hardBreakTrailing:g(Z),htmlFlow:g(le),htmlFlowData:ie,htmlText:g(se),htmlTextData:ie,image:g(ne),label:ge,labelText:ue,lineEnding:J,link:g(U),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:ae,resourceDestinationString:O,resourceTitleString:z,resource:M,setextHeading:g(G),setextHeadingLineSequence:q,setextHeadingText:D,strong:g(),thematicBreak:g()}};Ky(a,(s||{}).mdastExtensions||[]);const r={};return l;function l(W){let ce={type:"root",children:[]};const be={stack:[ce],tokenStack:[],config:a,enter:m,exit:x,buffer:d,resume:f,data:r},Ce=[];let Pe=-1;for(;++Pe<W.length;)if(W[Pe][1].type==="listOrdered"||W[Pe][1].type==="listUnordered")if(W[Pe][0]==="enter")Ce.push(Pe);else{const Gt=Ce.pop();Pe=o(W,Gt,Pe)}for(Pe=-1;++Pe<W.length;){const Gt=a[W[Pe][0]];Yy.call(Gt,W[Pe][1].type)&&Gt[W[Pe][1].type].call(Object.assign({sliceSerialize:W[Pe][2].sliceSerialize},be),W[Pe][1])}if(be.tokenStack.length>0){const Gt=be.tokenStack[be.tokenStack.length-1];(Gt[1]||Fg).call(be,void 0,Gt[0])}for(ce.position={start:Es(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:Es(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<a.transforms.length;)ce=a.transforms[Pe](ce)||ce;return ce}function o(W,ce,be){let Ce=ce-1,Pe=-1,Gt=!1,Ln,Tt,ht,Ot;for(;++Ce<=be;){const Ge=W[Ce];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?Pe++:Pe--,Ot=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(Ln&&!Ot&&!Pe&&!ht&&(ht=Ce),Ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ot=void 0}if(!Pe&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||Pe===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(Ln){let as=Ce;for(Tt=void 0;as--;){const xn=W[as];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;Tt&&(W[Tt][1].type="lineEndingBlank",Gt=!0),xn[1].type="lineEnding",Tt=as}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}ht&&(!Tt||ht<Tt)&&(Ln._spread=!0),Ln.end=Object.assign({},Tt?W[Tt][1].start:Ge[1].end),W.splice(Tt||Ce,0,["exit",Ln,Ge[2]]),Ce++,be++}if(Ge[1].type==="listItemPrefix"){const as={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};Ln=as,W.splice(Ce,0,["enter",as,Ge[2]]),Ce++,be++,ht=void 0,Ot=!0}}}return W[ce][1]._spread=Gt,be}function u(W,ce){return be;function be(Ce){m.call(this,W(Ce),Ce),ce&&ce.call(this,Ce)}}function d(){this.stack.push({type:"fragment",children:[]})}function m(W,ce,be){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([ce,be||void 0]),W.position={start:Es(ce.start),end:void 0}}function g(W){return ce;function ce(be){W&&W.call(this,be),x.call(this,be)}}function x(W,ce){const be=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==W.type&&(ce?ce.call(this,W,Ce[0]):(Ce[1]||Fg).call(this,W,Ce[0]));else throw new Error("Cannot close `"+W.type+"` ("+Ml({start:W.start,end:W.end})+"): it’s not open");be.position.end=Es(W.end)}function f(){return DS(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function w(W){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function b(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=W}function v(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=W}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W.replace(/(\r?\n|\r)$/g,"")}function A(W){const ce=this.resume(),be=this.stack[this.stack.length-1];be.label=ce,be.identifier=hr(this.sliceSerialize(W)).toLowerCase()}function T(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.title=W}function L(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.url=W}function $(W){const ce=this.stack[this.stack.length-1];if(!ce.depth){const be=this.sliceSerialize(W).length;ce.depth=be}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function q(W){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(W){const be=this.stack[this.stack.length-1].children;let Ce=be[be.length-1];(!Ce||Ce.type!=="text")&&(Ce=Et(),Ce.position={start:Es(W.start),end:void 0},be.push(Ce)),this.stack.push(Ce)}function ie(W){const ce=this.stack.pop();ce.value+=this.sliceSerialize(W),ce.position.end=Es(W.end)}function J(W){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ce.children[ce.children.length-1];be.position.end=Es(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(ce.type)&&(Q.call(this,W),ie.call(this,W))}function Z(){this.data.atHardBreak=!0}function le(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W}function se(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W}function oe(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W}function U(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ce,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function ne(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ce,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function ue(W){const ce=this.sliceSerialize(W),be=this.stack[this.stack.length-2];be.label=Tk(ce),be.identifier=hr(ce).toLowerCase()}function ge(){const W=this.stack[this.stack.length-1],ce=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Ce=W.children;be.children=Ce}else be.alt=ce}function O(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.url=W}function z(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.title=W}function M(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function ae(W){const ce=this.resume(),be=this.stack[this.stack.length-1];be.label=ce,be.identifier=hr(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function fe(W){this.data.characterReferenceType=W.type}function I(W){const ce=this.sliceSerialize(W),be=this.data.characterReferenceType;let Ce;be?(Ce=By(ce,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=zh(ce);const Pe=this.stack[this.stack.length-1];Pe.value+=Ce}function de(W){const ce=this.stack.pop();ce.position.end=Es(W.end)}function je(W){ie.call(this,W);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(W)}function De(W){ie.call(this,W);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(W)}function tt(){return{type:"blockquote",children:[]}}function Rn(){return{type:"code",lang:null,meta:null,value:""}}function Ar(){return{type:"inlineCode",value:""}}function Zl(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function zn(){return{type:"emphasis",children:[]}}function ha(){return{type:"heading",depth:0,children:[]}}function ma(){return{type:"break"}}function Wl(){return{type:"html",value:""}}function ei(){return{type:"image",title:null,url:"",alt:null}}function fa(){return{type:"link",title:null,url:"",children:[]}}function pa(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Er(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Wo(){return{type:"paragraph",children:[]}}function ec(){return{type:"strong",children:[]}}function Et(){return{type:"text",value:""}}function tc(){return{type:"thematicBreak"}}}function Es(s){return{line:s.line,column:s.column,offset:s.offset}}function Ky(s,a){let r=-1;for(;++r<a.length;){const l=a[r];Array.isArray(l)?Ky(s,l):Rk(s,l)}}function Rk(s,a){let r;for(r in a)if(Yy.call(a,r))switch(r){case"canContainEols":{const l=a[r];l&&s[r].push(...l);break}case"transforms":{const l=a[r];l&&s[r].push(...l);break}case"enter":case"exit":{const l=a[r];l&&Object.assign(s[r],l);break}}}function Fg(s,a){throw s?new Error("Cannot close `"+s.type+"` ("+Ml({start:s.start,end:s.end})+"): a different token (`"+a.type+"`, "+Ml({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+Ml({start:a.start,end:a.end})+") is still open")}function zk(s){const a=this;a.parser=r;function r(l){return Ok(l,{...a.data("settings"),...s,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function Lk(s,a){const r={type:"element",tagName:"blockquote",properties:{},children:s.wrap(s.all(a),!0)};return s.patch(a,r),s.applyData(a,r)}function Bk(s,a){const r={type:"element",tagName:"br",properties:{},children:[]};return s.patch(a,r),[s.applyData(a,r),{type:"text",value:`
`}]}function Uk(s,a){const r=a.value?a.value+`
`:"",l={};a.lang&&(l.className=["language-"+a.lang]);let o={type:"element",tagName:"code",properties:l,children:[{type:"text",value:r}]};return a.meta&&(o.data={meta:a.meta}),s.patch(a,o),o=s.applyData(a,o),o={type:"element",tagName:"pre",properties:{},children:[o]},s.patch(a,o),o}function Ik(s,a){const r={type:"element",tagName:"del",properties:{},children:s.all(a)};return s.patch(a,r),s.applyData(a,r)}function Pk(s,a){const r={type:"element",tagName:"em",properties:{},children:s.all(a)};return s.patch(a,r),s.applyData(a,r)}function $k(s,a){const r=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",l=String(a.identifier).toUpperCase(),o=kr(l.toLowerCase()),u=s.footnoteOrder.indexOf(l);let d,m=s.footnoteCounts.get(l);m===void 0?(m=0,s.footnoteOrder.push(l),d=s.footnoteOrder.length):d=u+1,m+=1,s.footnoteCounts.set(l,m);const g={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};s.patch(a,g);const x={type:"element",tagName:"sup",properties:{},children:[g]};return s.patch(a,x),s.applyData(a,x)}function qk(s,a){const r={type:"element",tagName:"h"+a.depth,properties:{},children:s.all(a)};return s.patch(a,r),s.applyData(a,r)}function Hk(s,a){if(s.options.allowDangerousHtml){const r={type:"raw",value:a.value};return s.patch(a,r),s.applyData(a,r)}}function Jy(s,a){const r=a.referenceType;let l="]";if(r==="collapsed"?l+="[]":r==="full"&&(l+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+l}];const o=s.all(a),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const d=o[o.length-1];return d&&d.type==="text"?d.value+=l:o.push({type:"text",value:l}),o}function Fk(s,a){const r=String(a.identifier).toUpperCase(),l=s.definitionById.get(r);if(!l)return Jy(s,a);const o={src:kr(l.url||""),alt:a.alt};l.title!==null&&l.title!==void 0&&(o.title=l.title);const u={type:"element",tagName:"img",properties:o,children:[]};return s.patch(a,u),s.applyData(a,u)}function Vk(s,a){const r={src:kr(a.url)};a.alt!==null&&a.alt!==void 0&&(r.alt=a.alt),a.title!==null&&a.title!==void 0&&(r.title=a.title);const l={type:"element",tagName:"img",properties:r,children:[]};return s.patch(a,l),s.applyData(a,l)}function Gk(s,a){const r={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};s.patch(a,r);const l={type:"element",tagName:"code",properties:{},children:[r]};return s.patch(a,l),s.applyData(a,l)}function Yk(s,a){const r=String(a.identifier).toUpperCase(),l=s.definitionById.get(r);if(!l)return Jy(s,a);const o={href:kr(l.url||"")};l.title!==null&&l.title!==void 0&&(o.title=l.title);const u={type:"element",tagName:"a",properties:o,children:s.all(a)};return s.patch(a,u),s.applyData(a,u)}function Kk(s,a){const r={href:kr(a.url)};a.title!==null&&a.title!==void 0&&(r.title=a.title);const l={type:"element",tagName:"a",properties:r,children:s.all(a)};return s.patch(a,l),s.applyData(a,l)}function Jk(s,a,r){const l=s.all(a),o=r?Qk(r):Qy(a),u={},d=[];if(typeof a.checked=="boolean"){const f=l[0];let y;f&&f.type==="element"&&f.tagName==="p"?y=f:(y={type:"element",tagName:"p",properties:{},children:[]},l.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let m=-1;for(;++m<l.length;){const f=l[m];(o||m!==0||f.type!=="element"||f.tagName!=="p")&&d.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!o?d.push(...f.children):d.push(f)}const g=l[l.length-1];g&&(o||g.type!=="element"||g.tagName!=="p")&&d.push({type:"text",value:`
`});const x={type:"element",tagName:"li",properties:u,children:d};return s.patch(a,x),s.applyData(a,x)}function Qk(s){let a=!1;if(s.type==="list"){a=s.spread||!1;const r=s.children;let l=-1;for(;!a&&++l<r.length;)a=Qy(r[l])}return a}function Qy(s){const a=s.spread;return a??s.children.length>1}function Xk(s,a){const r={},l=s.all(a);let o=-1;for(typeof a.start=="number"&&a.start!==1&&(r.start=a.start);++o<l.length;){const d=l[o];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const u={type:"element",tagName:a.ordered?"ol":"ul",properties:r,children:s.wrap(l,!0)};return s.patch(a,u),s.applyData(a,u)}function Zk(s,a){const r={type:"element",tagName:"p",properties:{},children:s.all(a)};return s.patch(a,r),s.applyData(a,r)}function Wk(s,a){const r={type:"root",children:s.wrap(s.all(a))};return s.patch(a,r),s.applyData(a,r)}function e_(s,a){const r={type:"element",tagName:"strong",properties:{},children:s.all(a)};return s.patch(a,r),s.applyData(a,r)}function t_(s,a){const r=s.all(a),l=r.shift(),o=[];if(l){const d={type:"element",tagName:"thead",properties:{},children:s.wrap([l],!0)};s.patch(a.children[0],d),o.push(d)}if(r.length>0){const d={type:"element",tagName:"tbody",properties:{},children:s.wrap(r,!0)},m=Dh(a.children[1]),g=Ty(a.children[a.children.length-1]);m&&g&&(d.position={start:m,end:g}),o.push(d)}const u={type:"element",tagName:"table",properties:{},children:s.wrap(o,!0)};return s.patch(a,u),s.applyData(a,u)}function n_(s,a,r){const l=r?r.children:void 0,u=(l?l.indexOf(a):1)===0?"th":"td",d=r&&r.type==="table"?r.align:void 0,m=d?d.length:a.children.length;let g=-1;const x=[];for(;++g<m;){const y=a.children[g],w={},b=d?d[g]:void 0;b&&(w.align=b);let v={type:"element",tagName:u,properties:w,children:[]};y&&(v.children=s.all(y),s.patch(y,v),v=s.applyData(y,v)),x.push(v)}const f={type:"element",tagName:"tr",properties:{},children:s.wrap(x,!0)};return s.patch(a,f),s.applyData(a,f)}function s_(s,a){const r={type:"element",tagName:"td",properties:{},children:s.all(a)};return s.patch(a,r),s.applyData(a,r)}const Vg=9,Gg=32;function a_(s){const a=String(s),r=/\r?\n|\r/g;let l=r.exec(a),o=0;const u=[];for(;l;)u.push(Yg(a.slice(o,l.index),o>0,!0),l[0]),o=l.index+l[0].length,l=r.exec(a);return u.push(Yg(a.slice(o),o>0,!1)),u.join("")}function Yg(s,a,r){let l=0,o=s.length;if(a){let u=s.codePointAt(l);for(;u===Vg||u===Gg;)l++,u=s.codePointAt(l)}if(r){let u=s.codePointAt(o-1);for(;u===Vg||u===Gg;)o--,u=s.codePointAt(o-1)}return o>l?s.slice(l,o):""}function r_(s,a){const r={type:"text",value:a_(String(a.value))};return s.patch(a,r),s.applyData(a,r)}function l_(s,a){const r={type:"element",tagName:"hr",properties:{},children:[]};return s.patch(a,r),s.applyData(a,r)}const i_={blockquote:Lk,break:Bk,code:Uk,delete:Ik,emphasis:Pk,footnoteReference:$k,heading:qk,html:Hk,imageReference:Fk,image:Vk,inlineCode:Gk,linkReference:Yk,link:Kk,listItem:Jk,list:Xk,paragraph:Zk,root:Wk,strong:e_,table:t_,tableCell:s_,tableRow:n_,text:r_,thematicBreak:l_,toml:bo,yaml:bo,definition:bo,footnoteDefinition:bo};function bo(){}const Xy=-1,Jo=0,zl=1,Bo=2,Uh=3,Ih=4,Ph=5,$h=6,Zy=7,Wy=8,Kg=typeof self=="object"?self:globalThis,o_=(s,a)=>{const r=(o,u)=>(s.set(u,o),o),l=o=>{if(s.has(o))return s.get(o);const[u,d]=a[o];switch(u){case Jo:case Xy:return r(d,o);case zl:{const m=r([],o);for(const g of d)m.push(l(g));return m}case Bo:{const m=r({},o);for(const[g,x]of d)m[l(g)]=l(x);return m}case Uh:return r(new Date(d),o);case Ih:{const{source:m,flags:g}=d;return r(new RegExp(m,g),o)}case Ph:{const m=r(new Map,o);for(const[g,x]of d)m.set(l(g),l(x));return m}case $h:{const m=r(new Set,o);for(const g of d)m.add(l(g));return m}case Zy:{const{name:m,message:g}=d;return r(new Kg[m](g),o)}case Wy:return r(BigInt(d),o);case"BigInt":return r(Object(BigInt(d)),o);case"ArrayBuffer":return r(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:m}=new Uint8Array(d);return r(new DataView(m),d)}}return r(new Kg[u](d),o)};return l},Jg=s=>o_(new Map,s)(0),tr="",{toString:c_}={},{keys:u_}=Object,Cl=s=>{const a=typeof s;if(a!=="object"||!s)return[Jo,a];const r=c_.call(s).slice(8,-1);switch(r){case"Array":return[zl,tr];case"Object":return[Bo,tr];case"Date":return[Uh,tr];case"RegExp":return[Ih,tr];case"Map":return[Ph,tr];case"Set":return[$h,tr];case"DataView":return[zl,r]}return r.includes("Array")?[zl,r]:r.includes("Error")?[Zy,r]:[Bo,r]},vo=([s,a])=>s===Jo&&(a==="function"||a==="symbol"),d_=(s,a,r,l)=>{const o=(d,m)=>{const g=l.push(d)-1;return r.set(m,g),g},u=d=>{if(r.has(d))return r.get(d);let[m,g]=Cl(d);switch(m){case Jo:{let f=d;switch(g){case"bigint":m=Wy,f=d.toString();break;case"function":case"symbol":if(s)throw new TypeError("unable to serialize "+g);f=null;break;case"undefined":return o([Xy],d)}return o([m,f],d)}case zl:{if(g){let w=d;return g==="DataView"?w=new Uint8Array(d.buffer):g==="ArrayBuffer"&&(w=new Uint8Array(d)),o([g,[...w]],d)}const f=[],y=o([m,f],d);for(const w of d)f.push(u(w));return y}case Bo:{if(g)switch(g){case"BigInt":return o([g,d.toString()],d);case"Boolean":case"Number":case"String":return o([g,d.valueOf()],d)}if(a&&"toJSON"in d)return u(d.toJSON());const f=[],y=o([m,f],d);for(const w of u_(d))(s||!vo(Cl(d[w])))&&f.push([u(w),u(d[w])]);return y}case Uh:return o([m,d.toISOString()],d);case Ih:{const{source:f,flags:y}=d;return o([m,{source:f,flags:y}],d)}case Ph:{const f=[],y=o([m,f],d);for(const[w,b]of d)(s||!(vo(Cl(w))||vo(Cl(b))))&&f.push([u(w),u(b)]);return y}case $h:{const f=[],y=o([m,f],d);for(const w of d)(s||!vo(Cl(w)))&&f.push(u(w));return y}}const{message:x}=d;return o([m,{name:g,message:x}],d)};return u},Qg=(s,{json:a,lossy:r}={})=>{const l=[];return d_(!(a||r),!!a,new Map,l)(s),l},Uo=typeof structuredClone=="function"?(s,a)=>a&&("json"in a||"lossy"in a)?Jg(Qg(s,a)):structuredClone(s):(s,a)=>Jg(Qg(s,a));function h_(s,a){const r=[{type:"text",value:"↩"}];return a>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),r}function m_(s,a){return"Back to reference "+(s+1)+(a>1?"-"+a:"")}function f_(s){const a=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",r=s.options.footnoteBackContent||h_,l=s.options.footnoteBackLabel||m_,o=s.options.footnoteLabel||"Footnotes",u=s.options.footnoteLabelTagName||"h2",d=s.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let g=-1;for(;++g<s.footnoteOrder.length;){const x=s.footnoteById.get(s.footnoteOrder[g]);if(!x)continue;const f=s.all(x),y=String(x.identifier).toUpperCase(),w=kr(y.toLowerCase());let b=0;const v=[],k=s.footnoteCounts.get(y);for(;k!==void 0&&++b<=k;){v.length>0&&v.push({type:"text",value:" "});let A=typeof r=="string"?r:r(g,b);typeof A=="string"&&(A={type:"text",value:A}),v.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+w+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(g,b),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const j=f[f.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const A=j.children[j.children.length-1];A&&A.type==="text"?A.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...v)}else f.push(...v);const S={type:"element",tagName:"li",properties:{id:a+"fn-"+w},children:s.wrap(f,!0)};s.patch(x,S),m.push(S)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Uo(d),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:s.wrap(m,!0)},{type:"text",value:`
`}]}}const eb=(function(s){if(s==null)return y_;if(typeof s=="function")return Qo(s);if(typeof s=="object")return Array.isArray(s)?p_(s):x_(s);if(typeof s=="string")return g_(s);throw new Error("Expected function, string, or object as test")});function p_(s){const a=[];let r=-1;for(;++r<s.length;)a[r]=eb(s[r]);return Qo(l);function l(...o){let u=-1;for(;++u<a.length;)if(a[u].apply(this,o))return!0;return!1}}function x_(s){const a=s;return Qo(r);function r(l){const o=l;let u;for(u in s)if(o[u]!==a[u])return!1;return!0}}function g_(s){return Qo(a);function a(r){return r&&r.type===s}}function Qo(s){return a;function a(r,l,o){return!!(b_(r)&&s.call(this,r,typeof l=="number"?l:void 0,o||void 0))}}function y_(){return!0}function b_(s){return s!==null&&typeof s=="object"&&"type"in s}const tb=[],v_=!0,Xg=!1,j_="skip";function w_(s,a,r,l){let o;typeof a=="function"&&typeof r!="function"?(l=r,r=a):o=a;const u=eb(o),d=l?-1:1;m(s,void 0,[])();function m(g,x,f){const y=g&&typeof g=="object"?g:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(g.type+(b?"<"+b+">":""))+")"})}return w;function w(){let b=tb,v,k,j;if((!a||u(g,x,f[f.length-1]||void 0))&&(b=N_(r(g,f)),b[0]===Xg))return b;if("children"in g&&g.children){const S=g;if(S.children&&b[0]!==j_)for(k=(l?S.children.length:-1)+d,j=f.concat(S);k>-1&&k<S.children.length;){const A=S.children[k];if(v=m(A,k,j)(),v[0]===Xg)return v;k=typeof v[1]=="number"?v[1]:k+d}}return b}}}function N_(s){return Array.isArray(s)?s:typeof s=="number"?[v_,s]:s==null?tb:[s]}function nb(s,a,r,l){let o,u,d;typeof a=="function"&&typeof r!="function"?(u=void 0,d=a,o=r):(u=a,d=r,o=l),w_(s,u,m,o);function m(g,x){const f=x[x.length-1],y=f?f.children.indexOf(g):void 0;return d(g,y,f)}}const hh={}.hasOwnProperty,S_={};function k_(s,a){const r=a||S_,l=new Map,o=new Map,u=new Map,d={...i_,...r.handlers},m={all:x,applyData:C_,definitionById:l,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:d,one:g,options:r,patch:__,wrap:E_};return nb(s,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const y=f.type==="definition"?l:o,w=String(f.identifier).toUpperCase();y.has(w)||y.set(w,f)}}),m;function g(f,y){const w=f.type,b=m.handlers[w];if(hh.call(m.handlers,w)&&b)return b(m,f,y);if(m.options.passThrough&&m.options.passThrough.includes(w)){if("children"in f){const{children:k,...j}=f,S=Uo(j);return S.children=m.all(f),S}return Uo(f)}return(m.options.unknownHandler||A_)(m,f,y)}function x(f){const y=[];if("children"in f){const w=f.children;let b=-1;for(;++b<w.length;){const v=m.one(w[b],f);if(v){if(b&&w[b-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Zg(v.value)),!Array.isArray(v)&&v.type==="element")){const k=v.children[0];k&&k.type==="text"&&(k.value=Zg(k.value))}Array.isArray(v)?y.push(...v):y.push(v)}}}return y}}function __(s,a){s.position&&(a.position=cS(s))}function C_(s,a){let r=a;if(s&&s.data){const l=s.data.hName,o=s.data.hChildren,u=s.data.hProperties;if(typeof l=="string")if(r.type==="element")r.tagName=l;else{const d="children"in r?r.children:[r];r={type:"element",tagName:l,properties:{},children:d}}r.type==="element"&&u&&Object.assign(r.properties,Uo(u)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function A_(s,a){const r=a.data||{},l="value"in a&&!(hh.call(r,"hProperties")||hh.call(r,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:s.all(a)};return s.patch(a,l),s.applyData(a,l)}function E_(s,a){const r=[];let l=-1;for(a&&r.push({type:"text",value:`
`});++l<s.length;)l&&r.push({type:"text",value:`
`}),r.push(s[l]);return a&&s.length>0&&r.push({type:"text",value:`
`}),r}function Zg(s){let a=0,r=s.charCodeAt(a);for(;r===9||r===32;)a++,r=s.charCodeAt(a);return s.slice(a)}function Wg(s,a){const r=k_(s,a),l=r.one(s,void 0),o=f_(r),u=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function T_(s,a){return s&&"run"in s?async function(r,l){const o=Wg(r,{file:l,...a});await s.run(o,l)}:function(r,l){return Wg(r,{file:l,...s||a})}}function e0(s){if(s)throw s}var Ed,t0;function D_(){if(t0)return Ed;t0=1;var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=function(x){return typeof Array.isArray=="function"?Array.isArray(x):a.call(x)==="[object Array]"},u=function(x){if(!x||a.call(x)!=="[object Object]")return!1;var f=s.call(x,"constructor"),y=x.constructor&&x.constructor.prototype&&s.call(x.constructor.prototype,"isPrototypeOf");if(x.constructor&&!f&&!y)return!1;var w;for(w in x);return typeof w>"u"||s.call(x,w)},d=function(x,f){r&&f.name==="__proto__"?r(x,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):x[f.name]=f.newValue},m=function(x,f){if(f==="__proto__")if(s.call(x,f)){if(l)return l(x,f).value}else return;return x[f]};return Ed=function g(){var x,f,y,w,b,v,k=arguments[0],j=1,S=arguments.length,A=!1;for(typeof k=="boolean"&&(A=k,k=arguments[1]||{},j=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});j<S;++j)if(x=arguments[j],x!=null)for(f in x)y=m(k,f),w=m(x,f),k!==w&&(A&&w&&(u(w)||(b=o(w)))?(b?(b=!1,v=y&&o(y)?y:[]):v=y&&u(y)?y:{},d(k,{name:f,newValue:g(A,v,w)})):typeof w<"u"&&d(k,{name:f,newValue:w}));return k},Ed}var O_=D_();const Td=Hl(O_);function mh(s){if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function M_(){const s=[],a={run:r,use:l};return a;function r(...o){let u=-1;const d=o.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);m(null,...o);function m(g,...x){const f=s[++u];let y=-1;if(g){d(g);return}for(;++y<o.length;)(x[y]===null||x[y]===void 0)&&(x[y]=o[y]);o=x,f?R_(f,m)(...x):d(null,...x)}}function l(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return s.push(o),a}}function R_(s,a){let r;return l;function l(...d){const m=s.length>d.length;let g;m&&d.push(o);try{g=s.apply(this,d)}catch(x){const f=x;if(m&&r)throw f;return o(f)}m||(g&&g.then&&typeof g.then=="function"?g.then(u,o):g instanceof Error?o(g):u(g))}function o(d,...m){r||(r=!0,a(d,...m))}function u(d){o(null,d)}}const Tn={basename:z_,dirname:L_,extname:B_,join:U_,sep:"/"};function z_(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');Xl(s);let r=0,l=-1,o=s.length,u;if(a===void 0||a.length===0||a.length>s.length){for(;o--;)if(s.codePointAt(o)===47){if(u){r=o+1;break}}else l<0&&(u=!0,l=o+1);return l<0?"":s.slice(r,l)}if(a===s)return"";let d=-1,m=a.length-1;for(;o--;)if(s.codePointAt(o)===47){if(u){r=o+1;break}}else d<0&&(u=!0,d=o+1),m>-1&&(s.codePointAt(o)===a.codePointAt(m--)?m<0&&(l=o):(m=-1,l=d));return r===l?l=d:l<0&&(l=s.length),s.slice(r,l)}function L_(s){if(Xl(s),s.length===0)return".";let a=-1,r=s.length,l;for(;--r;)if(s.codePointAt(r)===47){if(l){a=r;break}}else l||(l=!0);return a<0?s.codePointAt(0)===47?"/":".":a===1&&s.codePointAt(0)===47?"//":s.slice(0,a)}function B_(s){Xl(s);let a=s.length,r=-1,l=0,o=-1,u=0,d;for(;a--;){const m=s.codePointAt(a);if(m===47){if(d){l=a+1;break}continue}r<0&&(d=!0,r=a+1),m===46?o<0?o=a:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||r<0||u===0||u===1&&o===r-1&&o===l+1?"":s.slice(o,r)}function U_(...s){let a=-1,r;for(;++a<s.length;)Xl(s[a]),s[a]&&(r=r===void 0?s[a]:r+"/"+s[a]);return r===void 0?".":I_(r)}function I_(s){Xl(s);const a=s.codePointAt(0)===47;let r=P_(s,!a);return r.length===0&&!a&&(r="."),r.length>0&&s.codePointAt(s.length-1)===47&&(r+="/"),a?"/"+r:r}function P_(s,a){let r="",l=0,o=-1,u=0,d=-1,m,g;for(;++d<=s.length;){if(d<s.length)m=s.codePointAt(d);else{if(m===47)break;m=47}if(m===47){if(!(o===d-1||u===1))if(o!==d-1&&u===2){if(r.length<2||l!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(g=r.lastIndexOf("/"),g!==r.length-1){g<0?(r="",l=0):(r=r.slice(0,g),l=r.length-1-r.lastIndexOf("/")),o=d,u=0;continue}}else if(r.length>0){r="",l=0,o=d,u=0;continue}}a&&(r=r.length>0?r+"/..":"..",l=2)}else r.length>0?r+="/"+s.slice(o+1,d):r=s.slice(o+1,d),l=d-o-1;o=d,u=0}else m===46&&u>-1?u++:u=-1}return r}function Xl(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}const $_={cwd:q_};function q_(){return"/"}function fh(s){return!!(s!==null&&typeof s=="object"&&"href"in s&&s.href&&"protocol"in s&&s.protocol&&s.auth===void 0)}function H_(s){if(typeof s=="string")s=new URL(s);else if(!fh(s)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+s+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(s.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return F_(s)}function F_(s){if(s.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const a=s.pathname;let r=-1;for(;++r<a.length;)if(a.codePointAt(r)===37&&a.codePointAt(r+1)===50){const l=a.codePointAt(r+2);if(l===70||l===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(a)}const Dd=["history","path","basename","stem","extname","dirname"];class sb{constructor(a){let r;a?fh(a)?r={path:a}:typeof a=="string"||V_(a)?r={value:a}:r=a:r={},this.cwd="cwd"in r?"":$_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<Dd.length;){const u=Dd[l];u in r&&r[u]!==void 0&&r[u]!==null&&(this[u]=u==="history"?[...r[u]]:r[u])}let o;for(o in r)Dd.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?Tn.basename(this.path):void 0}set basename(a){Md(a,"basename"),Od(a,"basename"),this.path=Tn.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?Tn.dirname(this.path):void 0}set dirname(a){n0(this.basename,"dirname"),this.path=Tn.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?Tn.extname(this.path):void 0}set extname(a){if(Od(a,"extname"),n0(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tn.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){fh(a)&&(a=H_(a)),Md(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?Tn.basename(this.path,this.extname):void 0}set stem(a){Md(a,"stem"),Od(a,"stem"),this.path=Tn.join(this.dirname||"",a+(this.extname||""))}fail(a,r,l){const o=this.message(a,r,l);throw o.fatal=!0,o}info(a,r,l){const o=this.message(a,r,l);return o.fatal=void 0,o}message(a,r,l){const o=new At(a,r,l);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function Od(s,a){if(s&&s.includes(Tn.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+Tn.sep+"`")}function Md(s,a){if(!s)throw new Error("`"+a+"` cannot be empty")}function n0(s,a){if(!s)throw new Error("Setting `"+a+"` requires `path` to be set too")}function V_(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const G_=(function(s){const l=this.constructor.prototype,o=l[s],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,l),u}),Y_={}.hasOwnProperty;class qh extends G_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=M_()}copy(){const a=new qh;let r=-1;for(;++r<this.attachers.length;){const l=this.attachers[r];a.use(...l)}return a.data(Td(!0,{},this.namespace)),a}data(a,r){return typeof a=="string"?arguments.length===2?(Ld("data",this.frozen),this.namespace[a]=r,this):Y_.call(this.namespace,a)&&this.namespace[a]||void 0:a?(Ld("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const o=r.call(a,...l);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const r=jo(a),l=this.parser||this.Parser;return Rd("parse",l),l(String(r),r)}process(a,r){const l=this;return this.freeze(),Rd("process",this.parser||this.Parser),zd("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(u,d){const m=jo(a),g=l.parse(m);l.run(g,m,function(f,y,w){if(f||!y||!w)return x(f);const b=y,v=l.stringify(b,w);Q_(v)?w.value=v:w.result=v,x(f,w)});function x(f,y){f||!y?d(f):u?u(y):r(void 0,y)}}}processSync(a){let r=!1,l;return this.freeze(),Rd("processSync",this.parser||this.Parser),zd("processSync",this.compiler||this.Compiler),this.process(a,o),a0("processSync","process",r),l;function o(u,d){r=!0,e0(u),l=d}}run(a,r,l){s0(a),this.freeze();const o=this.transformers;return!l&&typeof r=="function"&&(l=r,r=void 0),l?u(void 0,l):new Promise(u);function u(d,m){const g=jo(r);o.run(a,g,x);function x(f,y,w){const b=y||a;f?m(f):d?d(b):l(void 0,b,w)}}}runSync(a,r){let l=!1,o;return this.run(a,r,u),a0("runSync","run",l),o;function u(d,m){e0(d),o=m,l=!0}}stringify(a,r){this.freeze();const l=jo(r),o=this.compiler||this.Compiler;return zd("stringify",o),s0(a),o(a,l)}use(a,...r){const l=this.attachers,o=this.namespace;if(Ld("use",this.frozen),a!=null)if(typeof a=="function")g(a,r);else if(typeof a=="object")Array.isArray(a)?m(a):d(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function u(x){if(typeof x=="function")g(x,[]);else if(typeof x=="object")if(Array.isArray(x)){const[f,...y]=x;g(f,y)}else d(x);else throw new TypeError("Expected usable value, not `"+x+"`")}function d(x){if(!("plugins"in x)&&!("settings"in x))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(x.plugins),x.settings&&(o.settings=Td(!0,o.settings,x.settings))}function m(x){let f=-1;if(x!=null)if(Array.isArray(x))for(;++f<x.length;){const y=x[f];u(y)}else throw new TypeError("Expected a list of plugins, not `"+x+"`")}function g(x,f){let y=-1,w=-1;for(;++y<l.length;)if(l[y][0]===x){w=y;break}if(w===-1)l.push([x,...f]);else if(f.length>0){let[b,...v]=f;const k=l[w][1];mh(k)&&mh(b)&&(b=Td(!0,k,b)),l[w]=[x,b,...v]}}}}const K_=new qh().freeze();function Rd(s,a){if(typeof a!="function")throw new TypeError("Cannot `"+s+"` without `parser`")}function zd(s,a){if(typeof a!="function")throw new TypeError("Cannot `"+s+"` without `compiler`")}function Ld(s,a){if(a)throw new Error("Cannot call `"+s+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function s0(s){if(!mh(s)||typeof s.type!="string")throw new TypeError("Expected node, got `"+s+"`")}function a0(s,a,r){if(!r)throw new Error("`"+s+"` finished async. Use `"+a+"` instead")}function jo(s){return J_(s)?s:new sb(s)}function J_(s){return!!(s&&typeof s=="object"&&"message"in s&&"messages"in s)}function Q_(s){return typeof s=="string"||X_(s)}function X_(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const Z_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r0=[],l0={allowDangerousHtml:!0},W_=/^(https?|ircs?|mailto|xmpp)$/i,e6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function t6(s){const a=n6(s),r=s6(s);return a6(a.runSync(a.parse(r),r),s)}function n6(s){const a=s.rehypePlugins||r0,r=s.remarkPlugins||r0,l=s.remarkRehypeOptions?{...s.remarkRehypeOptions,...l0}:l0;return K_().use(zk).use(r).use(T_,l).use(a)}function s6(s){const a=s.children||"",r=new sb;return typeof a=="string"&&(r.value=a),r}function a6(s,a){const r=a.allowedElements,l=a.allowElement,o=a.components,u=a.disallowedElements,d=a.skipHtml,m=a.unwrapDisallowed,g=a.urlTransform||r6;for(const f of e6)Object.hasOwn(a,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Z_+f.id,void 0);return nb(s,x),fS(s,{Fragment:e.Fragment,components:o,ignoreInvalidStyle:!0,jsx:e.jsx,jsxs:e.jsxs,passKeys:!0,passNode:!0});function x(f,y,w){if(f.type==="raw"&&w&&typeof y=="number")return d?w.children.splice(y,1):w.children[y]={type:"text",value:f.value},y;if(f.type==="element"){let b;for(b in _d)if(Object.hasOwn(_d,b)&&Object.hasOwn(f.properties,b)){const v=f.properties[b],k=_d[b];(k===null||k.includes(f.tagName))&&(f.properties[b]=g(String(v||""),b,f))}}if(f.type==="element"){let b=r?!r.includes(f.tagName):u?u.includes(f.tagName):!1;if(!b&&l&&typeof y=="number"&&(b=!l(f,y,w)),b&&w&&typeof y=="number")return m&&f.children?w.children.splice(y,1,...f.children):w.children.splice(y,1),y}}}function r6(s){const a=s.indexOf(":"),r=s.indexOf("?"),l=s.indexOf("#"),o=s.indexOf("/");return a===-1||o!==-1&&a>o||r!==-1&&a>r||l!==-1&&a>l||W_.test(s.slice(0,a))?s:""}const i0=({role:s,content:a,timestamp:r,isLoading:l=!1})=>{const o=s==="user";return e.jsx("div",{className:`flex ${o?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`flex gap-3 max-w-[80%] ${o?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${o?"bg-blue-600 text-white":"bg-gradient-to-br from-purple-600 to-blue-600 text-white"}`,children:o?"👤":"🤖"}),e.jsxs("div",{className:`flex flex-col ${o?"items-end":"items-start"}`,children:[e.jsx("div",{className:`rounded-2xl px-4 py-3 ${o?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Gândesc..."})]}):e.jsx("div",{className:`prose prose-sm max-w-none ${o?"prose-invert":""}`,children:e.jsx(t6,{components:{p:({children:u})=>e.jsx("p",{className:"mb-2 last:mb-0",children:u}),ul:({children:u})=>e.jsx("ul",{className:"list-disc pl-4 mb-2",children:u}),ol:({children:u})=>e.jsx("ol",{className:"list-decimal pl-4 mb-2",children:u}),li:({children:u})=>e.jsx("li",{className:"mb-1",children:u}),strong:({children:u})=>e.jsx("strong",{className:"font-semibold",children:u}),code:({children:u})=>e.jsx("code",{className:`px-1 py-0.5 rounded text-xs ${o?"bg-blue-700":"bg-gray-200"}`,children:u})},children:a})})}),r&&!l&&e.jsx("span",{className:"text-xs text-gray-500 mt-1 px-2",children:new Date(r).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"})})]})]})})},l6=({tool:s,success:a,message:r,data:l})=>e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-2 max-w-[80%]",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:a?"text-green-600":"text-red-600",children:a?"✅":"❌"}),e.jsx("span",{className:"font-medium text-gray-700",children:s.replace(/_/g," ")}),r&&e.jsxs("span",{className:"text-gray-600",children:["- ",r]})]}),l&&e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e.jsx("pre",{className:"bg-white p-2 rounded border border-gray-200 overflow-x-auto",children:JSON.stringify(l,null,2)})})]})}),jt=[];for(let s=0;s<256;++s)jt.push((s+256).toString(16).slice(1));function i6(s,a=0){return(jt[s[a+0]]+jt[s[a+1]]+jt[s[a+2]]+jt[s[a+3]]+"-"+jt[s[a+4]]+jt[s[a+5]]+"-"+jt[s[a+6]]+jt[s[a+7]]+"-"+jt[s[a+8]]+jt[s[a+9]]+"-"+jt[s[a+10]]+jt[s[a+11]]+jt[s[a+12]]+jt[s[a+13]]+jt[s[a+14]]+jt[s[a+15]]).toLowerCase()}let Bd;const o6=new Uint8Array(16);function c6(){if(!Bd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bd=crypto.getRandomValues.bind(crypto)}return Bd(o6)}const u6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),o0={randomUUID:u6};function d6(s,a,r){var o;s=s||{};const l=s.random??((o=s.rng)==null?void 0:o.call(s))??c6();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,i6(l)}function wo(s,a,r){return o0.randomUUID&&!s?o0.randomUUID():d6(s)}const h6=()=>{const[s,a]=E.useState(!1),[r,l]=E.useState([]),[o,u]=E.useState(""),[d,m]=E.useState(!1),[g]=E.useState(()=>wo()),x=E.useRef(null),f=E.useRef(null);E.useEffect(()=>{var j;(j=x.current)==null||j.scrollIntoView({behavior:"smooth"})},[r]),E.useEffect(()=>{var j;s&&((j=f.current)==null||j.focus())},[s]),E.useEffect(()=>{w()},[]);const y=()=>{const j=localStorage.getItem("constructai_token");return{"Content-Type":"application/json",...j&&{Authorization:`Bearer ${j}`}}},w=async()=>{try{const j=await fetch(`/api/chat/message?sessionId=${g}`,{headers:y()});if(j.ok){const S=await j.json();S.success&&S.data.length>0&&l(S.data.map(A=>{var T;return{id:A.id,role:A.role,content:A.content,timestamp:new Date(A.created_at),toolResults:(T=A.metadata)==null?void 0:T.toolResults}}))}}catch(j){console.error("Failed to load chat history:",j)}},b=async()=>{if(!o.trim()||d)return;const j={id:wo(),role:"user",content:o,timestamp:new Date};l(S=>[...S,j]),u(""),m(!0);try{const S=await fetch("/api/chat/message",{method:"POST",headers:y(),body:JSON.stringify({message:o,sessionId:g,currentPage:window.location.pathname})});if(!S.ok)throw new Error("Failed to send message");const A=await S.json();if(A.success){const T={id:wo(),role:"assistant",content:A.data.message,timestamp:new Date,toolResults:A.data.toolResults};l(L=>[...L,T])}else throw new Error(A.error||"Unknown error")}catch(S){console.error("Chat error:",S);const A={id:wo(),role:"assistant",content:`❌ Ne pare rău, a apărut o eroare: ${S.message}. Te rog încearcă din nou.`,timestamp:new Date};l(T=>[...T,A])}finally{m(!1)}},v=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),b())},k=async()=>{if(confirm("Ești sigur că vrei să ștergi conversația?"))try{await fetch(`/api/chat/message?sessionId=${g}`,{method:"DELETE"}),l([])}catch(j){console.error("Failed to clear chat:",j)}};return e.jsxs(e.Fragment,{children:[!s&&e.jsxs("button",{type:"button",onClick:()=>a(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-50 group","aria-label":"Open AI Assistant",children:[e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"🤖"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),s&&e.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 rounded-t-2xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl",children:"🤖"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"ConstructAI Assistant"}),e.jsx("p",{className:"text-xs text-white/80",children:"Asistentul tău AI personal"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:k,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Șterge conversația",children:"🗑️"}),e.jsx("button",{type:"button",onClick:()=>a(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Închide",children:"✕"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👋"}),e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Bine ai venit!"}),e.jsxs("p",{className:"text-sm",children:["Sunt asistentul tău AI personal.",e.jsx("br",{}),"Cum te pot ajuta astăzi?"]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-400",children:[e.jsx("p",{children:"Încearcă să întrebi:"}),e.jsxs("ul",{className:"mt-2 space-y-1",children:[e.jsx("li",{children:'• "Câte proiecte active am?"'}),e.jsx("li",{children:'• "Care e statusul financiar?"'}),e.jsx("li",{children:'• "Creează un proiect nou"'})]})]})]}):e.jsxs(e.Fragment,{children:[r.map(j=>{var S;return e.jsxs($0.Fragment,{children:[e.jsx(i0,{role:j.role,content:j.content,timestamp:j.timestamp}),(S=j.toolResults)==null?void 0:S.map((A,T)=>e.jsx(l6,{...A},`${j.id}-tool-${T}`))]},j.id)}),d&&e.jsx(i0,{role:"assistant",content:"",isLoading:!0}),e.jsx("div",{ref:x})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-2xl",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:f,type:"text",value:o,onChange:j=>u(j.target.value),onKeyPress:v,placeholder:"Scrie un mesaj...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",disabled:d}),e.jsx("button",{type:"button",onClick:b,disabled:!o.trim()||d,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d?"⏳":"📤"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Powered by Google Gemini AI"})]})]})]})},m6=({stats:s,revenueData:a,projectStatusData:r,timeTrackingData:l})=>{var b;const o=v=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),u=Math.max(...a.map(v=>v.amount)),d=Math.max(...l.map(v=>v.hours)),m=r.reduce((v,k)=>v+k.count,0),g=a.reduce((v,k)=>v+k.amount,0)/a.length,x=((a[a.length-1].amount-a[0].amount)/a[0].amount*100).toFixed(1),f=l.reduce((v,k)=>v+k.hours,0)/l.length,y=((((b=r.find(v=>v.status==="Completed"))==null?void 0:b.count)||0)/m*100).toFixed(0),w=s.totalRevenue/s.totalHours;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"+12.5%"})]}),e.jsx("h3",{className:"text-2xl font-bold mb-1",children:o(s.totalRevenue)}),e.jsx("p",{className:"text-sm opacity-90",children:"Total Revenue"}),e.jsxs("p",{className:"text-xs opacity-75 mt-2",children:["Avg: ",o(g),"/month"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"+3 new"})]}),e.jsx("h3",{className:"text-2xl font-bold mb-1",children:s.activeProjects}),e.jsx("p",{className:"text-sm opacity-90",children:"Active Projects"}),e.jsxs("p",{className:"text-xs opacity-75 mt-2",children:[y,"% completion rate"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"This month"})]}),e.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[s.totalHours.toLocaleString(),"h"]}),e.jsx("p",{className:"text-sm opacity-90",children:"Total Hours Logged"}),e.jsxs("p",{className:"text-xs opacity-75 mt-2",children:["Avg: ",f.toFixed(0),"h/week"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"Awaiting"})]}),e.jsx("h3",{className:"text-2xl font-bold mb-1",children:s.pendingInvoices}),e.jsx("p",{className:"text-sm opacity-90",children:"Pending Invoices"}),e.jsxs("p",{className:"text-xs opacity-75 mt-2",children:[o(w),"/hour rate"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🤖"}),"AI Business Insights"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ud,{icon:"⚠️",title:"Budget Alert",description:"3 projects trending over budget by £125K total. Review cost controls immediately.",action:"View Projects",color:"red"}),e.jsx(Ud,{icon:"💷",title:"Cash Flow Optimization",description:"£485K in outstanding invoices. Send reminders to improve cash flow by 18%.",action:"Send Reminders",color:"green"}),e.jsx(Ud,{icon:"📊",title:"Performance Insight",description:"Team productivity up 12% this month. 2,340 hours logged across 15 active projects.",action:"View Analytics",color:"blue"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📋"}),"Recent Projects"]}),e.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"View All →"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(No,{name:"Canary Wharf Office Tower",client:"London Development Group",budget:"£8,750,000",status:"in progress",progress:62}),e.jsx(No,{name:"Thames Riverside Apartments",client:"Green Valley Homes UK",budget:"£6,200,000",status:"in progress",progress:38}),e.jsx(No,{name:"Manchester Industrial Park",client:"Northern Construction Ltd",budget:"£12,500,000",status:"planning"}),e.jsx(No,{name:"Birmingham Shopping Centre",client:"Retail Developments PLC",budget:"£9,800,000",status:"in progress",progress:15})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🔔"}),"Alerts & Actions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Id,{icon:"💷",title:"Outstanding Invoices",description:"£485,000 awaiting payment from 12 clients",color:"yellow"}),e.jsx(Id,{icon:"⏰",title:"Deadline Alert",description:"3 projects due for completion within 2 weeks",color:"red"}),e.jsx(Id,{icon:"🤖",title:"AI Recommendation",description:"Allocate 15% more resources to Canary Wharf project",color:"blue"}),e.jsxs("button",{type:"button",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all flex items-center justify-center space-x-2 shadow-lg",children:[e.jsx("span",{children:"➕"}),e.jsx("span",{children:"New Project"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend (Last 6 Months)"}),e.jsx("div",{className:"space-y-2",children:a.map((v,k)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 w-16",children:v.month}),e.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-8 relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-end pr-3",style:{width:`${v.amount/u*100}%`},children:e.jsx("span",{className:"text-xs font-medium text-white",children:o(v.amount)})})})]},k))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Growth Rate:"}),e.jsxs("span",{className:`font-semibold ${parseFloat(x)>=0?"text-green-600":"text-red-600"}`,children:[parseFloat(x)>=0?"+":"",x,"%"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Status Distribution"}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"relative w-48 h-48",children:[e.jsx("div",{className:"w-full h-full rounded-full",style:{background:`conic-gradient(
                                        ${r.map((v,k)=>{const j=r.slice(0,k).reduce((A,T)=>A+T.count/m*100,0),S=v.count/m*100;return`${v.color} ${j}% ${j+S}%`}).join(", ")}
                                    )`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-full w-24 h-24 flex items-center justify-center shadow-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]})})})]})}),e.jsx("div",{className:"space-y-2",children:r.map((v,k)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),e.jsx("span",{className:"text-sm text-gray-700",children:v.status})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[v.count," (",(v.count/m*100).toFixed(0),"%)"]})]},k))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Time Tracking"}),e.jsx("div",{className:"flex items-end space-x-4 h-64",children:l.map((v,k)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-t-lg relative",style:{height:`${v.hours/d*100}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-green-500 to-green-400 rounded-t-lg flex items-start justify-center pt-2",children:e.jsxs("span",{className:"text-xs font-medium text-white",children:[v.hours,"h"]})})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:v.week})]},k))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Weekly Average:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[f.toFixed(0)," hours"]})]})})]})]})},Ud=({icon:s,title:a,description:r,action:l,color:o})=>{const u={red:"bg-red-50 border-red-200 text-red-800",green:"bg-green-50 border-green-200 text-green-800",blue:"bg-blue-50 border-blue-200 text-blue-800",yellow:"bg-yellow-50 border-yellow-200 text-yellow-800"},d={red:"bg-red-600 hover:bg-red-700",green:"bg-green-600 hover:bg-green-700",blue:"bg-blue-600 hover:bg-blue-700",yellow:"bg-yellow-600 hover:bg-yellow-700"};return e.jsxs("div",{className:`${u[o]} border rounded-lg p-4`,children:[e.jsx("div",{className:"text-3xl mb-2",children:s}),e.jsx("h4",{className:"font-semibold mb-1",children:a}),e.jsx("p",{className:"text-sm mb-3 opacity-90",children:r}),e.jsx("button",{type:"button",className:`${d[o]} text-white px-3 py-1.5 rounded text-sm font-medium transition-colors`,children:l})]})},No=({name:s,client:a,budget:r,status:l,progress:o})=>{const u={planning:"bg-yellow-100 text-yellow-800","in progress":"bg-blue-100 text-blue-800","on hold":"bg-gray-100 text-gray-800",completed:"bg-green-100 text-green-800"};return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s}),e.jsx("p",{className:"text-sm text-gray-600",children:a})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u[l]}`,children:l})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:r}),o!==void 0&&e.jsxs("span",{className:"text-blue-600 font-medium",children:[o,"% complete"]})]}),o!==void 0&&e.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${o}%`}})})]})},Id=({icon:s,title:a,description:r,color:l})=>{const o={yellow:"bg-yellow-50 border-yellow-200",blue:"bg-blue-50 border-blue-200",red:"bg-red-50 border-red-200",green:"bg-green-50 border-green-200"};return e.jsx("div",{className:`${o[l]} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-2xl",children:s}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a}),e.jsx("p",{className:"text-sm text-gray-700",children:r})]})]})})},f6=({user:s,onLogout:a})=>{const[r,l]=E.useState("dashboard");return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(p6,{currentPage:r,onNavigate:l,user:s,onLogout:a}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[r==="dashboard"&&e.jsx(x6,{}),r==="projects"&&e.jsx(z2,{}),r==="clients"&&e.jsx(I2,{}),r==="rfis"&&e.jsx($2,{}),r==="subcontractors"&&e.jsx(Y2,{}),r==="invoices"&&e.jsx(H2,{}),r==="timetracking"&&e.jsx(V2,{}),r==="purchaseorders"&&e.jsx(J2,{}),r==="documents"&&e.jsx(X2,{}),r==="reports"&&e.jsx(Z2,{}),r==="ledger"&&e.jsx(W2,{}),r==="marketplace"&&e.jsx(wy,{}),r==="settings"&&e.jsx(ew,{user:s})]}),e.jsx(h6,{})]})},p6=({currentPage:s,onNavigate:a,user:r,onLogout:l})=>{const o=[{id:"dashboard",label:"Dashboard",icon:"📊"},{id:"projects",label:"Projects",icon:"🏗️"},{id:"clients",label:"Clients",icon:"👥"},{id:"rfis",label:"RFIs",icon:"❓"},{id:"subcontractors",label:"Subcontractors",icon:"🔧"},{id:"invoices",label:"Invoices",icon:"💰"},{id:"timetracking",label:"Time Tracking",icon:"⏱️"},{id:"purchaseorders",label:"Purchase Orders",icon:"📦"},{id:"documents",label:"Documents",icon:"📄"},{id:"reports",label:"Reports",icon:"📈"},{id:"ledger",label:"Ledger",icon:"📒"},{id:"marketplace",label:"Marketplace",icon:"🛒"}];return e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-600 via-purple-600 to-cyan-500 flex items-center justify-center shadow-lg transform hover:scale-110 hover:rotate-6 transition-all duration-300 cursor-pointer",children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-blue-600 via-purple-600 to-cyan-500 animate-ping opacity-10"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-xl font-black tracking-tight bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-500 bg-clip-text text-transparent",children:"CortexBuild"}),e.jsx("p",{className:"text-[10px] font-semibold text-gray-500 tracking-wider -mt-0.5",children:"AI PLATFORM"})]})]})}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Navigation"}),e.jsx("ul",{className:"space-y-1",children:o.map(u=>e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:()=>a(u.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${s===u.id?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-xl",children:u.icon}),e.jsx("span",{className:"font-medium",children:u.label})]})},u.id))}),e.jsx("ul",{className:"mt-8 space-y-1",children:e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:()=>a("settings"),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${s==="settings"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-xl",children:"⚙️"}),e.jsx("span",{className:"font-medium",children:"Settings"})]})})})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 via-purple-600 to-cyan-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:r.name.split(" ").map(u=>u[0]).join("")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:r.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:r.email})]})]}),e.jsxs("button",{type:"button",onClick:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{children:"Logout"})]})]})]})},x6=()=>{const s={totalRevenue:245e4,activeProjects:15,totalHours:2340,pendingInvoices:12},a=[{month:"Jan",amount:385e3},{month:"Feb",amount:42e4},{month:"Mar",amount:395e3},{month:"Apr",amount:445e3},{month:"May",amount:41e4},{month:"Jun",amount:395e3}],r=[{status:"Active",count:15,color:"#3B82F6"},{status:"Planning",count:8,color:"#8B5CF6"},{status:"On Hold",count:3,color:"#F59E0B"},{status:"Completed",count:24,color:"#10B981"}],l=[{week:"Week 1",hours:445},{week:"Week 2",hours:520},{week:"Week 3",hours:485},{week:"Week 4",hours:510},{week:"Week 5",hours:380}];return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back, Adrian"}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your construction projects today"})]}),e.jsx(m6,{stats:s,revenueData:a,projectStatusData:r,timeTrackingData:l})]})},c0=({title:s,user:a,companies:r,onSubmit:l,onClose:o})=>{const[u,d]=E.useState({email:(a==null?void 0:a.email)||"",password:"",name:(a==null?void 0:a.name)||"",role:(a==null?void 0:a.role)||"user",company_id:(a==null?void 0:a.company_id)||"",is_active:(a==null?void 0:a.is_active)!==void 0?a.is_active:1}),[m,g]=E.useState({}),x=()=>{const y={};return u.email?/\S+@\S+\.\S+/.test(u.email)||(y.email="Email is invalid"):y.email="Email is required",!a&&!u.password?y.password="Password is required":!a&&u.password.length<6&&(y.password="Password must be at least 6 characters"),u.name||(y.name="Name is required"),u.company_id||(y.company_id="Company is required"),g(y),Object.keys(y).length===0},f=y=>{if(y.preventDefault(),x()){const w={...u};a&&!w.password&&delete w.password,l(w)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ah,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:u.email,onChange:y=>d({...u,email:y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.email?"border-red-500":"border-gray-300"}`,placeholder:"user@example.com"}),m.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!a&&e.jsx("span",{className:"text-red-500",children:"*"}),a&&e.jsx("span",{className:"text-gray-500 text-xs",children:"(leave empty to keep current)"})]}),e.jsx("input",{type:"password",value:u.password,onChange:y=>d({...u,password:y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.password?"border-red-500":"border-gray-300"}`,placeholder:a?"Leave empty to keep current":"Enter password"}),m.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.password})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u.name,onChange:y=>d({...u,name:y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),m.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:u.role,onChange:y=>d({...u,role:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Company ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:u.company_id,onChange:y=>d({...u,company_id:y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m.company_id?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select a company"}),r.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]}),m.company_id&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.company_id})]}),a&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:u.is_active===1,onChange:y=>d({...u,is_active:y.target.checked?1:0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active User"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a?"Update User":"Create User"})]})]})]})})},g6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState([]),[o,u]=E.useState(!0),[d,m]=E.useState(""),[g,x]=E.useState(""),[f,y]=E.useState(""),[w,b]=E.useState(!1),[v,k]=E.useState(!1),[j,S]=E.useState(null),[A,T]=E.useState(null);E.useEffect(()=>{L(),$()},[d,g,f]);const L=async()=>{try{const J=localStorage.getItem("token"),Z=new URLSearchParams;d&&Z.append("search",d),g&&Z.append("role",g),f&&Z.append("company_id",f);const se=await(await fetch(`http://localhost:3001/api/admin/users?${Z}`,{headers:{Authorization:`Bearer ${J}`}})).json();se.success&&a(se.data)}catch(J){console.error("Failed to fetch users:",J)}finally{u(!1)}},$=async()=>{try{const J=localStorage.getItem("token"),le=await(await fetch("http://localhost:3001/api/admin/companies",{headers:{Authorization:`Bearer ${J}`}})).json();le.success&&l(le.data)}catch(J){console.error("Failed to fetch companies:",J)}},D=async J=>{try{const Z=localStorage.getItem("token"),se=await(await fetch("http://localhost:3001/api/admin/users",{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(J)})).json();se.success?(ie("success","User created successfully!"),b(!1),L()):ie("error",se.error||"Failed to create user")}catch{ie("error","Failed to create user")}},q=async(J,Z)=>{try{const le=localStorage.getItem("token"),oe=await(await fetch(`http://localhost:3001/api/admin/users/${J}`,{method:"PUT",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify(Z)})).json();oe.success?(ie("success","User updated successfully!"),k(!1),L()):ie("error",oe.error||"Failed to update user")}catch{ie("error","Failed to update user")}},G=async J=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const Z=localStorage.getItem("token"),se=await(await fetch(`http://localhost:3001/api/admin/users/${J}`,{method:"DELETE",headers:{Authorization:`Bearer ${Z}`}})).json();se.success?(ie("success","User deleted successfully!"),L()):ie("error",se.error||"Failed to delete user")}catch{ie("error","Failed to delete user")}},Q=async(J,Z)=>{await q(J,{is_active:Z===1?0:1})},ie=(J,Z)=>{T({type:J,message:Z}),setTimeout(()=>T(null),5e3)};return e.jsxs("div",{className:"space-y-6",children:[A&&e.jsx("div",{className:`p-4 rounded-lg ${A.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.message}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Create User"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:J=>m(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:g,onChange:J=>x(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"user",children:"User"})]}),e.jsxs("select",{value:f,onChange:J=>y(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Companies"}),r.map(J=>e.jsx("option",{value:J.id,children:J.name},J.id))]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name}),e.jsx("div",{className:"text-sm text-gray-500",children:J.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J.role==="super_admin"?"bg-purple-100 text-purple-800":J.role==="admin"?"bg-blue-100 text-blue-800":J.role==="manager"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:J.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.company_name||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J.is_active===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J.is_active===1?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(J.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{S(J),k(!0)},className:"text-blue-600 hover:text-blue-900",title:"Edit",children:e.jsx(by,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Q(J.id,J.is_active),className:J.is_active===1?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900",title:J.is_active===1?"Deactivate":"Activate",children:J.is_active===1?e.jsx(ON,{className:"w-4 h-4"}):e.jsx(TN,{className:"w-4 h-4"})}),J.role!=="super_admin"&&e.jsx("button",{onClick:()=>G(J.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(ca,{className:"w-4 h-4"})})]})})]},J.id))})]})}),w&&e.jsx(c0,{title:"Create New User",companies:r,onSubmit:D,onClose:()=>b(!1)}),v&&j&&e.jsx(c0,{title:"Edit User",user:j,companies:r,onSubmit:J=>q(j.id,J),onClose:()=>{k(!1),S(null)}})]})},y6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState(!0),[o,u]=E.useState(""),[d,m]=E.useState(!1),[g,x]=E.useState(!1),[f,y]=E.useState(null),[w,b]=E.useState(null);E.useEffect(()=>{v()},[]);const v=async()=>{try{const T=localStorage.getItem("token"),$=await(await fetch("http://localhost:3001/api/admin/companies",{headers:{Authorization:`Bearer ${T}`}})).json();$.success&&a($.data)}catch(T){console.error("Failed to fetch companies:",T)}finally{l(!1)}},k=async T=>{try{const L=localStorage.getItem("token"),D=await(await fetch("http://localhost:3001/api/admin/companies",{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(T)})).json();D.success?(S("success","Company created successfully!"),m(!1),v()):S("error",D.error||"Failed to create company")}catch{S("error","Failed to create company")}},j=async(T,L)=>{try{const $=localStorage.getItem("token"),q=await(await fetch(`http://localhost:3001/api/admin/companies/${T}`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(L)})).json();q.success?(S("success","Company updated successfully!"),x(!1),v()):S("error",q.error||"Failed to update company")}catch{S("error","Failed to update company")}},S=(T,L)=>{b({type:T,message:L}),setTimeout(()=>b(null),5e3)},A=s.filter(T=>T.name.toLowerCase().includes(o.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[w&&e.jsx("div",{className:`p-4 rounded-lg ${w.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.message}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Company Management"}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Company"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search companies...",value:o,onChange:T=>u(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(T=>e.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ia,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full mt-1 ${T.subscription_plan==="enterprise"?"bg-purple-100 text-purple-800":T.subscription_plan==="pro"?"bg-blue-100 text-blue-800":T.subscription_plan==="starter"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.subscription_plan||"free"})]})]})}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Nn,{className:"w-4 h-4"}),e.jsx("span",{children:"Users"})]}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[T.user_count||0," / ",T.max_users||5]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(xy,{className:"w-4 h-4"}),e.jsx("span",{children:"Projects"})]}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[T.project_count||0," / ",T.max_projects||10]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${T.is_active===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.is_active===1?"Active":"Inactive"})}),e.jsx("div",{className:"flex space-x-2 pt-4 border-t",children:e.jsxs("button",{onClick:()=>{y(T),x(!0)},className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[e.jsx(by,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit"})]})})]})},T.id))}),d&&e.jsx(u0,{title:"Create New Company",onSubmit:k,onClose:()=>m(!1)}),g&&f&&e.jsx(u0,{title:"Edit Company",company:f,onSubmit:T=>j(f.id,T),onClose:()=>{x(!1),y(null)}})]})},u0=({title:s,company:a,onSubmit:r,onClose:l})=>{const[o,u]=E.useState({name:(a==null?void 0:a.name)||"",subscription_plan:(a==null?void 0:a.subscription_plan)||"free",max_users:(a==null?void 0:a.max_users)||5,max_projects:(a==null?void 0:a.max_projects)||10,is_active:(a==null?void 0:a.is_active)!==void 0?a.is_active:1}),[d,m]=E.useState({}),g=()=>{const f={};return o.name||(f.name="Company name is required"),o.max_users<1&&(f.max_users="Must be at least 1"),o.max_projects<1&&(f.max_projects="Must be at least 1"),m(f),Object.keys(f).length===0},x=f=>{f.preventDefault(),g()&&r(o)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:e.jsx(b6,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Company Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.name,onChange:f=>u({...o,name:f.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${d.name?"border-red-500":"border-gray-300"}`}),d.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subscription Plan"}),e.jsxs("select",{value:o.subscription_plan,onChange:f=>u({...o,subscription_plan:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"starter",children:"Starter"}),e.jsx("option",{value:"pro",children:"Pro"}),e.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Users"}),e.jsx("input",{type:"number",value:o.max_users,onChange:f=>u({...o,max_users:parseInt(f.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Projects"}),e.jsx("input",{type:"number",value:o.max_projects,onChange:f=>u({...o,max_projects:parseInt(f.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]})]}),a&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:o.is_active===1,onChange:f=>u({...o,is_active:f.target.checked?1:0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active Company"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a?"Update Company":"Create Company"})]})]})]})})},b6=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),v6=()=>{var m,g,x,f,y,w,b,v,k,j,S,A,T,L,$,D,q,G,Q,ie,J;const[s,a]=E.useState(null),[r,l]=E.useState(!0);E.useEffect(()=>{o();const Z=setInterval(o,3e4);return()=>clearInterval(Z)},[]);const o=async()=>{try{const Z=localStorage.getItem("token"),se=await(await fetch("http://localhost:3001/api/admin/system-stats",{headers:{Authorization:`Bearer ${Z}`}})).json();se.success&&a(se.data)}catch(Z){console.error("Failed to fetch system stats:",Z)}finally{l(!1)}},u=Z=>{const le=Math.floor(Z/86400),se=Math.floor(Z%86400/3600),oe=Math.floor(Z%3600/60);return`${le}d ${se}h ${oe}m`},d=Z=>{if(Z===0)return"0 Bytes";const le=1024,se=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(Z)/Math.log(le));return Math.round(Z/Math.pow(le,oe)*100)/100+" "+se[oe]};return r?e.jsx("div",{className:"text-center py-8",children:"Loading system stats..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Monitoring"}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(et,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"All Systems Operational"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(fN,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Server Uptime"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:(m=s==null?void 0:s.performance)!=null&&m.uptime?u(s.performance.uptime):"N/A"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(wn,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Database Size"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:((g=s==null?void 0:s.database)==null?void 0:g.size)||"N/A"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((x=s==null?void 0:s.database)==null?void 0:x.tables)||0," tables"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(_t,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Activity (24h)"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:((y=(f=s==null?void 0:s.activity)==null?void 0:f.last24h)==null?void 0:y.count)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((b=(w=s==null?void 0:s.activity)==null?void 0:w.last7d)==null?void 0:b.count)||0," in last 7 days"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Memory Usage"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(v=s==null?void 0:s.performance)!=null&&v.memory?d(s.performance.memory.heapUsed):"N/A"," /",(k=s==null?void 0:s.performance)!=null&&k.memory?d(s.performance.memory.heapTotal):"N/A"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:(j=s==null?void 0:s.performance)!=null&&j.memory?`${s.performance.memory.heapUsed/s.performance.memory.heapTotal*100}%`:"0%"}})})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CPU Usage"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["User: ",(S=s==null?void 0:s.performance)!=null&&S.cpu?(s.performance.cpu.user/1e6).toFixed(2):0,"s | System: ",(A=s==null?void 0:s.performance)!=null&&A.cpu?(s.performance.cpu.system/1e6).toFixed(2):0,"s"]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Database Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((T=s==null?void 0:s.database)==null?void 0:T.tables)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tables"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(($=(L=s==null?void 0:s.database)==null?void 0:L.records)==null?void 0:$.total)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((D=s==null?void 0:s.database)==null?void 0:D.size)||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Database Size"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Healthy"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Status"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Last 24 Hours"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:((G=(q=s==null?void 0:s.activity)==null?void 0:q.last24h)==null?void 0:G.count)||0})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"User actions and API calls"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Last 7 Days"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:((ie=(Q=s==null?void 0:s.activity)==null?void 0:Q.last7d)==null?void 0:ie.count)||0})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total platform activity"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Platform"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"CortexBuild v2.0.0"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Node.js Version"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:process.version||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Environment"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Development"})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Restart"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(Date.now()-(((J=s==null?void 0:s.performance)==null?void 0:J.uptime)||0)*1e3).toLocaleString()})]})]})]})]})},j6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState(!0),[o,u]=E.useState(""),[d,m]=E.useState(""),[g,x]=E.useState(1),[f,y]=E.useState(1);E.useEffect(()=>{w()},[g,d]);const w=async()=>{try{const k=localStorage.getItem("token"),j=new URLSearchParams;j.append("page",g.toString()),j.append("limit","20"),d&&j.append("action",d);const A=await(await fetch(`http://localhost:3001/api/admin/activity-logs?${j}`,{headers:{Authorization:`Bearer ${k}`}})).json();A.success&&(a(A.data),y(A.pagination.totalPages))}catch(k){console.error("Failed to fetch activity logs:",k)}finally{l(!1)}},b=k=>({login:"bg-green-100 text-green-800",logout:"bg-gray-100 text-gray-800",create:"bg-blue-100 text-blue-800",update:"bg-yellow-100 text-yellow-800",delete:"bg-red-100 text-red-800",password_reset:"bg-purple-100 text-purple-800",bulk_action:"bg-indigo-100 text-indigo-800",notification_sent:"bg-pink-100 text-pink-800"})[k]||"bg-gray-100 text-gray-800",v=s.filter(k=>{var j,S;return k.description.toLowerCase().includes(o.toLowerCase())||((j=k.user_name)==null?void 0:j.toLowerCase().includes(o.toLowerCase()))||((S=k.user_email)==null?void 0:S.toLowerCase().includes(o.toLowerCase()))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Logs"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(_t,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.length," activities"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search activities...",value:o,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:d,onChange:k=>m(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"login",children:"Login"}),e.jsx("option",{value:"logout",children:"Logout"}),e.jsx("option",{value:"create",children:"Create"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"delete",children:"Delete"}),e.jsx("option",{value:"password_reset",children:"Password Reset"}),e.jsx("option",{value:"bulk_action",children:"Bulk Action"}),e.jsx("option",{value:"notification_sent",children:"Notification Sent"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200",children:v.length>0?v.map(k=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(_t,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:k.user_name||"Unknown User"}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b(k.action)}`,children:k.action})]}),e.jsx("p",{className:"text-sm text-gray-600",children:k.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:k.user_email}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(k.created_at).toLocaleString()})]})]})]})})},k.id)):e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No activity logs found"})})}),f>1&&e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>x(k=>Math.max(1,k-1)),disabled:g===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-gray-700",children:["Page ",g," of ",f]}),e.jsx("button",{onClick:()=>x(k=>Math.min(f,k+1)),disabled:g===f,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})},w6=()=>{const[s,a]=E.useState(null),[r,l]=E.useState(!0),[o,u]=E.useState("30d");E.useEffect(()=>{d()},[o]);const d=async()=>{try{const g=localStorage.getItem("token"),f=await(await fetch(`http://localhost:3001/api/admin/analytics?period=${o}`,{headers:{Authorization:`Bearer ${g}`}})).json();f.success&&a(f.data)}catch(g){console.error("Failed to fetch analytics:",g)}finally{l(!1)}};if(r)return e.jsx("div",{className:"text-center py-8",children:"Loading analytics..."});const m=g=>({enterprise:"bg-purple-100 text-purple-800",pro:"bg-blue-100 text-blue-800",starter:"bg-green-100 text-green-800",free:"bg-gray-100 text-gray-800"})[g]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Platform Analytics"}),e.jsxs("select",{value:o,onChange:g=>u(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Pd,{title:"User Growth",data:(s==null?void 0:s.userGrowth)||[],icon:Nn,color:"blue"}),e.jsx(Pd,{title:"Company Growth",data:(s==null?void 0:s.companyGrowth)||[],icon:ia,color:"green"}),e.jsx(Pd,{title:"Project Growth",data:(s==null?void 0:s.projectGrowth)||[],icon:xy,color:"purple"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[e.jsx(ia,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Top Companies"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Users"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Projects"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s==null?void 0:s.topCompanies.map((g,x)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${m(g.subscription_plan)}`,children:g.subscription_plan})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.user_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.project_count})]},x))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[e.jsx(eh,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Subscription Distribution"})]}),e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.subscriptionDistribution.map((g,x)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${m(g.subscription_plan)}`,children:g.subscription_plan})}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:g.count})]},x))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[e.jsx(Nn,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Role Distribution"})]}),e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.roleDistribution.map((g,x)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:g.role}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:g.count})]},x))})]})]})]})},Pd=({title:s,data:a,icon:r,color:l})=>{var x,f;const o=a.reduce((y,w)=>y+w.count,0),u=((x=a[0])==null?void 0:x.count)||0,d=((f=a[1])==null?void 0:f.count)||0,m=d>0?((u-d)/d*100).toFixed(1):"0",g={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600"};return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("div",{className:`p-2 rounded-lg ${g[l]}`,children:e.jsx(r,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jl,{className:`w-4 h-4 ${parseFloat(m)>=0?"text-green-600":"text-red-600"}`}),e.jsxs("span",{className:`text-sm font-medium ${parseFloat(m)>=0?"text-green-600":"text-red-600"}`,children:[m,"%"]}),e.jsx("span",{className:"text-sm text-gray-500",children:"vs previous period"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Recent: ",a.slice(0,3).map(y=>y.count).join(", ")]})})]})},N6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState(!0),[o,u]=E.useState("overview");E.useEffect(()=>{d()},[]);const d=async()=>{try{const g=localStorage.getItem("token"),f=await(await fetch("http://localhost:3001/api/marketplace/installed",{headers:{Authorization:`Bearer ${g}`}})).json();f.success&&a(f.data)}catch(g){console.error("Failed to fetch installed modules:",g)}finally{l(!1)}},m=async(g,x)=>{try{const f=localStorage.getItem("token");(await fetch(`http://localhost:3001/api/marketplace/configure/${g}`,{method:"PUT",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({config:{is_active:!x}})})).ok&&d()}catch(f){console.error("Failed to toggle module status:",f)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Developer Platform"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsx("span",{children:"Module Management & API Tools"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:gr},{id:"modules",label:"Installed Modules",icon:Ct},{id:"api",label:"API Documentation",icon:my},{id:"webhooks",label:"Webhooks",icon:Nr}].map(g=>e.jsxs("button",{onClick:()=>u(g.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${o===g.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(g.icon,{className:"w-5 h-5"}),e.jsx("span",{children:g.label})]},g.id))})}),o==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Installed Modules"}),e.jsx(gr,{className:"w-8 h-8 text-blue-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.length}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[s.filter(g=>g.is_active).length," active"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"API Endpoints"}),e.jsx(Ft,{className:"w-8 h-8 text-green-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"13"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Core + Module APIs"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Webhooks"}),e.jsx(Ct,{className:"w-8 h-8 text-purple-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No webhooks configured"})]})]}),o==="modules"&&e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Installed Modules"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and configure your installed modules"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:r?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading modules..."}):s.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No modules installed yet. Visit the Marketplace to install modules."}):s.map(g=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:g.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.is_active?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Version: ",g.version]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Category: ",g.category]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Installed: ",new Date(g.installed_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>m(g.module_id,g.is_active),className:`px-4 py-2 rounded-lg font-medium transition-colors ${g.is_active?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:g.is_active?"Deactivate":"Activate"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Configure"})]})]})},g.id))})]}),o==="api"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Documentation"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Marketplace API"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 font-mono text-xs rounded",children:"GET"}),e.jsx("code",{className:"text-gray-700",children:"/api/marketplace/modules"}),e.jsx("span",{className:"text-gray-500",children:"- Browse available modules"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 font-mono text-xs rounded",children:"POST"}),e.jsx("code",{className:"text-gray-700",children:"/api/marketplace/install"}),e.jsx("span",{className:"text-gray-500",children:"- Install a module"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 font-mono text-xs rounded",children:"DELETE"}),e.jsx("code",{className:"text-gray-700",children:"/api/marketplace/uninstall/:id"}),e.jsx("span",{className:"text-gray-500",children:"- Uninstall a module"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Widgets API"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 font-mono text-xs rounded",children:"GET"}),e.jsx("code",{className:"text-gray-700",children:"/api/widgets/dashboards"}),e.jsx("span",{className:"text-gray-500",children:"- Get user dashboards"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 font-mono text-xs rounded",children:"POST"}),e.jsx("code",{className:"text-gray-700",children:"/api/widgets/add"}),e.jsx("span",{className:"text-gray-500",children:"- Add widget to dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 font-mono text-xs rounded",children:"PUT"}),e.jsx("code",{className:"text-gray-700",children:"/api/widgets/:id"}),e.jsx("span",{className:"text-gray-500",children:"- Update widget configuration"})]})]})]})]})]}),o==="webhooks"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Webhooks"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure webhooks to receive real-time events"})]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Webhook"})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Ct,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No webhooks configured yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first webhook to start receiving events"})]})]})]})},S6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState(null),[o,u]=E.useState([]),[d,m]=E.useState(!1),[g,x]=E.useState(!1),[f,y]=E.useState(null);E.useEffect(()=>{w()},[]),E.useEffect(()=>{r&&b(r.id)},[r]);const w=async()=>{try{const D=localStorage.getItem("token"),G=await(await fetch("http://localhost:3001/api/widgets/dashboards",{headers:{Authorization:`Bearer ${D}`}})).json();G.success&&(a(G.data),G.data.length>0&&l(G.data.find(Q=>Q.is_default)||G.data[0]))}catch(D){console.error("Failed to fetch dashboards:",D)}},b=async D=>{try{const q=localStorage.getItem("token"),Q=await(await fetch(`http://localhost:3001/api/widgets/dashboard/${D}/widgets`,{headers:{Authorization:`Bearer ${q}`}})).json();Q.success&&u(Q.data)}catch(q){console.error("Failed to fetch widgets:",q)}},v=async()=>{const D=prompt("Enter dashboard name:");if(D)try{const q=localStorage.getItem("token");(await(await fetch("http://localhost:3001/api/widgets/dashboards",{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({name:D,layout:"[]"})})).json()).success&&w()}catch(q){console.error("Failed to create dashboard:",q)}},k=async D=>{if(!r)return;const q=prompt(`Enter ${D} widget title:`);if(q)try{const G=localStorage.getItem("token");(await(await fetch("http://localhost:3001/api/widgets/add",{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify({dashboard_id:r.id,widget_type:D,title:q,config:"{}",position_x:0,position_y:o.length*2,width:4,height:2})})).json()).success&&(b(r.id),x(!1))}catch(G){console.error("Failed to add widget:",G)}},j=async(D,q,G)=>{try{const Q=localStorage.getItem("token");await fetch(`http://localhost:3001/api/widgets/${D}`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({position_x:q,position_y:G})})}catch(Q){console.error("Failed to update widget position:",Q)}},S=async D=>{if(confirm("Delete this widget?"))try{const q=localStorage.getItem("token");await fetch(`http://localhost:3001/api/widgets/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${q}`}}),r&&b(r.id)}catch(q){console.error("Failed to delete widget:",q)}},A=D=>{y(D)},T=D=>{D.preventDefault()},L=(D,q,G)=>{D.preventDefault(),f&&(j(f.id,q,G),y(null),r&&b(r.id))},$=D=>{switch(D){case"chart":return e.jsx(zo,{className:"w-5 h-5"});case"table":return e.jsx(bg,{className:"w-5 h-5"});case"stats":return e.jsx(_t,{className:"w-5 h-5"});case"pie":return e.jsx(eh,{className:"w-5 h-5"});default:return e.jsx(nh,{className:"w-5 h-5"})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Builder"}),e.jsx("p",{className:"text-gray-600",children:"Create and customize your perfect dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>m(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Yo,{className:"w-4 h-4 inline mr-2"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(jy,{className:"w-4 h-4 inline mr-2"}),"Edit"]})}),e.jsxs("button",{onClick:v,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ss,{className:"w-4 h-4 inline mr-2"}),"New Dashboard"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Dashboard:"}),e.jsx("select",{value:(r==null?void 0:r.id)||"",onChange:D=>{const q=s.find(G=>G.id===parseInt(D.target.value));l(q||null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:s.map(D=>e.jsxs("option",{value:D.id,children:[D.name," ",D.is_default?"(Default)":""]},D.id))})]})}),d&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Add Widget"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{type:"stats",label:"Stats Card",icon:_t},{type:"chart",label:"Chart",icon:zo},{type:"table",label:"Data Table",icon:bg},{type:"pie",label:"Pie Chart",icon:eh}].map(D=>e.jsxs("button",{onClick:()=>k(D.type),className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[e.jsx(D.icon,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:D.label})]},D.type))})]}),e.jsx("div",{className:"grid grid-cols-12 gap-4",children:o.map(D=>e.jsxs("div",{draggable:d,onDragStart:()=>A(D),onDragOver:T,onDrop:q=>L(q,D.position_x,D.position_y),className:`bg-white rounded-lg shadow p-6 ${d?"cursor-move border-2 border-dashed border-blue-300":""}`,style:{gridColumn:`span ${D.width}`,gridRow:`span ${D.height}`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[$(D.widget_type),e.jsx("h3",{className:"font-semibold text-gray-900",children:D.title})]}),d&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>S(D.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(ca,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("p",{className:"text-sm",children:"Widget content will appear here"}),e.jsxs("p",{className:"text-xs mt-1",children:["Type: ",D.widget_type]})]})]},D.id))}),o.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(nh,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No widgets yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Edit" and add your first widget to get started'})]})]})})},k6=()=>{var f;const[s,a]=E.useState("create"),[r,l]=E.useState({name:"",slug:"",description:"",category:"utilities",version:"1.0.0",code:"",config_schema:{}}),[o,u]=E.useState(null),d=`// CortexBuild Module Template
// Module Name: ${r.name||"My Module"}
// Version: ${r.version}

export class ${((f=r.slug)==null?void 0:f.replace(/-/g,"_"))||"MyModule"} {
  constructor(config) {
    this.config = config;
  }

  // Initialize module
  async init() {
    console.log('Module initialized');
  }

  // Main execution function
  async execute(input) {
    // Your module logic here
    return {
      success: true,
      data: input
    };
  }

  // Cleanup function
  async cleanup() {
    console.log('Module cleanup');
  }
}

// Export module metadata
export const metadata = {
  name: '${r.name}',
  version: '${r.version}',
  description: '${r.description}',
  category: '${r.category}',
  author: 'Your Name',
  permissions: ['read', 'write'],
  dependencies: []
};
`,m=async()=>{try{const y=localStorage.getItem("token"),b=await(await fetch("http://localhost:3001/api/admin/modules/create",{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({...r,code:d,status:"draft"})})).json();b.success?alert("Module created successfully!"):alert(b.error||"Failed to create module")}catch(y){console.error("Failed to create module:",y),alert("Failed to create module")}},g=()=>{u({status:"success",message:"Module test passed",execution_time:"45ms",memory_used:"2.3MB",tests_passed:5,tests_failed:0})},x=async()=>{if(confirm("Publish this module to the marketplace?"))try{const y=localStorage.getItem("token");(await(await fetch("http://localhost:3001/api/admin/modules/publish",{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success&&alert("Module published successfully!")}catch(y){console.error("Failed to publish module:",y)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Module Development SDK"}),e.jsx("p",{className:"text-gray-600",children:"Create, test, and publish custom modules"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SDK v2.0"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"create",label:"Create Module",icon:gr},{id:"test",label:"Test & Debug",icon:On},{id:"docs",label:"Documentation",icon:my},{id:"publish",label:"Publish",icon:jg}].map(y=>e.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${s===y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(y.icon,{className:"w-5 h-5"}),e.jsx("span",{children:y.label})]},y.id))})}),s==="create"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Module Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Module Name"}),e.jsx("input",{type:"text",value:r.name,onChange:y=>l({...r,name:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"My Awesome Module"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),e.jsx("input",{type:"text",value:r.slug,onChange:y=>l({...r,slug:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"my-awesome-module"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:y=>l({...r,description:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe what your module does..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:r.category,onChange:y=>l({...r,category:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"analytics",children:"Analytics"}),e.jsx("option",{value:"automation",children:"Automation"}),e.jsx("option",{value:"communication",children:"Communication"}),e.jsx("option",{value:"finance",children:"Finance"}),e.jsx("option",{value:"project-management",children:"Project Management"}),e.jsx("option",{value:"integrations",children:"Integrations"}),e.jsx("option",{value:"utilities",children:"Utilities"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),e.jsx("input",{type:"text",value:r.version,onChange:y=>l({...r,version:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1.0.0"})]}),e.jsxs("button",{onClick:m,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(gr,{className:"w-4 h-4 inline mr-2"}),"Create Module"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Module Code"}),e.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(Ms,{className:"w-4 h-4 inline mr-1"}),"Download Template"]})]}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-auto",style:{maxHeight:"500px"},children:e.jsx("pre",{className:"text-sm text-green-400 font-mono",children:e.jsx("code",{children:d})})})]})]}),s==="test"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Your Module"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Input (JSON)"}),e.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:6,placeholder:'{"key": "value"}'})]}),e.jsxs("button",{onClick:g,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(On,{className:"w-4 h-4 inline mr-2"}),"Run Test"]}),o&&e.jsxs("div",{className:`p-4 rounded-lg ${o.status==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.status==="success"?e.jsx(et,{className:"w-5 h-5 text-green-600"}):e.jsx(_h,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"font-semibold",children:o.message})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:["Execution Time: ",o.execution_time]}),e.jsxs("p",{children:["Memory Used: ",o.memory_used]}),e.jsxs("p",{children:["Tests Passed: ",o.tests_passed,"/",o.tests_passed+o.tests_failed]})]})]})]})]}),s==="docs"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Module Development Guide"}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Getting Started"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"CortexBuild modules are JavaScript/TypeScript classes that extend the platform's functionality. Each module must implement the required interface and export metadata."}),e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Required Methods"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 mb-4",children:[e.jsxs("li",{children:[e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"init()"})," - Initialize your module"]}),e.jsxs("li",{children:[e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"execute(input)"})," - Main execution logic"]}),e.jsxs("li",{children:[e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"cleanup()"})," - Cleanup resources"]})]}),e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Best Practices"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Always validate input data"}),e.jsx("li",{children:"Handle errors gracefully"}),e.jsx("li",{children:"Use async/await for asynchronous operations"}),e.jsx("li",{children:"Document your code with JSDoc comments"}),e.jsx("li",{children:"Test thoroughly before publishing"})]})]})]}),s==="publish"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Publish to Marketplace"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Pre-publish Checklist"}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:"Module tested and working"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:"Documentation complete"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:"Version number updated"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:"Category selected"})]})]})]}),e.jsxs("button",{onClick:x,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold",children:[e.jsx(jg,{className:"w-5 h-5 inline mr-2"}),"Publish to Marketplace"]})]})]})]})},_6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState([]),[o,u]=E.useState(!1),[d,m]=E.useState(null);E.useEffect(()=>{g(),x()},[]);const g=async()=>{try{const j=localStorage.getItem("token"),A=await(await fetch("http://localhost:3001/api/smart-tools",{headers:{Authorization:`Bearer ${j}`}})).json();A.success&&a(A.data)}catch(j){console.error("Failed to fetch tools:",j)}},x=async()=>{try{const j=localStorage.getItem("token"),A=await(await fetch("http://localhost:3001/api/smart-tools/executions",{headers:{Authorization:`Bearer ${j}`}})).json();A.success&&l(A.data)}catch(j){console.error("Failed to fetch executions:",j)}},f=async j=>{try{const S=localStorage.getItem("token");(await(await fetch("http://localhost:3001/api/smart-tools",{method:"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify(j)})).json()).success&&(g(),u(!1))}catch(S){console.error("Failed to create tool:",S)}},y=async(j,S)=>{try{const A=localStorage.getItem("token");await fetch(`http://localhost:3001/api/smart-tools/${j}/toggle`,{method:"PUT",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({is_active:!S})}),g()}catch(A){console.error("Failed to toggle tool:",A)}},w=async j=>{try{const S=localStorage.getItem("token");(await(await fetch(`http://localhost:3001/api/smart-tools/${j}/run`,{method:"POST",headers:{Authorization:`Bearer ${S}`}})).json()).success&&(alert("Tool executed successfully!"),x())}catch(S){console.error("Failed to run tool:",S)}},b=async j=>{if(confirm("Delete this smart tool?"))try{const S=localStorage.getItem("token");await fetch(`http://localhost:3001/api/smart-tools/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}}),g()}catch(S){console.error("Failed to delete tool:",S)}},v=j=>{switch(j){case"scheduled":return e.jsx(pr,{className:"w-5 h-5"});case"webhook":return e.jsx(Ct,{className:"w-5 h-5"});case"workflow":return e.jsx(_t,{className:"w-5 h-5"});default:return e.jsx(Ct,{className:"w-5 h-5"})}},k=j=>{switch(j){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Smart Tools & Automation"}),e.jsx("p",{className:"text-gray-600",children:"Schedule tasks, create workflows, and automate processes"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ss,{className:"w-4 h-4 inline mr-2"}),"Create Smart Tool"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Smart Tools"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Ct,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No smart tools created yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first automation tool to get started"})]}):s.map(j=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${j.is_active?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:v(j.tool_type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:j.name}),e.jsx("p",{className:"text-sm text-gray-600",children:j.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mt-3",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(mw,{className:"w-4 h-4"}),e.jsxs("span",{children:["Schedule: ",j.schedule||"Manual"]})]}),j.last_run_at&&e.jsxs("span",{children:["Last run: ",new Date(j.last_run_at).toLocaleString()]}),j.next_run_at&&e.jsxs("span",{children:["Next run: ",new Date(j.next_run_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>w(j.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Run now",children:e.jsx(On,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>y(j.id,j.is_active),className:`p-2 rounded-lg transition-colors ${j.is_active?"text-yellow-600 hover:bg-yellow-50":"text-blue-600 hover:bg-blue-50"}`,title:j.is_active?"Pause":"Activate",children:j.is_active?e.jsx(sh,{className:"w-5 h-5"}):e.jsx(On,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>b(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(ca,{className:"w-5 h-5"})})]})]})},j.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Executions"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tool"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Error"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No executions yet"})}):r.map(j=>{const S=s.find(T=>T.id===j.tool_id),A=j.completed_at?Math.round((new Date(j.completed_at).getTime()-new Date(j.started_at).getTime())/1e3):null;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(S==null?void 0:S.name)||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${k(j.status)}`,children:j.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.started_at).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A?`${A}s`:"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-red-600",children:j.error_message||"-"})]},j.id)})})]})})]}),o&&e.jsx(C6,{onClose:()=>u(!1),onCreate:f})]})},C6=({onClose:s,onCreate:a})=>{const[r,l]=E.useState({name:"",description:"",tool_type:"scheduled",schedule:"0 0 * * *",config:"{}"}),o=u=>{u.preventDefault(),a(r)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Smart Tool"}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:r.name,onChange:u=>l({...r,name:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:u=>l({...r,description:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:r.tool_type,onChange:u=>l({...r,tool_type:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"scheduled",children:"Scheduled (Cron)"}),e.jsx("option",{value:"webhook",children:"Webhook Trigger"}),e.jsx("option",{value:"workflow",children:"Workflow Chain"})]})]}),r.tool_type==="scheduled"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule (Cron Expression)"}),e.jsx("input",{type:"text",value:r.schedule,onChange:u=>l({...r,schedule:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0 0 * * *"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Examples: "0 0 * * *" (daily), "0 */6 * * *" (every 6 hours)'})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Tool"})]})]})]})})},A6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState([]),[o,u]=E.useState(!1);E.useEffect(()=>{d(),m()},[]);const d=async()=>{try{const w=localStorage.getItem("token"),v=await(await fetch("http://localhost:3001/api/webhooks",{headers:{Authorization:`Bearer ${w}`}})).json();v.success&&a(v.data)}catch(w){console.error("Failed to fetch webhooks:",w)}},m=async()=>{try{const w=localStorage.getItem("token"),v=await(await fetch("http://localhost:3001/api/webhooks/logs",{headers:{Authorization:`Bearer ${w}`}})).json();v.success&&l(v.data)}catch(w){console.error("Failed to fetch logs:",w)}},g=async w=>{try{const b=localStorage.getItem("token");(await(await fetch("http://localhost:3001/api/webhooks",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify(w)})).json()).success&&(d(),u(!1))}catch(b){console.error("Failed to create webhook:",b)}},x=async w=>{if(confirm("Delete this webhook?"))try{const b=localStorage.getItem("token");await fetch(`http://localhost:3001/api/webhooks/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}}),d()}catch(b){console.error("Failed to delete webhook:",b)}},f=w=>{navigator.clipboard.writeText(w),alert("Secret copied to clipboard!")},y=async w=>{try{const b=localStorage.getItem("token");(await(await fetch(`http://localhost:3001/api/webhooks/${w}/test`,{method:"POST",headers:{Authorization:`Bearer ${b}`}})).json()).success&&(alert("Test webhook sent successfully!"),m())}catch(b){console.error("Failed to test webhook:",b)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Webhook Management"}),e.jsx("p",{className:"text-gray-600",children:"Configure webhooks to receive real-time event notifications"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ss,{className:"w-4 h-4 inline mr-2"}),"Create Webhook"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Webhooks"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No webhooks configured yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first webhook to start receiving events"})]}):s.map(w=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(oa,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:w.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.is_active?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["URL: ",w.url]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Events: ",w.events.join(", ")]}),w.last_triggered_at&&e.jsxs("span",{children:["Last triggered: ",new Date(w.last_triggered_at).toLocaleString()]})]}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsxs("code",{className:"px-2 py-1 bg-gray-100 text-xs rounded",children:["Secret: ",w.secret.substring(0,20),"..."]}),e.jsx("button",{onClick:()=>f(w.secret),className:"text-blue-600 hover:text-blue-700",children:e.jsx(fy,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>y(w.id),className:"px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-colors text-sm",children:"Test"}),e.jsx("button",{onClick:()=>x(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(ca,{className:"w-5 h-5"})})]})]})},w.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Webhook Calls"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Webhook"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Response"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No webhook calls yet"})}):r.map(w=>{const b=s.find(v=>v.id===w.webhook_id);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(b==null?void 0:b.name)||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.event_type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.status==="success"?e.jsx(et,{className:"w-5 h-5 text-green-600"}):e.jsx(Lo,{className:"w-5 h-5 text-red-600"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.response_code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.created_at).toLocaleString()})]},w.id)})})]})})]}),o&&e.jsx(E6,{onClose:()=>u(!1),onCreate:g})]})},E6=({onClose:s,onCreate:a})=>{const[r,l]=E.useState({name:"",url:"",events:[]}),o=["project.created","project.updated","project.deleted","invoice.created","invoice.paid","invoice.overdue","client.created","client.updated","task.created","task.completed"],u=m=>{l(g=>({...g,events:g.events.includes(m)?g.events.filter(x=>x!==m):[...g.events,m]}))},d=m=>{m.preventDefault(),a(r)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Webhook"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:r.name,onChange:m=>l({...r,name:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),e.jsx("input",{type:"url",value:r.url,onChange:m=>l({...r,url:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://your-domain.com/webhook",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Events to Subscribe"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:o.map(m=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.events.includes(m),onChange:()=>u(m),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:m})]},m))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Webhook"})]})]})]})})},T6=({moduleId:s})=>{const[a,r]=E.useState([]),[l,o]=E.useState(!1),[u,d]=E.useState(null),[m,g]=E.useState("recent");E.useEffect(()=>{x()},[s,u,m]);const x=async()=>{try{const j=localStorage.getItem("token"),S=new URLSearchParams;s&&S.append("module_id",s.toString()),u&&S.append("rating",u.toString()),S.append("sort",m);const T=await(await fetch(`http://localhost:3001/api/module-reviews?${S}`,{headers:{Authorization:`Bearer ${j}`}})).json();T.success&&r(T.data)}catch(j){console.error("Failed to fetch reviews:",j)}},f=async j=>{try{const S=localStorage.getItem("token");(await(await fetch("http://localhost:3001/api/module-reviews",{method:"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify(j)})).json()).success&&(x(),o(!1))}catch(S){console.error("Failed to submit review:",S)}},y=async j=>{try{const S=localStorage.getItem("token");await fetch(`http://localhost:3001/api/module-reviews/${j}/helpful`,{method:"POST",headers:{Authorization:`Bearer ${S}`}}),x()}catch(S){console.error("Failed to mark helpful:",S)}},w=(j,S="md")=>{const A={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(T=>e.jsx(Kl,{className:`${A[S]} ${T<=j?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},T))})},b=()=>{const j={5:0,4:0,3:0,2:0,1:0};return a.forEach(S=>{j[S.rating]++}),j},v=a.length>0?(a.reduce((j,S)=>j+S.rating,0)/a.length).toFixed(1):"0.0",k=b();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Module Reviews"}),e.jsx("p",{className:"text-gray-600",children:"Read and write reviews for marketplace modules"})]}),s&&e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(xr,{className:"w-4 h-4 inline mr-2"}),"Write Review"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:v}),w(parseFloat(v),"lg"),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.length," reviews"]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(j=>{const S=k[j],A=a.length>0?S/a.length*100:0;return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[j," stars"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${A}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:S})]},j)})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Pl,{className:"w-5 h-5 text-gray-600"}),e.jsxs("select",{value:u||"",onChange:j=>d(j.target.value?parseInt(j.target.value):null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"5",children:"5 Stars"}),e.jsx("option",{value:"4",children:"4 Stars"}),e.jsx("option",{value:"3",children:"3 Stars"}),e.jsx("option",{value:"2",children:"2 Stars"}),e.jsx("option",{value:"1",children:"1 Star"})]}),e.jsxs("select",{value:m,onChange:j=>g(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"helpful",children:"Most Helpful"}),e.jsx("option",{value:"rating_high",children:"Highest Rating"}),e.jsx("option",{value:"rating_low",children:"Lowest Rating"})]})]})}),e.jsx("div",{className:"space-y-4",children:a.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(xr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"No reviews yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Be the first to review this module!"})]}):a.map(j=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:j.user_name}),w(j.rating)]}),j.title&&e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:j.title})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(j.created_at).toLocaleDateString()})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:j.comment}),e.jsx("div",{className:"flex items-center space-x-4 text-sm",children:e.jsxs("button",{onClick:()=>y(j.id),className:"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(NN,{className:"w-4 h-4"}),e.jsxs("span",{children:["Helpful (",j.helpful_count,")"]})]})})]},j.id))}),l&&s&&e.jsx(D6,{moduleId:s,onClose:()=>o(!1),onSubmit:f})]})},D6=({moduleId:s,onClose:a,onSubmit:r})=>{const[l,o]=E.useState({module_id:s,rating:5,title:"",comment:""}),u=d=>{d.preventDefault(),r(l)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Write a Review"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(d=>e.jsx("button",{type:"button",onClick:()=>o({...l,rating:d}),className:"focus:outline-none",children:e.jsx(Kl,{className:`w-8 h-8 ${d<=l.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},d))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Optional)"}),e.jsx("input",{type:"text",value:l.title,onChange:d=>o({...l,title:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Sum up your experience"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review"}),e.jsx("textarea",{value:l.comment,onChange:d=>o({...l,comment:d.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:5,placeholder:"Share your thoughts about this module...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Review"})]})]})]})})},O6=({subscriptionTier:s})=>{const[a,r]=E.useState([]),[l,o]=E.useState(""),[u,d]=E.useState(!1),[m,g]=E.useState(!1),[x,f]=E.useState(!1),[y,w]=E.useState(null),b=E.useRef(null);E.useEffect(()=>{const A=localStorage.getItem("mcp_session_id");A&&w(A),k()},[]),E.useEffect(()=>{v()},[a]);const v=()=>{var A;(A=b.current)==null||A.scrollIntoView({behavior:"smooth"})},k=async()=>{try{const A=localStorage.getItem("token"),L=await(await fetch("http://localhost:3001/api/sdk/ai/chat-history?limit=20",{headers:{Authorization:`Bearer ${A}`}})).json();if(L.success){const $=L.data.reverse().map(D=>({role:D.role,content:D.content,timestamp:new Date(D.created_at)}));r($)}}catch(A){console.error("Failed to load chat history:",A)}},j=async()=>{if(!l.trim()||u)return;const A={role:"user",content:l,timestamp:new Date};r(T=>[...T,A]),o(""),d(!0);try{const T=localStorage.getItem("token"),$=await(await fetch("http://localhost:3001/api/sdk/ai/chat",{method:"POST",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({message:l,conversationHistory:a.slice(-10).map(D=>({role:D.role,content:D.content})),sessionId:y})})).json();if($.success){$.sessionId&&!y&&(w($.sessionId),localStorage.setItem("mcp_session_id",$.sessionId));const D={role:"assistant",content:$.response,timestamp:new Date};r(q=>[...q,D])}else throw new Error($.error||"Failed to get response")}catch(T){console.error("Chat error:",T);const L={role:"assistant",content:`Sorry, I encountered an error: ${T.message}. Please try again.`,timestamp:new Date};r($=>[...$,L])}finally{d(!1)}},S=[{icon:Ft,label:"Generate Code",prompt:"How do I create a custom module for CortexBuild?"},{icon:py,label:"API Docs",prompt:"Show me the CortexBuild SDK API documentation"},{icon:Ct,label:"Best Practices",prompt:"What are the best practices for building construction apps?"},{icon:ra,label:"Templates",prompt:"What templates are available and how do I use them?"}];return m?e.jsx("div",{className:"fixed bottom-6 right-6 z-50 transition-all",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl ${x?"w-80 h-16":"w-96 h-[600px]"} flex flex-col overflow-hidden`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(ra,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"SDK Developer Assistant"}),e.jsx("p",{className:"text-xs text-blue-100",children:"AI-powered help"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(!x),className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",children:x?e.jsx(Jw,{className:"w-4 h-4"}):e.jsx(Zw,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(!1),className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",children:e.jsx(Ah,{className:"w-4 h-4"})})]})]}),!x&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ra,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Welcome to SDK Developer Assistant!"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"I can help you build custom modules, explain APIs, and answer questions about CortexBuild development."}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:S.map((A,T)=>e.jsxs("button",{onClick:()=>o(A.prompt),className:"p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-400 transition-colors text-left",children:[e.jsx(A.icon,{className:"w-4 h-4 text-blue-600 mb-1"}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:A.label})]},T))})]}):a.map((A,T)=>e.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] px-4 py-2 rounded-lg ${A.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:A.content}),e.jsx("p",{className:`text-xs mt-1 ${A.role==="user"?"text-blue-100":"text-gray-500"}`,children:A.timestamp.toLocaleTimeString()})]})},T)),u&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white border border-gray-200 px-4 py-2 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Thinking..."})]})})}),e.jsx("div",{ref:b})]}),e.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[s==="free"&&e.jsx("div",{className:"mb-2 text-xs text-red-600 text-center",children:"Upgrade to use AI Developer Assistant"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:l,onChange:A=>o(A.target.value),onKeyPress:A=>A.key==="Enter"&&j(),placeholder:"Ask me anything about SDK development...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:u||s==="free"}),e.jsx("button",{onClick:j,disabled:u||!l.trim()||s==="free",className:`p-2 rounded-lg transition-colors ${u||!l.trim()||s==="free"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.jsx(hN,{className:"w-5 h-5"})})]})]})]})]})}):e.jsx("button",{onClick:()=>g(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all flex items-center justify-center z-50",children:e.jsx(xr,{className:"w-7 h-7"})})},M6=({subscriptionTier:s})=>{const[a,r]=E.useState(""),[l,o]=E.useState(""),[u,d]=E.useState(""),[m,g]=E.useState(!1),[x,f]=E.useState(!1),[y,w]=E.useState(!1),[b,v]=E.useState(null),[k,j]=E.useState(!1),[S,A]=E.useState(""),T=async()=>{if(a.trim()){g(!0),v(null),A("");try{const D=localStorage.getItem("token"),G=await(await fetch("http://localhost:3001/api/sdk/ai/generate-app",{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify({prompt:a,subscriptionTier:s})})).json();G.success?(o(G.code),d(G.explanation||"")):alert(G.error||"Failed to generate app")}catch(D){console.error("Failed to generate app:",D),alert("Failed to generate app. Please try again.")}finally{g(!1)}}},L=async()=>{if(l){w(!0);try{const D=localStorage.getItem("token"),G=await(await fetch("http://localhost:3001/api/sdk/ai/analyze-code",{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify({code:l})})).json();G.success?v(G.data):alert(G.error||"Failed to analyze code")}catch(D){console.error("Failed to analyze code:",D),alert("Failed to analyze code. Please try again.")}finally{w(!1)}}},$=async()=>{if(l){j(!0);try{const D=localStorage.getItem("token"),G=await(await fetch("http://localhost:3001/api/sdk/ai/generate-tests",{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify({code:l})})).json();G.success?A(G.tests):alert(G.error||"Failed to generate tests")}catch(D){console.error("Failed to generate tests:",D),alert("Failed to generate tests. Please try again.")}finally{j(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ra,{className:"w-8 h-8 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"AI App Builder"})]}),e.jsx("p",{className:"text-gray-600",children:"Describe your app in natural language, and AI will generate the complete code for you."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe Your App"}),e.jsx("textarea",{value:a,onChange:D=>r(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:6,placeholder:"Example: Create an invoice approval workflow with 3-step authorization. Include email notifications at each step and a dashboard showing pending approvals."}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[s==="free"&&"⚠️ Upgrade to generate apps",s==="starter"&&"✓ Basic generation available",s==="pro"&&"✓ Advanced generation with AI assistance",s==="enterprise"&&"✓ Unlimited generation with priority processing"]}),e.jsx("button",{onClick:T,disabled:m||s==="free",className:`px-6 py-3 rounded-lg font-semibold transition-colors flex items-center space-x-2 ${m||s==="free"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate App"})]})})]})]}),l&&e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-800 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-white font-semibold",children:"Generated Code"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>f(!x),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(Dw,{className:"w-4 h-4"}),e.jsxs("span",{children:[x?"Hide":"Show"," Preview"]})]}),e.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(Yo,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{onClick:L,disabled:y,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsx("span",{children:y?"Analyzing...":"Analyze"})]}),e.jsxs("button",{onClick:$,disabled:k,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center space-x-2",children:[e.jsx(vg,{className:"w-4 h-4"}),e.jsx("span",{children:k?"Generating...":"Tests"})]})]})]}),e.jsx("div",{className:"p-6 bg-gray-900 overflow-x-auto",children:e.jsx("pre",{className:"text-sm text-green-400 font-mono",children:e.jsx("code",{children:l})})})]}),u&&e.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"AI Explanation"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:u})]}),b&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Code Analysis"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quality Score:"}),e.jsxs("span",{className:`text-2xl font-bold ${b.score>=80?"text-green-600":b.score>=60?"text-yellow-600":"text-red-600"}`,children:[b.score,"/100"]})]})]}),b.issues&&b.issues.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-semibold text-red-700 mb-2 flex items-center space-x-2",children:[e.jsx(CN,{className:"w-4 h-4"}),e.jsxs("span",{children:["Issues Found (",b.issues.length,")"]})]}),e.jsx("ul",{className:"space-y-2",children:b.issues.map((D,q)=>e.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[e.jsx("span",{className:"text-red-600 mt-1",children:"•"}),e.jsx("span",{className:"text-gray-700",children:D})]},q))})]}),b.suggestions&&b.suggestions.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center space-x-2",children:[e.jsx(et,{className:"w-4 h-4"}),e.jsxs("span",{children:["Suggestions (",b.suggestions.length,")"]})]}),e.jsx("ul",{className:"space-y-2",children:b.suggestions.map((D,q)=>e.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[e.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),e.jsx("span",{className:"text-gray-700",children:D})]},q))})]})]}),S&&e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"bg-teal-600 px-6 py-4 flex items-center space-x-3",children:[e.jsx(vg,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"text-white font-semibold",children:"Generated Tests"})]}),e.jsx("div",{className:"p-6 bg-gray-900 overflow-x-auto",children:e.jsx("pre",{className:"text-sm text-green-400 font-mono",children:e.jsx("code",{children:S})})})]}),x&&l&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(On,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Preview"})]}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-8 bg-gray-50",children:e.jsx("p",{className:"text-center text-gray-500",children:"Preview functionality coming soon. Your app will render here in real-time."})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(xr,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Assistant"})]}),e.jsx("div",{className:"space-y-4 mb-4 max-h-64 overflow-y-auto",children:chatMessages.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Ask me anything about your app or request modifications!"}):chatMessages.map((D,q)=>e.jsx("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-md px-4 py-2 rounded-lg ${D.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:D.content})},q))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ask AI to modify your app...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:s==="free"}),e.jsx("button",{disabled:s==="free",className:`px-6 py-2 rounded-lg font-semibold transition-colors ${s==="free"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Send"})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Example Prompts"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Create a daily safety inspection checklist with photo upload and signature capture","Build a material tracking system with barcode scanning and inventory alerts","Generate a subcontractor performance dashboard with ratings and analytics","Create an RFI management system with auto-response suggestions"].map((D,q)=>e.jsx("button",{onClick:()=>r(D),className:"text-left p-4 bg-white rounded-lg border-2 border-blue-200 hover:border-blue-400 transition-colors",children:e.jsx("p",{className:"text-sm text-gray-700",children:D})},q))})]}),e.jsx(O6,{subscriptionTier:s})]})},ts={triggers:[{id:"schedule",name:"Schedule",icon:pr,color:"blue",description:"Run on a schedule"},{id:"webhook",name:"Webhook",icon:oa,color:"green",description:"Trigger via HTTP request"},{id:"database",name:"Database Event",icon:wn,color:"purple",description:"On data change"}],actions:[{id:"api-call",name:"API Call",icon:Ft,color:"orange",description:"Make HTTP request"},{id:"database-query",name:"Database Query",icon:wn,color:"purple",description:"Query database"},{id:"send-email",name:"Send Email",icon:yy,color:"red",description:"Send email notification"},{id:"webhook-call",name:"Call Webhook",icon:oa,color:"green",description:"Call external webhook"},{id:"run-code",name:"Run Code",icon:Ft,color:"blue",description:"Execute custom code"}],conditions:[{id:"if-else",name:"If/Else",icon:Go,color:"yellow",description:"Conditional branching"}]},R6=({subscriptionTier:s})=>{var w;const[a,r]=E.useState({id:"new-workflow",name:"New Workflow",nodes:[],status:"draft"}),[l,o]=E.useState(null),[u,d]=E.useState(!0),m=(b,v)=>{const k={id:`node-${Date.now()}`,type:v,category:b.id,name:b.name,config:{}};r(j=>({...j,nodes:[...j.nodes,k]}))},g=b=>{r(v=>({...v,nodes:v.nodes.filter(k=>k.id!==b)})),o(null)},x={blue:"bg-blue-100 border-blue-300 text-blue-800",green:"bg-green-100 border-green-300 text-green-800",purple:"bg-purple-100 border-purple-300 text-purple-800",orange:"bg-orange-100 border-orange-300 text-orange-800",red:"bg-red-100 border-red-300 text-red-800",yellow:"bg-yellow-100 border-yellow-300 text-yellow-800"},f=b=>{var k;return((k=[...ts.triggers,...ts.actions,...ts.conditions].find(j=>j.id===b))==null?void 0:k.color)||"blue"},y=b=>{var k;return((k=[...ts.triggers,...ts.actions,...ts.conditions].find(j=>j.id===b))==null?void 0:k.icon)||Ft};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u&&e.jsxs("div",{className:"w-80 bg-white border-r overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Node Library"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to add nodes"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2 text-blue-600"}),"Triggers"]}),ts.triggers.map(b=>e.jsx("button",{type:"button",onClick:()=>m(b,"trigger"),className:"w-full p-3 mb-2 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 text-left",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b.icon,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:b.name}),e.jsx("p",{className:"text-xs text-gray-600",children:b.description})]})]})},b.id))]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2 text-green-600"}),"Actions"]}),ts.actions.map(b=>e.jsx("button",{type:"button",onClick:()=>m(b,"action"),className:"w-full p-3 mb-2 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 text-left",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b.icon,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:b.name}),e.jsx("p",{className:"text-xs text-gray-600",children:b.description})]})]})},b.id))]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center",children:[e.jsx(Go,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Conditions"]}),ts.conditions.map(b=>e.jsx("button",{type:"button",onClick:()=>m(b,"condition"),className:"w-full p-3 mb-2 bg-yellow-50 border border-yellow-200 rounded-lg hover:bg-yellow-100 text-left",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b.icon,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:b.name}),e.jsx("p",{className:"text-xs text-gray-600",children:b.description})]})]})},b.id))]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("input",{type:"text",value:a.name,onChange:b=>r(v=>({...v,name:b.target.value})),className:"text-xl font-bold border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{type:"button",onClick:()=>d(!u),className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm font-medium",children:[u?"Hide":"Show"," Library"]}),e.jsxs("button",{type:"button",className:"flex items-center space-x-2 px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm font-medium",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{type:"button",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:[e.jsx(Yo,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{type:"button",className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium",children:[e.jsx(On,{className:"w-4 h-4"}),e.jsx("span",{children:"Run"})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:a.nodes.length===0?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ct,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Start Building Your Workflow"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add nodes from the library"}),e.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Open Node Library"})]})}):e.jsx("div",{className:"p-8",children:a.nodes.map((b,v)=>{const k=y(b.category),j=f(b.category);return e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:`p-4 rounded-lg border-2 ${x[j]} ${l===b.id?"ring-4 ring-blue-500 ring-opacity-50":""} cursor-pointer hover:shadow-lg`,onClick:()=>o(b.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(k,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:b.name}),e.jsx("p",{className:"text-xs opacity-75",children:b.type.toUpperCase()})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),o(b.id)},className:"p-1 hover:bg-white hover:bg-opacity-50 rounded",children:e.jsx(Nr,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),g(b.id)},className:"p-1 hover:bg-white hover:bg-opacity-50 rounded",children:e.jsx(ca,{className:"w-4 h-4"})})]})]})}),v<a.nodes.length-1&&e.jsx("div",{className:"flex justify-center my-2",children:e.jsx("div",{className:"w-0.5 h-8 bg-gray-300"})})]},b.id)})})})]}),l&&e.jsxs("div",{className:"w-80 bg-white border-l overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Node Configuration"}),e.jsx("p",{className:"text-sm text-gray-600",children:(w=a.nodes.find(b=>b.id===l))==null?void 0:w.name})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Configuration options will appear here."})})]})]})},$d=[{id:"code-generator",name:"Code Generator",description:"Generates code from natural language",icon:"🔧"},{id:"data-analyzer",name:"Data Analyzer",description:"Analyzes data and provides insights",icon:"📊"},{id:"task-automator",name:"Task Automator",description:"Automates repetitive tasks",icon:"⚡"},{id:"custom",name:"Custom Agent",description:"Build your own agent",icon:"🎨"}],z6=({subscriptionTier:s})=>{var C,ae,fe;const[a,r]=E.useState([]),[l,o]=E.useState([]),[u,d]=E.useState(!0),[m,g]=E.useState(null),[x,f]=E.useState(!1),[y,w]=E.useState(!1),[b,v]=E.useState(null),[k,j]=E.useState("overview"),[S,A]=E.useState({name:"",description:"",type:"code-generator",model:"gpt-4-turbo",temperature:.7,maxTokens:2e3,systemPrompt:"",tools:[]}),[T,L]=E.useState(""),[$,D]=E.useState(!1);E.useEffect(()=>{q(),G()},[]);const q=async()=>{try{const I=await fetch("/api/sdk/agents",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(I.ok){const de=await I.json();r(de)}}catch(I){console.error("Failed to load agents:",I)}finally{d(!1)}},G=async()=>{try{const I=await fetch("/api/sdk/agents/executions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(I.ok){const de=await I.json();o(de)}}catch(I){console.error("Failed to load executions:",I)}},Q=async()=>{try{const I=await fetch("/api/sdk/agents",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(S)});if(I.ok){const de=await I.json();r([...a,de]),f(!1),A({name:"",description:"",type:"code-generator",model:"gpt-4-turbo",temperature:.7,maxTokens:2e3,systemPrompt:"",tools:[]})}}catch(I){console.error("Failed to create agent:",I)}},ie=async(I,de)=>{try{const je=de==="active"?"paused":"active";(await fetch(`/api/sdk/agents/${I}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:je})})).ok&&r(a.map(tt=>tt.id===I?{...tt,status:je}:tt))}catch(je){console.error("Failed to toggle agent status:",je)}},J=async I=>{if(confirm("Are you sure you want to delete this agent?"))try{(await fetch(`/api/sdk/agents/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&(r(a.filter(je=>je.id!==I)),(m==null?void 0:m.id)===I&&g(null))}catch(de){console.error("Failed to delete agent:",de)}},Z=async(I,de)=>{D(!0);try{const je=await fetch(`/api/sdk/agents/${I}/execute`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({input:de})});if(je.ok){const De=await je.json();o([De,...l]),L(""),alert("Agent executed successfully!"),q()}}catch(je){console.error("Failed to run agent:",je),alert("Failed to execute agent")}finally{D(!1)}},le=async I=>{A({name:`${I.name} (Copy)`,description:I.description,type:I.type,model:I.config.model||"gpt-4-turbo",temperature:I.config.temperature||.7,maxTokens:I.config.maxTokens||2e3,systemPrompt:I.config.systemPrompt||"",tools:I.config.tools||[]}),f(!0)},se=I=>{const de=JSON.stringify(I,null,2),je="data:application/json;charset=utf-8,"+encodeURIComponent(de),De=`agent-${I.id}.json`,tt=document.createElement("a");tt.setAttribute("href",je),tt.setAttribute("download",De),tt.click()},oe=l.length,U=l.filter(I=>I.status==="completed").length,ne=l.filter(I=>I.status==="failed").length,ue=l.length>0?l.filter(I=>I.duration).reduce((I,de)=>I+(de.duration||0),0)/l.filter(I=>I.duration).length:0,ge=l.reduce((I,de)=>I+(de.tokensUsed||0),0),O=l.reduce((I,de)=>I+(de.cost||0),0),z=I=>{switch(I){case"active":return"text-green-600 bg-green-100";case"paused":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";case"running":return"text-blue-600 bg-blue-100";case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},M=I=>{switch(I){case"active":return e.jsx(et,{className:"w-4 h-4"});case"paused":return e.jsx(sh,{className:"w-4 h-4"});case"error":return e.jsx(Lo,{className:"w-4 h-4"});case"running":return e.jsx(_t,{className:"w-4 h-4 animate-spin"});case"completed":return e.jsx(et,{className:"w-4 h-4"});case"failed":return e.jsx(Lo,{className:"w-4 h-4"});default:return e.jsx(_h,{className:"w-4 h-4"})}};return u?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-blue-600 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Loading agents..."})]})}):e.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Oo,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"AI Agents"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.length," agents • ",oe," executions"]})]})]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:[e.jsx(ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Agent"})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.jsx("button",{onClick:()=>j("overview"),className:`pb-2 px-1 border-b-2 font-medium ${k==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Overview"}),e.jsx("button",{onClick:()=>j("executions"),className:`pb-2 px-1 border-b-2 font-medium ${k==="executions"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Executions"}),e.jsx("button",{onClick:()=>j("analytics"),className:`pb-2 px-1 border-b-2 font-medium ${k==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Analytics"})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[k==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Total Agents"}),e.jsx(Oo,{className:"w-5 h-5 opacity-75"})]}),e.jsx("div",{className:"text-3xl font-bold",children:a.length}),e.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[a.filter(I=>I.status==="active").length," active"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Executions"}),e.jsx(_t,{className:"w-5 h-5 opacity-75"})]}),e.jsx("div",{className:"text-3xl font-bold",children:oe}),e.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[U," successful"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Success Rate"}),e.jsx(Jl,{className:"w-5 h-5 opacity-75"})]}),e.jsxs("div",{className:"text-3xl font-bold",children:[oe>0?Math.round(U/oe*100):0,"%"]}),e.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[ne," failed"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Avg Time"}),e.jsx(pr,{className:"w-5 h-5 opacity-75"})]}),e.jsxs("div",{className:"text-3xl font-bold",children:[ue.toFixed(1),"s"]}),e.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[ge.toLocaleString()," tokens"]})]})]}),a.length===0?e.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[e.jsx(Oo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No agents yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first AI agent to automate tasks"}),e.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Create Your First Agent"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(I=>{var de;return e.jsxs("div",{className:"bg-white rounded-xl p-6 border hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:(de=$d.find(je=>je.id===I.type))==null?void 0:de.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:I.name}),e.jsx("p",{className:"text-xs text-gray-600",children:I.type})]})]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${z(I.status)}`,children:[M(I.status),e.jsx("span",{children:I.status})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:I.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center",children:[e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:I.totalRuns}),e.jsx("div",{className:"text-xs text-gray-600",children:"Runs"})]}),e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[I.successRate,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Success"})]}),e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[I.avgExecutionTime,"s"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Avg Time"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>{g(I),L("")},className:"p-2 hover:bg-gray-100 rounded",title:"Test Agent",children:e.jsx(On,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:()=>ie(I.id,I.status),className:"p-2 hover:bg-gray-100 rounded",title:I.status==="active"?"Pause":"Activate",children:I.status==="active"?e.jsx(sh,{className:"w-4 h-4 text-gray-600"}):e.jsx(On,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:()=>le(I),className:"p-2 hover:bg-gray-100 rounded",title:"Duplicate",children:e.jsx(fy,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:()=>se(I),className:"p-2 hover:bg-gray-100 rounded",title:"Export",children:e.jsx(Ms,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>{g(I),f(!0)},className:"p-2 hover:bg-gray-100 rounded",title:"Edit",children:e.jsx(jy,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:()=>J(I.id),className:"p-2 hover:bg-red-50 rounded",title:"Delete",children:e.jsx(ca,{className:"w-4 h-4 text-red-600"})})]})]})]},I.id)})})]}),k==="executions"&&e.jsx("div",{className:"bg-white rounded-xl",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Agent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tokens"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:l.slice(0,50).map(I=>{var je,De;const de=a.find(tt=>tt.id===I.agentId);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium",children:(de==null?void 0:de.name)||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:de==null?void 0:de.type})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 w-fit ${z(I.status)}`,children:[M(I.status),e.jsx("span",{children:I.status})]})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:I.duration?`${I.duration.toFixed(2)}s`:"-"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:((je=I.tokensUsed)==null?void 0:je.toLocaleString())||"-"}),e.jsxs("td",{className:"px-6 py-4 text-sm",children:["£",((De=I.cost)==null?void 0:De.toFixed(4))||"0.0000"]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(I.startedAt).toLocaleString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>{v(I),w(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})})]},I.id)})})]}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No executions yet"})]})]})}),k==="analytics"&&e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Execution Trends"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Successful"}),e.jsx("span",{className:"font-medium text-green-600",children:U})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500",style:{width:`${oe>0?U/oe*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Failed"}),e.jsx("span",{className:"font-medium text-red-600",children:ne})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500",style:{width:`${oe>0?ne/oe*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Running"}),e.jsx("span",{className:"font-medium text-blue-600",children:l.filter(I=>I.status==="running").length})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500",style:{width:`${oe>0?l.filter(I=>I.status==="running").length/oe*100:0}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Cost Analysis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Cost"}),e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["£",O.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Tokens Used"}),e.jsx("div",{className:"text-2xl font-bold",children:ge.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Cost per Execution"}),e.jsxs("div",{className:"text-2xl font-bold",children:["£",oe>0?(O/oe).toFixed(4):"0.0000"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 col-span-2",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Top Performing Agents"}),e.jsx("div",{className:"space-y-3",children:a.sort((I,de)=>de.totalRuns-I.totalRuns).slice(0,5).map(I=>{var de;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:(de=$d.find(je=>je.id===I.type))==null?void 0:de.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:I.name}),e.jsxs("div",{className:"text-xs text-gray-600",children:[I.totalRuns," executions"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-green-600",children:[I.successRate,"% success"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[I.avgExecutionTime,"s avg"]})]})]},I.id)})})]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Create New Agent"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Agent Name"}),e.jsx("input",{type:"text",value:S.name,onChange:I=>A({...S,name:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"My Code Generator"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx("textarea",{value:S.description,onChange:I=>A({...S,description:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe what your agent does..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Agent Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:$d.map(I=>e.jsxs("button",{onClick:()=>A({...S,type:I.id}),className:`p-3 border-2 rounded-lg text-left hover:border-blue-500 ${S.type===I.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:I.icon}),e.jsx("div",{className:"font-medium text-sm",children:I.name}),e.jsx("div",{className:"text-xs text-gray-600",children:I.description})]},I.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),e.jsxs("select",{value:S.model,onChange:I=>A({...S,model:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),e.jsx("option",{value:"gpt-4",children:"GPT-4"}),e.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Temperature (",S.temperature,")"]}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:S.temperature,onChange:I=>A({...S,temperature:parseFloat(I.target.value)}),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Tokens"}),e.jsx("input",{type:"number",value:S.maxTokens,onChange:I=>A({...S,maxTokens:parseInt(I.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"System Prompt"}),e.jsx("textarea",{value:S.systemPrompt,onChange:I=>A({...S,systemPrompt:I.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:6,placeholder:"You are a helpful assistant that..."})]})]}),e.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{f(!1),g(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:Q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Agent"})]})]})}),m&&!x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("h2",{className:"text-2xl font-bold",children:["Test Agent: ",m.name]})}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Input"}),e.jsx("textarea",{value:T,onChange:I=>L(I.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:6,placeholder:"Enter your test input..."})]})}),e.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:()=>Z(m.id,T),disabled:$||!T,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[$?e.jsx(_t,{className:"w-4 h-4 animate-spin"}):e.jsx(On,{className:"w-4 h-4"}),e.jsx("span",{children:$?"Running...":"Run Agent"})]})]})]})}),y&&b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Execution Details"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsxs("div",{className:`mt-1 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 w-fit ${z(b.status)}`,children:[M(b.status),e.jsx("span",{children:b.status})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Duration"}),e.jsxs("div",{className:"text-lg font-semibold",children:[(C=b.duration)==null?void 0:C.toFixed(2),"s"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Tokens Used"}),e.jsx("div",{className:"text-lg font-semibold",children:(ae=b.tokensUsed)==null?void 0:ae.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Cost"}),e.jsxs("div",{className:"text-lg font-semibold",children:["£",(fe=b.cost)==null?void 0:fe.toFixed(4)]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Input"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm",children:b.input})]}),b.output&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Output"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm whitespace-pre-wrap",children:b.output})]}),b.error&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2 text-red-600",children:"Error"}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4 font-mono text-sm text-red-600",children:b.error})]})]}),e.jsx("div",{className:"p-6 border-t flex justify-end",children:e.jsx("button",{onClick:()=>{w(!1),v(null)},className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})})]})},L6=({subscriptionTier:s})=>{const[a,r]=E.useState([]),[l,o]=E.useState(!0),[u,d]=E.useState(""),[m,g]=E.useState("all"),[x,f]=E.useState(!1),[y,w]=E.useState("popular");E.useEffect(()=>{b()},[m,x,y]);const b=async()=>{try{const j=localStorage.getItem("token"),S=new URLSearchParams;m!=="all"&&S.append("category",m),x&&S.append("ai_enhanced","true"),u&&S.append("search",u);const T=await(await fetch(`http://localhost:3001/api/sdk/templates?${S}`,{headers:{Authorization:`Bearer ${j}`}})).json();if(T.success){let L=T.data;y==="popular"?L=L.sort(($,D)=>D.install_count-$.install_count):y==="rating"?L=L.sort(($,D)=>D.rating-$.rating):y==="newest"&&(L=L.sort(($,D)=>D.id.localeCompare($.id))),r(L)}}catch(j){console.error("Failed to fetch templates:",j)}finally{o(!1)}},v=[{id:"all",label:"All Templates",count:a.length},{id:"rfi",label:"RFI Management",count:a.filter(j=>j.category==="rfi").length},{id:"invoice",label:"Invoicing",count:a.filter(j=>j.category==="invoice").length},{id:"safety",label:"Safety",count:a.filter(j=>j.category==="safety").length},{id:"reporting",label:"Reporting",count:a.filter(j=>j.category==="reporting").length},{id:"workflow",label:"Workflows",count:a.filter(j=>j.category==="workflow").length}],k=j=>{switch(j){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Template Gallery"}),e.jsxs("p",{className:"text-gray-600",children:["Choose from ",a.length," pre-built construction-specific app templates"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:u,onChange:j=>d(j.target.value),onKeyPress:j=>j.key==="Enter"&&b(),placeholder:"Search templates...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{children:e.jsxs("select",{value:y,onChange:j=>w(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"newest",children:"Newest"})]})}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>f(!x),className:`w-full px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 ${x?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(ra,{className:"w-4 h-4"}),e.jsx("span",{children:"AI-Enhanced Only"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Pl,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Categories"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(j=>e.jsxs("button",{onClick:()=>g(j.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m===j.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[j.label," (",j.count,")"]},j.id))})]}),l?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading templates..."})]}):a.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:e.jsx("p",{className:"text-gray-600",children:"No templates found matching your criteria."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(j=>e.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-xl transition-shadow overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:j.icon}),j.ai_enhanced&&e.jsxs("div",{className:"flex items-center space-x-1 bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-semibold",children:[e.jsx(ra,{className:"w-3 h-3"}),e.jsx("span",{children:"AI"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:j.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:j.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Kl,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:j.rating.toFixed(1)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ms,{className:"w-3 h-3"}),e.jsx("span",{children:j.install_count})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pr,{className:"w-3 h-3"}),e.jsxs("span",{children:[j.estimated_time_minutes,"min"]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${k(j.difficulty_level)}`,children:j.difficulty_level})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[JSON.parse(j.features).slice(0,3).map((S,A)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:S},A)),JSON.parse(j.features).length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",JSON.parse(j.features).length-3," more"]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold",disabled:s==="free",children:"Use Template"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Preview"})]}),s==="free"&&e.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Upgrade to use templates"})]})},j.id))})]})},d0=[{id:"quickbooks",name:"QuickBooks",category:"accounting",description:"Sync invoices, expenses, and financial data",icon:"📊",color:"green",features:["Invoice sync","Expense tracking","Financial reports","Tax calculations"]},{id:"xero",name:"Xero",category:"accounting",description:"Cloud accounting software integration",icon:"💰",color:"blue",features:["Real-time sync","Bank reconciliation","Invoicing","Payroll"]},{id:"slack",name:"Slack",category:"communication",description:"Send notifications and updates to Slack channels",icon:"💬",color:"purple",features:["Channel notifications","Direct messages","File sharing","Bot commands"]},{id:"teams",name:"Microsoft Teams",category:"communication",description:"Integrate with Microsoft Teams workspace",icon:"🎯",color:"blue",features:["Team notifications","Chat integration","Meeting scheduling","File sync"]},{id:"google-drive",name:"Google Drive",category:"storage",description:"Store and sync files with Google Drive",icon:"📁",color:"yellow",features:["File storage","Document sync","Shared folders","Real-time collaboration"]},{id:"dropbox",name:"Dropbox",category:"storage",description:"Cloud file storage and sharing",icon:"📦",color:"blue",features:["File backup","Team folders","Version history","File requests"]},{id:"gmail",name:"Gmail",category:"communication",description:"Send emails and manage communications",icon:"📧",color:"red",features:["Email sending","Template management","Automated replies","Contact sync"]},{id:"mailchimp",name:"Mailchimp",category:"communication",description:"Email marketing and automation",icon:"🐵",color:"yellow",features:["Email campaigns","List management","Analytics","Automation"]},{id:"salesforce",name:"Salesforce",category:"crm",description:"CRM and customer relationship management",icon:"☁️",color:"blue",features:["Contact management","Lead tracking","Opportunity pipeline","Reports"]},{id:"hubspot",name:"HubSpot",category:"crm",description:"Marketing, sales, and service platform",icon:"🎪",color:"orange",features:["CRM","Marketing automation","Sales tools","Customer service"]},{id:"stripe",name:"Stripe",category:"accounting",description:"Payment processing and billing",icon:"💳",color:"purple",features:["Payment processing","Subscription billing","Invoicing","Analytics"]},{id:"zapier",name:"Zapier",category:"other",description:"Connect with 5000+ apps via Zapier",icon:"⚡",color:"orange",features:["Workflow automation","Multi-app integration","Custom triggers","Data transformation"]}],B6=({subscriptionTier:s})=>{const[a,r]=E.useState([]),[l,o]=E.useState([]),[u,d]=E.useState([]),[m,g]=E.useState(!0),[x,f]=E.useState("integrations"),[y,w]=E.useState(null),[b,v]=E.useState(!1),[k,j]=E.useState(!1),[S,A]=E.useState(!1),[T,L]=E.useState("all"),[$,D]=E.useState({name:"",url:"",events:[],secret:""}),[q,G]=E.useState({});E.useEffect(()=>{Q(),ie(),J()},[]);const Q=async()=>{try{const M=await fetch("/api/sdk/integrations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(M.ok){const C=await M.json();r(C)}}catch(M){console.error("Failed to load integrations:",M)}finally{g(!1)}},ie=async()=>{try{const M=await fetch("/api/sdk/webhooks",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(M.ok){const C=await M.json();o(C)}}catch(M){console.error("Failed to load webhooks:",M)}},J=async()=>{try{const M=await fetch("/api/sdk/api-keys",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(M.ok){const C=await M.json();d(C)}}catch(M){console.error("Failed to load API keys:",M)}},Z=async()=>{try{const M=await fetch("/api/sdk/integrations",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({integrationId:y.id,config:q})});if(M.ok){const C=await M.json();r([...a,C]),v(!1),w(null),G({}),alert("Integration connected successfully!")}}catch(M){console.error("Failed to connect integration:",M),alert("Failed to connect integration")}},le=async M=>{if(confirm("Are you sure you want to disconnect this integration?"))try{(await fetch(`/api/sdk/integrations/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&r(a.filter(ae=>ae.id!==M))}catch(C){console.error("Failed to disconnect integration:",C)}},se=async()=>{try{const M=await fetch("/api/sdk/webhooks",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify($)});if(M.ok){const C=await M.json();o([...l,C]),j(!1),D({name:"",url:"",events:[],secret:""})}}catch(M){console.error("Failed to create webhook:",M)}},oe=async M=>{if(confirm("Are you sure you want to delete this webhook?"))try{(await fetch(`/api/sdk/webhooks/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&o(l.filter(ae=>ae.id!==M))}catch(C){console.error("Failed to delete webhook:",C)}},U=async(M,C)=>{try{(await fetch(`/api/sdk/webhooks/${M}/toggle`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({active:!C})})).ok&&o(l.map(fe=>fe.id===M?{...fe,active:!C}:fe))}catch(ae){console.error("Failed to toggle webhook:",ae)}},ne=async()=>{try{const M=await fetch("/api/sdk/api-keys",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(M.ok){const C=await M.json();d([...u,C]),A(!1),alert(`Your API Key: ${C.key}

Please save this key securely. You won't be able to see it again!`)}}catch(M){console.error("Failed to create API key:",M)}},ue=async M=>{if(confirm("Are you sure you want to revoke this API key? This cannot be undone."))try{(await fetch(`/api/sdk/api-keys/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&d(u.filter(ae=>ae.id!==M))}catch(C){console.error("Failed to revoke API key:",C)}},ge=[{id:"all",name:"All",icon:Ct},{id:"accounting",name:"Accounting",icon:Ch},{id:"communication",name:"Communication",icon:xr},{id:"storage",name:"Storage",icon:wn},{id:"crm",name:"CRM",icon:Nn},{id:"other",name:"Other",icon:dw}],O=T==="all"?d0:d0.filter(M=>M.category===T),z=M=>a.some(C=>C.name.toLowerCase()===M&&C.status==="connected");return m?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ct,{className:"w-12 h-12 text-blue-600 mx-auto mb-4 animate-pulse"}),e.jsx("p",{className:"text-gray-600",children:"Loading integrations..."})]})}):e.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ct,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Integrations Hub"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.filter(M=>M.status==="connected").length," connected • ",l.length," webhooks"]})]})]})}),e.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.jsx("button",{onClick:()=>f("integrations"),className:`pb-2 px-1 border-b-2 font-medium ${x==="integrations"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Integrations"}),e.jsx("button",{onClick:()=>f("webhooks"),className:`pb-2 px-1 border-b-2 font-medium ${x==="webhooks"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Webhooks"}),e.jsx("button",{onClick:()=>f("api-keys"),className:`pb-2 px-1 border-b-2 font-medium ${x==="api-keys"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"API Keys"})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[x==="integrations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:ge.map(M=>{const C=M.icon;return e.jsxs("button",{onClick:()=>L(M.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap ${T===M.id?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border"}`,children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:M.name})]},M.id)})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(M=>{const C=z(M.id);return e.jsxs("div",{className:"bg-white rounded-xl p-6 border hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-4xl",children:M.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:M.name}),e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:M.category})]})]}),C&&e.jsxs("div",{className:"px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs font-medium flex items-center space-x-1",children:[e.jsx(th,{className:"w-3 h-3"}),e.jsx("span",{children:"Connected"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:M.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Features:"}),e.jsx("ul",{className:"space-y-1",children:M.features.slice(0,3).map((ae,fe)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-center space-x-1",children:[e.jsx(th,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:ae})]},fe))})]}),e.jsx("div",{className:"flex space-x-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{const ae=a.find(fe=>fe.name.toLowerCase()===M.id);ae&&le(ae.id)},className:"flex-1 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 font-medium text-sm",children:"Disconnect"}),e.jsxs("button",{className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsxs("span",{className:"sr-only",children:["Manage ",M.name," settings"]})]})]}):e.jsx("button",{onClick:()=>{w(M),v(!0)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm",children:"Connect"})})]},M.id)})})]}),x==="webhooks"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Webhooks"}),e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:[e.jsx(ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Webhook"})]})]}),l.length===0?e.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[e.jsx(oa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No webhooks configured"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create webhooks to receive real-time notifications"}),e.jsx("button",{onClick:()=>j(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Create Your First Webhook"})]}):e.jsx("div",{className:"bg-white rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"URL"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Events"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Triggered"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:l.map(M=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium",children:M.name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:M.url}),e.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ew,{className:"w-3 h-3"})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.events.slice(0,2).map(C=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 rounded text-xs",children:C},C)),M.events.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",M.events.length-2]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.active?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:M.active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:M.lastTriggered?new Date(M.lastTriggered).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>U(M.id,M.active),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:M.active?"Disable":"Enable"}),e.jsx("button",{onClick:()=>oe(M.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})})]},M.id))})]})})]}),x==="api-keys"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"API Keys"}),e.jsxs("button",{onClick:()=>A(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:[e.jsx(ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate API Key"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Nd,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"API Key Security"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your API keys are encrypted and stored securely. Never share your API keys publicly. If a key is compromised, revoke it immediately and generate a new one."})]})]})}),u.length===0?e.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[e.jsx(Nd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No API keys generated"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Generate API keys to access the SDK programmatically"}),e.jsx("button",{onClick:()=>A(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Generate Your First API Key"})]}):e.jsx("div",{className:"bg-white rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requests"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:u.map(M=>{var C;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[M.prefix,"*".repeat(32)]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(M.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:M.lastUsed?new Date(M.lastUsed).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:((C=M.requestCount)==null?void 0:C.toLocaleString())||0}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>ue(M.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Revoke"})})]},M.id)})})]})})]})]}),b&&y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Connect ",y.name]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Key / Client ID"}),e.jsx("input",{type:"password",value:q.apiKey||"",onChange:M=>G({...q,apiKey:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key or Client ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Secret (if required)"}),e.jsx("input",{type:"password",value:q.apiSecret||"",onChange:M=>G({...q,apiSecret:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API secret"})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("strong",{children:"Need help?"})," Visit the"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"integration docs"})," ","to learn how to get your API credentials."]})})]}),e.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{v(!1),w(null),G({})},className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:Z,disabled:!q.apiKey,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Connect"})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Create Webhook"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Webhook Name"}),e.jsx("input",{type:"text",value:$.name,onChange:M=>D({...$,name:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Production Webhook"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Webhook URL"}),e.jsx("input",{type:"url",value:$.url,onChange:M=>D({...$,url:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/webhook"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Events"}),e.jsx("div",{className:"space-y-2",children:["agent.created","agent.executed","workflow.completed","integration.connected"].map(M=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:$.events.includes(M),onChange:C=>{C.target.checked?D({...$,events:[...$.events,M]}):D({...$,events:$.events.filter(ae=>ae!==M)})},className:"rounded"}),e.jsx("span",{className:"text-sm",children:M})]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Secret (optional)"}),e.jsx("input",{type:"text",value:$.secret,onChange:M=>D({...$,secret:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"webhook_secret_key"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Used to sign webhook payloads for verification"})]})]}),e.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{j(!1),D({name:"",url:"",events:[],secret:""})},className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:se,disabled:!$.name||!$.url||$.events.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create Webhook"})]})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Generate API Key"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Nd,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Important"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Your API key will only be shown once. Make sure to copy and save it securely. You won't be able to see it again!"})]})]})}),e.jsx("p",{className:"text-sm text-gray-600",children:"This API key will have full access to your SDK resources. Use it to authenticate API requests."})]}),e.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Generate API Key"})]})]})})]})},U6=({sdkDeveloper:s})=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(Nr,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SDK Settings"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Manage API keys, subscription, and preferences - Coming Soon"}),s&&e.jsxs("div",{className:"mt-6 text-left max-w-md mx-auto",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Subscription:"})," ",s.subscription_tier]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"API Usage:"})," ",s.api_requests_used," / ",s.api_requests_limit===-1?"Unlimited":s.api_requests_limit]})]})]}),I6=({onGetStarted:s})=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Build the Future of Construction Tech"}),e.jsx("p",{className:"text-2xl text-gray-600 mb-4",children:"Developer Ecosystem"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Join the first open developer platform for construction management. Create, test, and monetize intelligent modules that transform how the industry works."})]}),e.jsxs("div",{className:"mb-20",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Why Build on CortexBuild?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:e.jsx(vy,{className:"w-12 h-12 text-blue-600"}),title:"Modular Architecture",description:"Build self-contained modules that integrate seamlessly. Our open-source architecture ensures your innovations work perfectly with the platform."},{icon:e.jsx(wg,{className:"w-12 h-12 text-green-600"}),title:"Complete Toolset",description:"Access comprehensive APIs, SDKs, and documentation. Build AI agents, automation tools, custom integrations, and more."},{icon:e.jsx(Ch,{className:"w-12 h-12 text-purple-600"}),title:"Monetization",description:"Publish your modules to our marketplace and earn revenue. Fair revenue sharing model ensures you're rewarded for your innovations."},{icon:e.jsx(Iw,{className:"w-12 h-12 text-orange-600"}),title:"Global Impact",description:"Your modules reach thousands of construction professionals worldwide. Make a real difference in how the industry operates."}].map((a,r)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"mb-4",children:a.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:a.title}),e.jsx("p",{className:"text-gray-600",children:a.description})]},r))})]}),e.jsx("div",{className:"mb-20 bg-white rounded-xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[e.jsxs("div",{className:"p-8 lg:p-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Type-Safe, AI-Powered Development"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Type-safe APIs"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Real-time data"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"AI-powered"})]})]}),e.jsx("button",{onClick:s,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg",children:"Start Building Now"})]}),e.jsx("div",{className:"bg-gray-900 p-8 lg:p-12",children:e.jsx("pre",{className:"text-sm text-green-400 font-mono overflow-x-auto",children:e.jsx("code",{children:`import { CortexBuild } from '@cortexbuild/sdk';

export class SmartScheduler {
  async optimizeSchedule(project: Project) {
    // Access project data
    const tasks = await project.getTasks();

    // Run AI optimization
    const optimized = await this.ai.optimize(tasks);

    // Update schedule
    return project.updateSchedule(optimized);
  }
}`})})})]})}),e.jsxs("div",{className:"mb-20",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Developer Sandbox"}),e.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:"Safe environment to build, test, and debug your modules before deploying to production"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:e.jsx(wg,{className:"w-10 h-10 text-blue-600"}),title:"Build & Test",description:"Create modules with our comprehensive SDK. Test in real-time with sample data and debug tools."},{icon:e.jsx(zo,{className:"w-10 h-10 text-green-600"}),title:"Monitor Performance",description:"Track module performance, API usage, and user engagement with built-in analytics."},{icon:e.jsx(oN,{className:"w-10 h-10 text-purple-600"}),title:"Deploy Instantly",description:"One-click deployment to production. Automatic versioning and rollback support."}].map((a,r)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"flex justify-center mb-4",children:a.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:a.title}),e.jsx("p",{className:"text-gray-600",children:a.description})]},r))})]}),e.jsxs("div",{className:"mb-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-2xl p-12 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Module Marketplace"}),e.jsx("p",{className:"text-center text-blue-100 mb-12 max-w-2xl mx-auto",children:"Publish your modules and reach thousands of construction professionals"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"For Developers"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"Publish unlimited modules"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"70% revenue share"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"Built-in payment processing"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"Marketing & promotion support"})]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"For Users"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"Browse 100+ modules"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"Community ratings & reviews"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"One-click installation"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{children:"Free & premium options"})]})]})]})]})]}),e.jsxs("div",{className:"text-center bg-white rounded-xl shadow-2xl p-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Start Building Today"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join our growing community of developers transforming the construction industry"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx("button",{onClick:s,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg text-lg",children:"Get API Access"}),e.jsx("button",{className:"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-gray-400 transition-all text-lg",children:"View Documentation"}),e.jsx("button",{className:"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-gray-400 transition-all text-lg",children:"Join Community"})]})]})]})}),P6=({user:s})=>{const[a,r]=E.useState("builder"),[l,o]=E.useState(null),[u,d]=E.useState(!0),[m,g]=E.useState(!1);E.useEffect(()=>{x()},[]);const x=async()=>{try{const v=localStorage.getItem("token"),j=await(await fetch("http://localhost:3001/api/sdk/developer/status",{headers:{Authorization:`Bearer ${v}`}})).json();j.success&&o(j.data)}catch(v){console.error("Failed to fetch SDK developer status:",v)}finally{d(!1)}},f=s.role==="super_admin"||(l==null?void 0:l.is_active),w=s.role==="super_admin"?"enterprise":(l==null?void 0:l.subscription_tier)||"free",b=l&&l.api_requests_limit>0?Math.min(l.api_requests_used/l.api_requests_limit*100,100):0;return u?e.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading SDK Environment..."})]})}):!f||w==="free"?e.jsx(I6,{onGetStarted:()=>g(!0)}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Upgrade to SDK Developer"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Contact your administrator or Super Admin to upgrade your account to SDK Developer access."}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Got It"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-lg",children:e.jsx(Ft,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"SDK Developer Environment"}),e.jsx("p",{className:"text-blue-100",children:"Build custom construction apps with AI"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-100",children:"API Usage"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-32 bg-white bg-opacity-20 rounded-full h-2",children:e.jsx("div",{className:"bg-white rounded-full h-2",style:{width:`${b}%`}})}),e.jsxs("span",{className:"text-sm font-semibold",children:[(l==null?void 0:l.api_requests_used)||0," / ",(l==null?void 0:l.api_requests_limit)===-1?"∞":(l==null?void 0:l.api_requests_limit)||0]})]})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg font-semibold ${w==="enterprise"?"bg-gradient-to-r from-yellow-400 to-orange-500":w==="pro"?"bg-gradient-to-r from-purple-500 to-pink-500":w==="starter"?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-gray-500"}`,children:w.toUpperCase()})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"builder",label:"AI App Builder",icon:Ft},{id:"workflows",label:"Workflow Builder",icon:LN},{id:"agents",label:"AI Agents",icon:Oo},{id:"templates",label:"Templates",icon:Mw},{id:"integrations",label:"Integrations",icon:vy},{id:"settings",label:"Settings",icon:Nr}].map(v=>e.jsxs("button",{type:"button",onClick:()=>r(v.id),className:`flex items-center space-x-2 px-4 py-4 border-b-2 transition-colors ${a===v.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(v.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:v.label})]},v.id))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a==="builder"&&e.jsx(M6,{subscriptionTier:w}),a==="workflows"&&e.jsx(R6,{subscriptionTier:w}),a==="agents"&&e.jsx(z6,{subscriptionTier:w}),a==="templates"&&e.jsx(L6,{subscriptionTier:w}),a==="integrations"&&e.jsx(B6,{subscriptionTier:w}),a==="settings"&&e.jsx(U6,{sdkDeveloper:l})]})]})},$6=()=>{const[s,a]=E.useState([]),[r,l]=E.useState(!0),[o,u]=E.useState(""),[d,m]=E.useState("all"),[g,x]=E.useState("all"),[f,y]=E.useState(new Set);E.useEffect(()=>{w()},[]);const w=async()=>{try{const T=localStorage.getItem("token"),$=await(await fetch("http://localhost:3001/api/admin/users",{headers:{Authorization:`Bearer ${T}`}})).json();$.success&&a($.data)}catch(T){console.error("Load users error:",T)}finally{l(!1)}},b=async(T,L)=>{try{const $=localStorage.getItem("token");(await(await fetch(`http://localhost:3001/api/admin/sdk/users/${T}/access`,{method:"PATCH",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({sdk_access:!L})})).json()).success&&w()}catch($){console.error("Toggle SDK access error:",$)}},v=async(T,L)=>{try{const $=localStorage.getItem("token");(await(await fetch(`http://localhost:3001/api/admin/sdk/users/${T}/tier`,{method:"PATCH",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({tier:L})})).json()).success&&w()}catch($){console.error("Update SDK tier error:",$)}},k=async T=>{try{const L=localStorage.getItem("token"),$=Array.from(f).map(D=>fetch(`http://localhost:3001/api/admin/sdk/users/${D}/access`,{method:"PATCH",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({sdk_access:T})}));await Promise.all($),y(new Set),w()}catch(L){console.error("Bulk update error:",L)}},j=s.filter(T=>{const L=T.email.toLowerCase().includes(o.toLowerCase())||T.name.toLowerCase().includes(o.toLowerCase()),$=d==="all"||T.role===d,D=g==="all"||g==="enabled"&&T.sdk_access||g==="disabled"&&!T.sdk_access;return L&&$&&D}),S=T=>{const L=new Set(f);L.has(T)?L.delete(T):L.add(T),y(L)},A=()=>{f.size===j.length?y(new Set):y(new Set(j.map(T=>T.id)))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(ah,{className:"w-8 h-8 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Access Control"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage SDK Developer access and permissions for all users"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:o,onChange:T=>u(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:d,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"company_admin",children:"Company Admin"}),e.jsx("option",{value:"project_manager",children:"Project Manager"}),e.jsx("option",{value:"user",children:"User"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:g,onChange:T=>x(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsx("option",{value:"all",children:"All SDK Access"}),e.jsx("option",{value:"enabled",children:"SDK Enabled"}),e.jsx("option",{value:"disabled",children:"SDK Disabled"})]})]}),f.size>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>k(!0),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:["Enable SDK (",f.size,")"]}),e.jsxs("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:["Disable SDK (",f.size,")"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),e.jsx(Nn,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"SDK Enabled"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(T=>T.sdk_access).length})]}),e.jsx(et,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"SDK Disabled"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.filter(T=>!T.sdk_access).length})]}),e.jsx(Lo,{className:"w-8 h-8 text-red-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selected"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.size})]}),e.jsx(ah,{className:"w-8 h-8 text-purple-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:f.size===j.length&&j.length>0,onChange:A,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SDK Access"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SDK Tier"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"API Usage"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"Loading users..."})}):j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No users found"})}):j.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:f.has(T.id),onChange:()=>S(T.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.name}),e.jsx("p",{className:"text-sm text-gray-500",children:T.email})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T.role==="super_admin"?"bg-purple-100 text-purple-800":T.role==="company_admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:T.role.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.company_name||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("button",{onClick:()=>b(T.id,T.sdk_access),className:`flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium transition-colors ${T.sdk_access?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[T.sdk_access?e.jsx(Fw,{className:"w-3 h-3"}):e.jsx(Gw,{className:"w-3 h-3"}),e.jsx("span",{children:T.sdk_access?"Enabled":"Disabled"})]})}),e.jsx("td",{className:"px-4 py-3",children:T.sdk_access?e.jsxs("select",{value:T.sdk_tier||"free",onChange:L=>v(T.id,L.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"starter",children:"Starter"}),e.jsx("option",{value:"pro",children:"Pro"}),e.jsx("option",{value:"enterprise",children:"Enterprise"})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),e.jsx("td",{className:"px-4 py-3",children:T.sdk_access&&T.api_requests_used!==void 0?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 w-20",children:e.jsx("div",{className:`h-2 rounded-full ${T.api_requests_used/(T.api_requests_limit||1)>.8?"bg-red-600":T.api_requests_used/(T.api_requests_limit||1)>.5?"bg-yellow-600":"bg-green-600"}`,style:{width:`${Math.min(T.api_requests_used/(T.api_requests_limit||1)*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600",children:[T.api_requests_used,"/",T.api_requests_limit===-1?"∞":T.api_requests_limit]})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("button",{onClick:()=>b(T.id,T.sdk_access),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[T.sdk_access?"Revoke":"Grant"," Access"]})})]},T.id))})]})})})]})},q6=()=>{const[s,a]=E.useState(null),[r,l]=E.useState([]),[o,u]=E.useState([]),[d,m]=E.useState(!0),[g,x]=E.useState("7d");E.useEffect(()=>{f();const v=setInterval(f,3e4);return()=>clearInterval(v)},[g]);const f=async()=>{try{const v=localStorage.getItem("token"),j=await(await fetch(`http://localhost:3001/api/admin/sdk/usage?range=${g}`,{headers:{Authorization:`Bearer ${v}`}})).json();j.success&&a(j.data);const A=await(await fetch("http://localhost:3001/api/admin/sdk/usage/by-user",{headers:{Authorization:`Bearer ${v}`}})).json();A.success&&l(A.data);const L=await(await fetch("http://localhost:3001/api/admin/sdk/usage/recent",{headers:{Authorization:`Bearer ${v}`}})).json();L.success&&u(L.data)}catch(v){console.error("Load usage data error:",v)}finally{m(!1)}},y=async()=>{try{const v=localStorage.getItem("token"),j=await(await fetch(`http://localhost:3001/api/admin/sdk/usage/export?range=${g}`,{headers:{Authorization:`Bearer ${v}`}})).blob(),S=window.URL.createObjectURL(j),A=document.createElement("a");A.href=S,A.download=`usage-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(S),document.body.removeChild(A)}catch(v){console.error("Export error:",v)}},w=v=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(v),b=v=>new Intl.NumberFormat("en-GB").format(v);return d||!s?e.jsx("div",{className:"p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading usage data..."})]})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(_t,{className:"w-8 h-8 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Usage Monitoring"})]}),e.jsx("p",{className:"text-gray-600",children:"Real-time SDK usage analytics and cost tracking"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:g,onChange:v=>x(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ct,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Total Requests"})]}),e.jsx("p",{className:"text-3xl font-bold",children:b(s.total_requests)}),e.jsxs("p",{className:"text-sm opacity-80 mt-1",children:[b(s.requests_today)," today"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ch,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Total Cost"})]}),e.jsx("p",{className:"text-3xl font-bold",children:w(s.total_cost)}),e.jsxs("p",{className:"text-sm opacity-80 mt-1",children:[w(s.cost_today)," today"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Nn,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Active Users"})]}),e.jsx("p",{className:"text-3xl font-bold",children:b(s.active_users)}),e.jsxs("p",{className:"text-sm opacity-80 mt-1",children:[((s.success_rate||0)*100).toFixed(1),"% success rate"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ft,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Total Tokens"})]}),e.jsx("p",{className:"text-3xl font-bold",children:b(s.total_tokens)}),e.jsxs("p",{className:"text-sm opacity-80 mt-1",children:[s.avg_response_time.toFixed(0),"ms avg response"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jl,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Forecast"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(s.cost_this_month)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Projected"}),e.jsx("p",{className:"text-lg font-bold text-orange-600",children:w(s.cost_this_month*(30/new Date().getDate()))})]})]})]}),e.jsx("div",{className:"bg-gray-100 rounded-full h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-4 rounded-full transition-all",style:{width:`${Math.min(s.cost_this_month/1e3*100,100)}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[e.jsx("span",{children:w(0)}),e.jsxs("span",{children:[w(1e3)," budget"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nn,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Users by Usage"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requests"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Request"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.slice(0,10).map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.user_name}),e.jsx("p",{className:"text-sm text-gray-500",children:v.user_email})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.company_name}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.tier==="enterprise"?"bg-purple-100 text-purple-800":v.tier==="pro"?"bg-blue-100 text-blue-800":v.tier==="starter"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.tier.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:b(v.total_requests)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:b(v.total_tokens)}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:w(v.total_cost)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(v.last_request).toLocaleString("en-GB")})]},v.user_id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xr,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent API Requests"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:o.slice(0,20).map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.user_email}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:v.request_type})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:b(v.tokens_used)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w(v.cost)}),e.jsx("td",{className:"px-6 py-4",children:v.success?e.jsxs("span",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{className:"text-xs font-medium",children:"Success"})]}):e.jsxs("span",{className:"flex items-center space-x-1 text-red-600",children:[e.jsx(_h,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Failed"})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(v.timestamp).toLocaleString("en-GB")})]},v.id))})]})})]})]})},H6=()=>{const[s,a]=E.useState(null),[r,l]=E.useState([]),[o,u]=E.useState([]),[d,m]=E.useState(!0),[g,x]=E.useState("overview");E.useEffect(()=>{f()},[]);const f=async()=>{try{const j=localStorage.getItem("token"),A=await(await fetch("http://localhost:3001/api/admin/sdk/database-stats",{headers:{Authorization:`Bearer ${j}`}})).json();A.success&&a(A.data);const L=await(await fetch("http://localhost:3001/api/admin/sdk/company-quotas",{headers:{Authorization:`Bearer ${j}`}})).json();L.success&&l(L.data);const D=await(await fetch("http://localhost:3001/api/admin/sdk/user-quotas",{headers:{Authorization:`Bearer ${j}`}})).json();D.success&&u(D.data)}catch(j){console.error("Load database data error:",j)}finally{m(!1)}},y=async()=>{try{const j=localStorage.getItem("token"),A=await(await fetch("http://localhost:3001/api/admin/sdk/database-backup",{method:"POST",headers:{Authorization:`Bearer ${j}`}})).blob(),T=window.URL.createObjectURL(A),L=document.createElement("a");L.href=T,L.download=`cortexbuild-backup-${new Date().toISOString().split("T")[0]}.db`,document.body.appendChild(L),L.click(),window.URL.revokeObjectURL(T),document.body.removeChild(L)}catch(j){console.error("Backup error:",j)}},w=j=>j<1?`${(j*1024).toFixed(2)} KB`:j<1024?`${j.toFixed(2)} MB`:`${(j/1024).toFixed(2)} GB`,b=j=>new Intl.NumberFormat("en-GB").format(j),v=(j,S)=>{const A=j/S*100;return A>=90?"text-red-600":A>=75?"text-orange-600":A>=50?"text-yellow-600":"text-green-600"},k=(j,S)=>{const A=j/S*100;return A>=90?"bg-red-600":A>=75?"bg-orange-600":A>=50?"bg-yellow-600":"bg-green-600"};return d||!s?e.jsx("div",{className:"p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(wn,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading database information..."})]})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(wn,{className:"w-8 h-8 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Database Capability Manager"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage storage quotas, limits, and database health"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(lN,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:"Backup Database"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(gy,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Total Size"})]}),e.jsx("p",{className:"text-3xl font-bold",children:w(s.total_size_mb)}),e.jsxs("p",{className:"text-sm opacity-80 mt-1",children:[s.table_count," tables"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(wn,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Total Records"})]}),e.jsx("p",{className:"text-3xl font-bold",children:b(s.total_records)}),e.jsx("p",{className:"text-sm opacity-80 mt-1",children:"Across all tables"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ia,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Companies"})]}),e.jsx("p",{className:"text-3xl font-bold",children:r.length}),e.jsx("p",{className:"text-sm opacity-80 mt-1",children:"Active companies"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Nn,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-sm opacity-80",children:"Users"})]}),e.jsx("p",{className:"text-3xl font-bold",children:o.length}),e.jsx("p",{className:"text-sm opacity-80 mt-1",children:"Total users"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>x("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jl,{className:"w-4 h-4"}),e.jsx("span",{children:"Overview"})]})}),e.jsx("button",{onClick:()=>x("companies"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g==="companies"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ia,{className:"w-4 h-4"}),e.jsx("span",{children:"Company Quotas"})]})}),e.jsx("button",{onClick:()=>x("users"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g==="users"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nn,{className:"w-4 h-4"}),e.jsx("span",{children:"User Quotas"})]})})]})}),e.jsxs("div",{className:"p-6",children:[g==="overview"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Largest Tables"}),e.jsx("div",{className:"space-y-3",children:s.largest_tables.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:j.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[b(j.row_count)," records"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-gray-900",children:w(j.size_mb)})})]},j.name))})]}),g==="companies"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Company"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Storage"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Records"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Users"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("p",{className:"font-medium text-gray-900",children:j.company_name})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("span",{className:v(j.storage_used_mb,j.storage_limit_mb),children:[w(j.storage_used_mb)," / ",w(j.storage_limit_mb)]})}),e.jsx("div",{className:"bg-gray-200 rounded-full h-2 w-32",children:e.jsx("div",{className:`h-2 rounded-full ${k(j.storage_used_mb,j.storage_limit_mb)}`,style:{width:`${Math.min(j.storage_used_mb/j.storage_limit_mb*100,100)}%`}})})]})}),e.jsxs("td",{className:"px-4 py-4 text-sm text-gray-900",children:[b(j.record_count)," / ",b(j.record_limit)]}),e.jsxs("td",{className:"px-4 py-4 text-sm text-gray-900",children:[j.user_count," / ",j.user_limit]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit Limits"})})]},j.company_id))})]})}),g==="users"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Company"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Storage"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"API Requests"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:j.user_name}),e.jsx("p",{className:"text-sm text-gray-500",children:j.user_email})]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:j.company_name}),e.jsxs("td",{className:"px-4 py-4 text-sm text-gray-900",children:[w(j.storage_used_mb)," / ",w(j.storage_limit_mb)]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"bg-gray-200 rounded-full h-2 w-24",children:e.jsx("div",{className:`h-2 rounded-full ${k(j.api_requests_used,j.api_requests_limit)}`,style:{width:`${Math.min(j.api_requests_used/j.api_requests_limit*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600",children:[j.api_requests_used,"/",j.api_requests_limit===-1?"∞":j.api_requests_limit]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit Limits"})})]},j.user_id))})]})})]})]})]})},F6=()=>{const[s,a]=E.useState({id:"new-workflow",name:"New Workflow",description:"Describe your workflow here",nodes:[],connections:[],isActive:!1,runCount:0}),[r,l]=E.useState(null),[o,u]=E.useState(null),[d,m]=E.useState(null),[g,x]=E.useState(!0),[f,y]=E.useState(1),[w,b]=E.useState({x:0,y:0}),v=E.useRef(null),k=E.useRef(null),j=[{type:"trigger",title:"Time Trigger",description:"Run on schedule",icon:pr,config:{schedule:"daily",time:"09:00"}},{type:"trigger",title:"Webhook Trigger",description:"Run on HTTP request",icon:oa,config:{method:"POST",path:"/webhook"}},{type:"trigger",title:"Database Trigger",description:"Run on data change",icon:wn,config:{table:"",event:"insert"}},{type:"action",title:"Send Email",description:"Send notification email",icon:yy,config:{to:"",subject:"",template:""}},{type:"action",title:"API Call",description:"Make HTTP request",icon:Ct,config:{url:"",method:"GET",headers:{}}},{type:"action",title:"Database Action",description:"Create/update records",icon:wn,config:{table:"",action:"insert",data:{}}},{type:"condition",title:"If/Then",description:"Conditional logic",icon:Go,config:{condition:"",trueAction:"",falseAction:""}},{type:"delay",title:"Wait",description:"Add delay",icon:pr,config:{duration:5,unit:"minutes"}}],S=E.useCallback((G,Q)=>{const ie={...G,id:`node-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,position:Q,connections:[]};a(J=>({...J,nodes:[...J.nodes,ie]}))},[]),A=E.useCallback(G=>{a(Q=>({...Q,nodes:Q.nodes.filter(ie=>ie.id!==G),connections:Q.connections.filter(ie=>ie.from!==G&&ie.to!==G)})),l(null)},[]);E.useCallback((G,Q)=>{a(ie=>({...ie,nodes:ie.nodes.map(J=>J.id===G?{...J,position:Q}:J)}))},[]),E.useCallback((G,Q)=>{if(G===Q)return;if(!s.connections.some(J=>J.from===G&&J.to===Q)){const J={id:`conn-${Date.now()}`,from:G,to:Q};a(Z=>({...Z,connections:[...Z.connections,J]}))}m(null)},[s.connections]);const T=async()=>{try{const G=localStorage.getItem("token");(await fetch("http://localhost:3001/api/workflows",{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&console.log("Workflow saved successfully")}catch(G){console.error("Save workflow error:",G)}},L=async()=>{try{const G=localStorage.getItem("token");(await fetch(`http://localhost:3001/api/workflows/${s.id}/run`,{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}})).ok&&(a(ie=>({...ie,runCount:ie.runCount+1,lastRun:new Date().toISOString()})),console.log("Workflow executed successfully"))}catch(G){console.error("Run workflow error:",G)}},$=E.useCallback(G=>{if(G.preventDefault(),!o||!v.current)return;const Q=v.current.getBoundingClientRect(),ie={x:(G.clientX-Q.left-w.x)/f,y:(G.clientY-Q.top-w.y)/f};S(o,ie),u(null)},[o,S,w,f]),D=E.useCallback(G=>{G.preventDefault()},[]),q=()=>s.connections.map(G=>{const Q=s.nodes.find(oe=>oe.id===G.from),ie=s.nodes.find(oe=>oe.id===G.to);if(!Q||!ie)return null;const J=Q.position.x+100,Z=Q.position.y+40,le=ie.position.x,se=ie.position.y+40;return e.jsx("line",{x1:J,y1:Z,x2:le,y2:se,stroke:"#3B82F6",strokeWidth:"2",markerEnd:"url(#arrowhead)"},G.id)});return e.jsxs("div",{className:"h-full flex bg-gray-50",children:[g&&e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 p-4 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Node Library"}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close node library",children:"×"})]}),e.jsx("div",{className:"space-y-2",children:j.map((G,Q)=>e.jsx("div",{draggable:!0,onDragStart:()=>u(G),className:"p-3 border border-gray-200 rounded-lg cursor-move hover:border-blue-300 hover:bg-blue-50 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G.icon,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:G.title}),e.jsx("p",{className:"text-sm text-gray-500",children:G.description})]})]})},Q))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",value:s.name,onChange:G=>a(Q=>({...Q,name:G.target.value})),className:"text-xl font-semibold bg-transparent border-none focus:outline-none focus:ring-0",placeholder:"Workflow name","aria-label":"Workflow name"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!g&&e.jsxs("button",{type:"button",onClick:()=>x(!0),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900","aria-label":"Show node library",children:[e.jsx(ss,{className:"w-4 h-4"}),e.jsx("span",{children:"Nodes"})]}),e.jsxs("button",{type:"button",onClick:T,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Save workflow",children:[e.jsx(Yo,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{type:"button",onClick:L,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700","aria-label":"Run workflow",children:[e.jsx(On,{className:"w-4 h-4"}),e.jsx("span",{children:"Run"})]}),e.jsx("button",{type:"button",className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900","aria-label":"Workflow settings",title:"Workflow settings",children:e.jsx(Nr,{className:"w-4 h-4"})})]})]}),s.lastRun&&e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Last run: ",new Date(s.lastRun).toLocaleString()," • ",s.runCount," total runs"]})]}),e.jsxs("div",{ref:v,className:"flex-1 relative overflow-hidden bg-gray-50",onDrop:$,onDragOver:D,style:{backgroundImage:"radial-gradient(circle, #e5e7eb 1px, transparent 1px)",backgroundSize:`${20*f}px ${20*f}px`,backgroundPosition:`${w.x}px ${w.y}px`},children:[e.jsxs("svg",{ref:k,className:"absolute inset-0 w-full h-full pointer-events-none",children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3B82F6"})})}),e.jsx("g",{transform:`translate(${w.x} ${w.y}) scale(${f})`,children:q()})]}),e.jsx("div",{className:"absolute inset-0",style:{transform:`translate(${w.x}px, ${w.y}px) scale(${f})`},children:s.nodes.map(G=>e.jsx("div",{className:`absolute w-48 bg-white border-2 rounded-lg shadow-sm cursor-move ${r===G.id?"border-blue-500":"border-gray-200"} hover:border-blue-300 transition-colors`,style:{left:G.position.x,top:G.position.y,transform:"translate(0, 0)"},onClick:()=>l(G.id),children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G.icon,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:G.title})]}),e.jsx("button",{type:"button",onClick:Q=>{Q.stopPropagation(),A(G.id)},className:"text-gray-400 hover:text-red-600","aria-label":"Delete node",title:"Delete node",children:e.jsx(ca,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:G.description}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full cursor-pointer hover:bg-blue-500"}),e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full cursor-pointer hover:bg-blue-500",onClick:Q=>{Q.stopPropagation(),m(d===G.id?null:G.id)}})]})]})},G.id))}),s.nodes.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ct,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Workflow"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Drag nodes from the library to create your automation"}),!g&&e.jsx("button",{type:"button",onClick:()=>x(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Open node library",children:"Open Node Library"})]})})]})]})]})},V6=()=>{var x,f,y,w,b;const[s,a]=E.useState(null),[r,l]=E.useState(!0),[o,u]=E.useState("overview"),[d,m]=E.useState(null);E.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("token"),S=await(await fetch("http://localhost:3001/api/auth/me",{headers:{Authorization:`Bearer ${k}`}})).json();S.success&&m(S.user)}catch(k){console.error("Failed to fetch current user:",k)}})()},[]),E.useEffect(()=>{g()},[]);const g=async()=>{try{const v=localStorage.getItem("token"),j=await(await fetch("http://localhost:3001/api/admin/dashboard",{headers:{Authorization:`Bearer ${v}`}})).json();j.success&&a(j.data)}catch(v){console.error("Failed to fetch dashboard stats:",v)}finally{l(!1)}};return r?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-xl",children:"Loading Super Admin Dashboard..."})}):e.jsxs("div",{className:"p-8 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Super Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Complete platform control and management"})]}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Jl},{id:"users",label:"User Management",icon:Nn},{id:"companies",label:"Company Management",icon:ia},{id:"marketplace",label:"Marketplace",icon:gr},{id:"sdk-env",label:"SDK Developer",icon:Sw},{id:"access-control",label:"Access Control",icon:ah},{id:"usage-monitoring",label:"Usage Monitoring",icon:_t},{id:"database-manager",label:"Database Manager",icon:gy},{id:"workflow-builder",label:"Workflow Builder",icon:Go},{id:"developer",label:"Developer Platform",icon:Ft},{id:"dashboards",label:"Dashboard Builder",icon:nh},{id:"sdk",label:"Module SDK",icon:Ft},{id:"automation",label:"Smart Tools",icon:Ct},{id:"webhooks",label:"Webhooks",icon:oa},{id:"reviews",label:"Reviews",icon:Kl},{id:"analytics",label:"Analytics",icon:zo},{id:"logs",label:"Activity Logs",icon:py},{id:"system",label:"System Monitoring",icon:wn}].map(v=>e.jsxs("button",{onClick:()=>u(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${o===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(v.icon,{className:"w-5 h-5"}),e.jsx("span",{children:v.label})]},v.id))})}),o==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(So,{title:"Total Users",value:((x=s==null?void 0:s.totalUsers)==null?void 0:x.count)||0,icon:Nn,color:"blue",subtitle:`${((f=s==null?void 0:s.activeUsers)==null?void 0:f.count)||0} active`}),e.jsx(So,{title:"Total Companies",value:((y=s==null?void 0:s.totalCompanies)==null?void 0:y.count)||0,icon:ia,color:"green"}),e.jsx(So,{title:"Total Projects",value:((w=s==null?void 0:s.totalProjects)==null?void 0:w.count)||0,icon:_t,color:"purple"}),e.jsx(So,{title:"Total Clients",value:((b=s==null?void 0:s.totalClients)==null?void 0:b.count)||0,icon:wn,color:"orange"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:s!=null&&s.recentActivity&&s.recentActivity.length>0?s.recentActivity.map((v,k)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_t,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:v.description||"Activity"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:v.created_at})]},k)):e.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"})})]})]}),o==="users"&&e.jsx(g6,{}),o==="companies"&&e.jsx(y6,{}),o==="marketplace"&&e.jsx(wy,{}),o==="sdk-env"&&d&&e.jsx(P6,{user:d}),o==="access-control"&&e.jsx($6,{}),o==="usage-monitoring"&&e.jsx(q6,{}),o==="database-manager"&&e.jsx(H6,{}),o==="workflow-builder"&&e.jsx(F6,{}),o==="developer"&&e.jsx(N6,{}),o==="dashboards"&&e.jsx(S6,{}),o==="sdk"&&e.jsx(k6,{}),o==="automation"&&e.jsx(_6,{}),o==="webhooks"&&e.jsx(A6,{}),o==="reviews"&&e.jsx(T6,{}),o==="analytics"&&e.jsx(w6,{}),o==="logs"&&e.jsx(j6,{}),o==="system"&&e.jsx(v6,{})]})},So=({title:s,value:a,icon:r,color:l,subtitle:o})=>{const u={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600"};return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a}),o&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o})]}),e.jsx("div",{className:`p-3 rounded-lg ${u[l]}`,children:e.jsx(r,{className:"w-6 h-6"})})]})})},G6=({onLoginSuccess:s})=>{const[a,r]=E.useState("adrian.stanca1@gmail.com"),[l,o]=E.useState("password123"),[u,d]=E.useState(!1),[m,g]=E.useState(""),x=async f=>{f.preventDefault(),g(""),d(!0);try{console.log("🔐 Attempting login...");const y=await T2(a,l);console.log("✅ Login successful:",y),s(y)}catch(y){console.error("❌ Login error:",y),g(y.message||"Login failed")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ConstructAI"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:a,onChange:f=>r(f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:l,onChange:f=>o(f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Signing in...":"Sign In"})]})]})})},Y6=()=>{const[s,a]=E.useState(null),[r,l]=E.useState(!0);E.useEffect(()=>{(async()=>{try{console.log("🔍 Checking for existing session...");const m=await O2();m?(console.log("✅ Session found:",m.name),a(m)):console.log("ℹ️ No active session")}catch(m){console.error("Session check error:",m)}finally{l(!1)}})()},[]);const o=d=>{console.log("✅ Login successful, setting user:",d.name),a(d)},u=async()=>{try{console.log("👋 Logging out..."),await D2(),a(null),console.log("✅ Logout successful")}catch(d){console.error("Logout error:",d)}};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Loading..."})]})}):s?(console.log("✅ Rendering dashboard for:",s.name,"Role:",s.role),s.role==="super_admin"?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CortexBuild - Super Admin"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",s.name]})]}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Logout"})]})})}),e.jsx(V6,{})]}):e.jsx(f6,{user:s,onLogout:u})):(console.log("🔐 No user, rendering login"),e.jsx(G6,{onLoginSuccess:o}))};class K6 extends E.Component{constructor(){super(...arguments);Vx(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,l){console.error("Uncaught error:",r,l)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),this.state.error&&e.jsxs("details",{className:"mb-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-800",children:"Error details"}),e.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-xs overflow-auto",children:this.state.error.toString()})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}const ab=document.getElementById("root");if(!ab)throw new Error("Could not find root element to mount to");const J6=e1.createRoot(ab);J6.render(e.jsx($0.StrictMode,{children:e.jsx(K6,{children:e.jsx(Y6,{})})}));const Q6="modulepreload",X6=function(s){return"/"+s},h0={},yr=function(a,r,l){let o=Promise.resolve();if(r&&r.length>0){let d=function(x){return Promise.all(x.map(f=>Promise.resolve(f).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(r.map(x=>{if(x=X6(x),x in h0)return;h0[x]=!0;const f=x.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=f?"stylesheet":Q6,f||(w.as="script"),w.crossOrigin="",w.href=x,g&&w.setAttribute("nonce",g),document.head.appendChild(w),f)return new Promise((b,v)=>{w.addEventListener("load",b),w.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return a().catch(u)})},Z6=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...r)=>yr(async()=>{const{default:l}=await Promise.resolve().then(()=>_r);return{default:l}},void 0).then(({default:l})=>l(...r)):a=fetch,(...r)=>a(...r)};class Hh extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class W6 extends Hh{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class e3 extends Hh{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class t3 extends Hh{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var ph;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(ph||(ph={}));var n3=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};class s3{constructor(a,{headers:r={},customFetch:l,region:o=ph.Any}={}){this.url=a,this.headers=r,this.region=o,this.fetch=Z6(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a,r={}){var l;return n3(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:d}=r;let m={},{region:g}=r;g||(g=this.region),g&&g!=="any"&&(m["x-region"]=g);let x;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(m["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(m["Content-Type"]="application/json",x=JSON.stringify(d)));const f=yield this.fetch(`${this.url}/${a}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:x}).catch(v=>{throw new W6(v)}),y=f.headers.get("x-relay-error");if(y&&y==="true")throw new e3(f);if(!f.ok)throw new t3(f);let w=((l=f.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield f.json():w==="application/octet-stream"?b=yield f.blob():w==="text/event-stream"?b=f:w==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null}}catch(o){return{data:null,error:o}}})}}var Nt={},nr={},sr={},ar={},rr={},lr={},a3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},br=a3();const r3=br.fetch,rb=br.fetch.bind(br),lb=br.Headers,l3=br.Request,i3=br.Response,_r=Object.freeze(Object.defineProperty({__proto__:null,Headers:lb,Request:l3,Response:i3,default:rb,fetch:r3},Symbol.toStringTag,{value:"Module"})),o3=Hj(_r);var ko={},m0;function c3(){if(m0)return ko;m0=1,Object.defineProperty(ko,"__esModule",{value:!0});let s=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}};return ko.default=s,ko}var f0;function ib(){if(f0)return lr;f0=1;var s=lr&&lr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(lr,"__esModule",{value:!0});const a=s(o3),r=s(c3());class l{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var f,y,w;let b=null,v=null,k=null,j=x.status,S=x.statusText;if(x.ok){if(this.method!=="HEAD"){const $=await x.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=$:v=JSON.parse($))}const T=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),L=(y=x.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&L&&L.length>1&&(k=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(b={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,k=null,j=406,S="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const T=await x.text();try{b=JSON.parse(T),Array.isArray(b)&&x.status===404&&(v=[],b=null,j=200,S="OK")}catch{x.status===404&&T===""?(j=204,S="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((w=b==null?void 0:b.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,j=200,S="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:v,count:k,status:j,statusText:S}});return this.shouldThrowOnError||(g=g.catch(x=>{var f,y,w;return{error:{message:`${(f=x==null?void 0:x.name)!==null&&f!==void 0?f:"FetchError"}: ${x==null?void 0:x.message}`,details:`${(y=x==null?void 0:x.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=x==null?void 0:x.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,d)}}return lr.default=l,lr}var p0;function ob(){if(p0)return rr;p0=1;var s=rr&&rr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(rr,"__esModule",{value:!0});const a=s(ib());class r extends a.default{select(o){let u=!1;const d=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:g=m}={}){const x=g?`${g}.order`:"order",f=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${f?`${f},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:m=d}={}){const g=typeof m>"u"?"offset":`${m}.offset`,x=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(x,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:g=!1,format:x="text"}={}){var f;const y=[o?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${w}"; options=${y};`,x==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return rr.default=r,rr}var x0;function Fh(){if(x0)return ar;x0=1;var s=ar&&ar.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ar,"__esModule",{value:!0});const a=s(ob());class r extends a.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const x=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${g}fts${x}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return ar.default=r,ar}var g0;function cb(){if(g0)return sr;g0=1;var s=sr&&sr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(sr,"__esModule",{value:!0});const a=s(Fh());class r{constructor(o,{headers:u={},schema:d,fetch:m}){this.url=o,this.headers=u,this.schema=d,this.fetch=m}select(o,{head:u=!1,count:d}={}){const m=u?"HEAD":"GET";let g=!1;const x=(o??"*").split("").map(f=>/\s/.test(f)&&!g?"":(f==='"'&&(g=!g),f)).join("");return this.url.searchParams.set("select",x),d&&(this.headers.Prefer=`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:d=!0}={}){const m="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(o)){const x=o.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(x.length>0){const f=[...new Set(x)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:g=!0}={}){const x="POST",f=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&f.push(this.headers.Prefer),m&&f.push(`count=${m}`),g||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const y=o.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(y.length>0){const w=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new a.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const d="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new a.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",d=[];return o&&d.push(`count=${o}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new a.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return sr.default=r,sr}var Al={},El={},y0;function u3(){return y0||(y0=1,Object.defineProperty(El,"__esModule",{value:!0}),El.version=void 0,El.version="0.0.0-automated"),El}var b0;function d3(){if(b0)return Al;b0=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.DEFAULT_HEADERS=void 0;const s=u3();return Al.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Al}var v0;function h3(){if(v0)return nr;v0=1;var s=nr&&nr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(nr,"__esModule",{value:!0});const a=s(cb()),r=s(Fh()),l=d3();class o{constructor(d,{headers:m={},schema:g,fetch:x}={}){this.url=d,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),m),this.schemaName=g,this.fetch=x}from(d){const m=new URL(`${this.url}/${d}`);return new a.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,m={},{head:g=!1,get:x=!1,count:f}={}){let y;const w=new URL(`${this.url}/rpc/${d}`);let b;g||x?(y=g?"HEAD":"GET",Object.entries(m).filter(([k,j])=>j!==void 0).map(([k,j])=>[k,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([k,j])=>{w.searchParams.append(k,j)})):(y="POST",b=m);const v=Object.assign({},this.headers);return f&&(v.Prefer=`count=${f}`),new r.default({method:y,url:w,headers:v,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return nr.default=o,nr}var j0;function m3(){if(j0)return Nt;j0=1;var s=Nt&&Nt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const a=s(h3());Nt.PostgrestClient=a.default;const r=s(cb());Nt.PostgrestQueryBuilder=r.default;const l=s(Fh());Nt.PostgrestFilterBuilder=l.default;const o=s(ob());Nt.PostgrestTransformBuilder=o.default;const u=s(ib());return Nt.PostgrestBuilder=u.default,Nt.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default},Nt}var f3=m3();const p3=Hl(f3),{PostgrestClient:x3,PostgrestQueryBuilder:vC,PostgrestFilterBuilder:jC,PostgrestTransformBuilder:wC,PostgrestBuilder:NC}=p3,g3="2.10.2",y3={"X-Client-Info":`realtime-js/${g3}`},b3="1.0.0",ub=1e4,v3=1e3;var mr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(mr||(mr={}));var tn;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(tn||(tn={}));var jn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(jn||(jn={}));var xh;(function(s){s.websocket="websocket"})(xh||(xh={}));var na;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(na||(na={}));class j3{constructor(){this.HEADER_LENGTH=1}decode(a,r){return a.constructor===ArrayBuffer?r(this._binaryDecode(a)):r(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const r=new DataView(a),l=new TextDecoder;return this._decodeBroadcast(a,r,l)}_decodeBroadcast(a,r,l){const o=r.getUint8(1),u=r.getUint8(2);let d=this.HEADER_LENGTH+2;const m=l.decode(a.slice(d,d+o));d=d+o;const g=l.decode(a.slice(d,d+u));d=d+u;const x=JSON.parse(l.decode(a.slice(d,a.byteLength)));return{ref:null,topic:m,event:g,payload:x}}}class db{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ke||(Ke={}));const w0=(s,a,r={})=>{var l;const o=(l=r.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(a).reduce((u,d)=>(u[d]=w3(d,s,a,o),u),{})},w3=(s,a,r,l)=>{const o=a.find(m=>m.name===s),u=o==null?void 0:o.type,d=r[s];return u&&!l.includes(u)?hb(u,d):gh(d)},hb=(s,a)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return _3(a,r)}switch(s){case Ke.bool:return N3(a);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return S3(a);case Ke.json:case Ke.jsonb:return k3(a);case Ke.timestamp:return C3(a);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return gh(a);default:return gh(a)}},gh=s=>s,N3=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},S3=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},k3=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(a){return console.log(`JSON parse error: ${a}`),s}return s},_3=(s,a)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let u;const d=s.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>hb(a,m))}return s},C3=s=>typeof s=="string"?s.replace(" ","T"):s,mb=s=>{let a=s;return a=a.replace(/^ws/i,"http"),a=a.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),a.replace(/\/+$/,"")};class qd{constructor(a,r,l={},o=ub){this.channel=a,this.event=r,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var N0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(N0||(N0={}));class Ll{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ll.syncState(this.state,o,u,d),this.pendingDiffs.forEach(g=>{this.state=Ll.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ll.syncDiff(this.state,o,u,d),m())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,o){const u=this.cloneDeep(a),d=this.transformState(r),m={},g={};return this.map(u,(x,f)=>{d[x]||(g[x]=f)}),this.map(d,(x,f)=>{const y=u[x];if(y){const w=f.map(j=>j.presence_ref),b=y.map(j=>j.presence_ref),v=f.filter(j=>b.indexOf(j.presence_ref)<0),k=y.filter(j=>w.indexOf(j.presence_ref)<0);v.length>0&&(m[x]=v),k.length>0&&(g[x]=k)}else m[x]=f}),this.syncDiff(u,{joins:m,leaves:g},l,o)}static syncDiff(a,r,l,o){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(m,g)=>{var x;const f=(x=a[m])!==null&&x!==void 0?x:[];if(a[m]=this.cloneDeep(g),f.length>0){const y=a[m].map(b=>b.presence_ref),w=f.filter(b=>y.indexOf(b.presence_ref)<0);a[m].unshift(...w)}l(m,f,g)}),this.map(d,(m,g)=>{let x=a[m];if(!x)return;const f=g.map(y=>y.presence_ref);x=x.filter(y=>f.indexOf(y.presence_ref)<0),a[m]=x,o(m,x,g),x.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const o=a[l];return"metas"in o?r[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[l]=o,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(S0||(S0={}));var k0;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(k0||(k0={}));var _0;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(_0||(_0={}));class Vh{constructor(a,r={config:{}},l){this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qd(this,jn.join,this.params,this.timeout),this.rejoinTimer=new db(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Ll(this),this.broadcastEndpointURL=mb(this.socket.endPoint)+"/api/broadcast"}subscribe(a,r=this.timeout){var l,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:d,private:m}}=this.params;this._onError(f=>a&&a("CHANNEL_ERROR",f)),this._onClose(()=>a&&a("CLOSED"));const g={},x={broadcast:u,presence:d,postgres_changes:(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(f=>f.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessToken&&(g.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:f})=>{var y;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),f===void 0){a&&a("SUBSCRIBED");return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let k=0;k<b;k++){const j=w[k],{filter:{event:S,schema:A,table:T,filter:L}}=j,$=f&&f[k];if($&&$.event===S&&$.schema===A&&$.table===T&&$.filter===L)v.push(Object.assign(Object.assign({},j),{id:$.id}));else{this.unsubscribe(),a&&a("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,a&&a("SUBSCRIBED");return}}).receive("error",f=>{a&&a("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{a&&a("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this._on(a,r,l)}async send(a,r={}){var l,o;if(!this._canPush()&&a.type==="broadcast"){const{event:u,payload:d}=a,m={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,g;const x=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),x.receive("ok",()=>u("ok")),x.receive("error",()=>u("error")),x.receive("timeout",()=>u("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const o=new qd(this,jn.leave,{},a);o.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(a,r,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),d=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),d}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new qd(this,a,r,l);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var o,u;const d=a.toLocaleLowerCase(),{close:m,error:g,leave:x,join:f}=jn;if(l&&[m,g,x,f].indexOf(d)>=0&&l!==this._joinRef())return;let w=this._onMessage(d,r,l);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var v,k,j;return((v=b.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(k=b.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(b=>b.callback(w,l)):(u=this.bindings[d])===null||u===void 0||u.filter(b=>{var v,k,j,S,A,T;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const L=b.id,$=(v=b.filter)===null||v===void 0?void 0:v.event;return L&&((k=r.ids)===null||k===void 0?void 0:k.includes(L))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const L=(A=(S=b==null?void 0:b.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return L==="*"||L===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof w=="object"&&"ids"in w){const v=w.data,{schema:k,table:j,commit_timestamp:S,type:A,errors:T}=v;w=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:S,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(v))}b.callback(w,l)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const o=a.toLocaleLowerCase(),u={type:o,filter:r,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Vh.isEqual(o.filter,r))}),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(jn.close,{},a)}_onError(a){this._on(jn.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=w0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=w0(a.columns,a.old_record)),r}}const A3=()=>{},E3=typeof WebSocket<"u";class T3{constructor(a,r){var l;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=y3,this.params={},this.timeout=ub,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=A3,this.conn=null,this.sendBuffer=[],this.serializer=new j3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...m)=>yr(async()=>{const{default:g}=await Promise.resolve().then(()=>_r);return{default:g}},void 0).then(({default:g})=>g(...m)):d=fetch,(...m)=>d(...m)},this.endPoint=`${a}/${xh.websocket}`,this.httpEndpoint=mb(a),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(l=r==null?void 0:r.params)===null||l===void 0?void 0:l.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(u,d)=>d(JSON.stringify(u)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new db(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(E3){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new D3(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),yr(async()=>{const{default:a}=await import("./browser-BruDXuUb.js").then(r=>r.b);return{default:a}},[]).then(({default:a})=>{this.conn=new a(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(a,r){this.conn&&(this.conn.onclose=function(){},a?this.conn.close(a,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case mr.connecting:return na.Connecting;case mr.open:return na.Open;case mr.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}channel(a,r={config:{}}){const l=new Vh(`realtime:${a}`,r,this);return this.channels.push(l),l}push(a){const{topic:r,event:l,payload:o,ref:u}=a,d=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${l} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}setAuth(a){this.accessToken=a,this.channels.forEach(r=>{a&&r.updateJoinPayload({access_token:a}),r.joinedOnce&&r._isJoined()&&r._push(jn.access_token,{access_token:a})})}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r._joinRef()!==a._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b3}))}_onConnMessage(a){this.decode(a.data,r=>{let{topic:l,event:o,payload:u,ref:d}=r;(d&&d===this.pendingHeartbeatRef||o===(u==null?void 0:u.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${o} ${d&&"("+d+")"||""}`,u),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(o,u,d)),this.stateChangeCallbacks.message.forEach(m=>m(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(a=>a())}_onConnClose(a){this.log("transport","close",a),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(a))}_onConnError(a){this.log("transport",a.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(a))}_triggerChanError(){this.channels.forEach(a=>a._trigger(jn.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${a}${l}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_sendHeartbeat(){var a;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(a=this.conn)===null||a===void 0||a.close(v3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class D3{constructor(a,r,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mr.connecting,this.send=()=>{},this.url=null,this.url=a,this.close=l.close}}class Gh extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function St(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class O3 extends Gh{constructor(a,r){super(a),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class C0 extends Gh{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}var M3=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};const fb=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...r)=>yr(async()=>{const{default:l}=await Promise.resolve().then(()=>_r);return{default:l}},void 0).then(({default:l})=>l(...r)):a=fetch,(...r)=>a(...r)},R3=()=>M3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yr(()=>Promise.resolve().then(()=>_r),void 0)).Response:Response});var Cr=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};const Hd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),z3=(s,a)=>Cr(void 0,void 0,void 0,function*(){const r=yield R3();s instanceof r?s.json().then(l=>{a(new O3(Hd(l),s.status||500))}).catch(l=>{a(new C0(Hd(l),l))}):a(new C0(Hd(s),s))}),L3=(s,a,r,l)=>{const o={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),r))};function Xo(s,a,r,l,o,u){return Cr(this,void 0,void 0,function*(){return new Promise((d,m)=>{s(r,L3(a,l,o,u)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>z3(g,m))})})}function yh(s,a,r,l){return Cr(this,void 0,void 0,function*(){return Xo(s,"GET",a,r,l)})}function Ds(s,a,r,l,o){return Cr(this,void 0,void 0,function*(){return Xo(s,"POST",a,l,o,r)})}function B3(s,a,r,l,o){return Cr(this,void 0,void 0,function*(){return Xo(s,"PUT",a,l,o,r)})}function pb(s,a,r,l,o){return Cr(this,void 0,void 0,function*(){return Xo(s,"DELETE",a,l,o,r)})}var fn=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};const U3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I3{constructor(a,r={},l,o){this.url=a,this.headers=r,this.bucketId=l,this.fetch=fb(o)}uploadOrUpdate(a,r,l,o){return fn(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},A0),o),m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(d.upsert)});typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",d.cacheControl)):(u=l,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType);const g=this._removeEmptyFolders(r),x=this._getFinalPath(g),f=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:a,body:u,headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{})),y=yield f.json();return f.ok?{data:{path:g,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(u){if(St(u))return{data:null,error:u};throw u}})}upload(a,r,l){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,l)})}uploadToSignedUrl(a,r,l,o){return fn(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(a),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let g;const x=Object.assign({upsert:A0.upsert},o),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",x.cacheControl)):(g=l,f["cache-control"]=`max-age=${x.cacheControl}`,f["content-type"]=x.contentType);const y=yield this.fetch(m.toString(),{method:"PUT",body:g,headers:f}),w=yield y.json();return y.ok?{data:{path:u,fullPath:w.Key},error:null}:{data:null,error:w}}catch(g){if(St(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,r){return fn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const u=yield Ds(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new Gh("No token returned by API");return{data:{signedUrl:d.toString(),path:a,token:m},error:null}}catch(l){if(St(l))return{data:null,error:l};throw l}})}update(a,r,l){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,l)})}move(a,r,l){return fn(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}})}copy(a,r,l){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}})}createSignedUrl(a,r,l){return fn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(a),u=yield Ds(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}})}createSignedUrls(a,r,l){return fn(this,void 0,void 0,function*(){try{const o=yield Ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}})}download(a,r){return fn(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=u?`?${u}`:"";try{const m=this._getFinalPath(a);return{data:yield(yield yh(this.fetch,`${this.url}/${o}/${m}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(St(m))return{data:null,error:m};throw m}})}getPublicUrl(a,r){const l=this._getFinalPath(a),o=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&o.push(u);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&o.push(g);let x=o.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${x}`)}}}remove(a){return fn(this,void 0,void 0,function*(){try{return{data:yield pb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}list(a,r,l){return fn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},U3),r),{prefix:a||""});return{data:yield Ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}})}_getFinalPath(a){return`${this.bucketId}/${a}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const P3="2.6.0",$3={"X-Client-Info":`storage-js/${P3}`};var ir=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};class q3{constructor(a,r={},l){this.url=a,this.headers=Object.assign(Object.assign({},$3),r),this.fetch=fb(l)}listBuckets(){return ir(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(St(a))return{data:null,error:a};throw a}})}getBucket(a){return ir(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}createBucket(a,r={public:!1}){return ir(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(St(l))return{data:null,error:l};throw l}})}updateBucket(a,r){return ir(this,void 0,void 0,function*(){try{return{data:yield B3(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(St(l))return{data:null,error:l};throw l}})}emptyBucket(a){return ir(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ir(this,void 0,void 0,function*(){try{return{data:yield pb(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}}class H3 extends q3{constructor(a,r={},l){super(a,r,l)}from(a){return new I3(this.url,this.headers,a,this.fetch)}}const F3="2.44.4";let Ol="";typeof Deno<"u"?Ol="deno":typeof document<"u"?Ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ol="react-native":Ol="node";const V3={"X-Client-Info":`supabase-js-${Ol}/${F3}`},G3={headers:V3},Y3={schema:"public"},K3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J3={};var Q3=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};const X3=s=>{let a;return s?a=s:typeof fetch>"u"?a=rb:a=fetch,(...r)=>a(...r)},Z3=()=>typeof Headers>"u"?lb:Headers,W3=(s,a,r)=>{const l=X3(r),o=Z3();return(u,d)=>Q3(void 0,void 0,void 0,function*(){var m;const g=(m=yield a())!==null&&m!==void 0?m:s;let x=new o(d==null?void 0:d.headers);return x.has("apikey")||x.set("apikey",s),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),l(u,Object.assign(Object.assign({},d),{headers:x}))})};function e5(s){return s.replace(/\/$/,"")}function t5(s,a){const{db:r,auth:l,realtime:o,global:u}=s,{db:d,auth:m,realtime:g,global:x}=a;return{db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),o),global:Object.assign(Object.assign({},x),u)}}const xb="2.64.4",n5="http://localhost:9999",s5="supabase.auth.token",a5={"X-Client-Info":`gotrue-js/${xb}`},E0=10,bh="X-Supabase-Api-Version",gb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function r5(s){return Math.round(Date.now()/1e3)+s}function l5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const a=Math.random()*16|0;return(s=="x"?a:a&3|8).toString(16)})}const vn=()=>typeof document<"u",Ws={tested:!1,writable:!1},Bl=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ws.tested)return Ws.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ws.tested=!0,Ws.writable=!0}catch{Ws.tested=!0,Ws.writable=!1}return Ws.writable};function Fd(s){const a={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{a[u]=o})}catch{}return r.searchParams.forEach((l,o)=>{a[o]=l}),a}const yb=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...r)=>yr(async()=>{const{default:l}=await Promise.resolve().then(()=>_r);return{default:l}},void 0).then(({default:l})=>l(...r)):a=fetch,(...r)=>a(...r)},i5=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",bb=async(s,a,r)=>{await s.setItem(a,JSON.stringify(r))},_o=async(s,a)=>{const r=await s.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vd=async(s,a)=>{await s.removeItem(a)};function o5(s){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",l,o,u,d,m,g,x,f=0;for(s=s.replace("-","+").replace("_","/");f<s.length;)d=a.indexOf(s.charAt(f++)),m=a.indexOf(s.charAt(f++)),g=a.indexOf(s.charAt(f++)),x=a.indexOf(s.charAt(f++)),l=d<<2|m>>4,o=(m&15)<<4|g>>2,u=(g&3)<<6|x,r=r+String.fromCharCode(l),g!=64&&o!=0&&(r=r+String.fromCharCode(o)),x!=64&&u!=0&&(r=r+String.fromCharCode(u));return r}class Zo{constructor(){this.promise=new Zo.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Zo.promiseConstructor=Promise;function T0(s){const a=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=s.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!a.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=r[1];return JSON.parse(o5(l))}async function c5(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function u5(s,a){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!a(u,null,d)){l(d);return}}catch(d){if(!a(u,d)){o(d);return}}})()})}function d5(s){return("0"+s.toString(16)).substr(-2)}function h5(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(a),Array.from(a,d5).join("")}async function m5(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}function f5(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function p5(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await m5(s);return f5(r)}async function or(s,a,r=!1){const l=h5();let o=l;r&&(o+="/PASSWORD_RECOVERY"),await bb(s,`${a}-code-verifier`,o);const u=await p5(l);return[u,l===u?"plain":"s256"]}const x5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g5(s){const a=s.headers.get(bh);if(!a||!a.match(x5))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}class Yh extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function Te(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class y5 extends Yh{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function b5(s){return Te(s)&&s.name==="AuthApiError"}class vb extends Yh{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class da extends Yh{constructor(a,r,l,o){super(a,l,o),this.name=r,this.status=l}}class ea extends da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Gd extends da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Co extends da{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ao extends da{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D0 extends da{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vh extends da{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function Yd(s){return Te(s)&&s.name==="AuthRetryableFetchError"}class O0 extends da{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}var v5=function(s,a){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(s);o<l.length;o++)a.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(s,l[o])&&(r[l[o]]=s[l[o]]);return r};const ta=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),j5=[502,503,504];async function M0(s){var a;if(!i5(s))throw new vh(ta(s),0);if(j5.includes(s.status))throw new vh(ta(s),s.status);let r;try{r=await s.json()}catch(u){throw new vb(ta(u),u)}let l;const o=g5(s);if(o&&o.getTime()>=gb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new O0(ta(r),s.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[])}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new O0(ta(r),s.status,r.weak_password.reasons);throw new y5(ta(r),s.status||500,l)}const w5=(s,a,r,l)=>{const o={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),r))};async function ze(s,a,r,l){var o;const u=Object.assign({},l==null?void 0:l.headers);u[bh]||(u[bh]=gb["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const d=(o=l==null?void 0:l.query)!==null&&o!==void 0?o:{};l!=null&&l.redirectTo&&(d.redirect_to=l.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await N5(s,a,r+m,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function N5(s,a,r,l,o,u){const d=w5(a,l,o,u);let m;try{m=await s(r,Object.assign({},d))}catch(g){throw console.error(g),new vh(ta(g),0)}if(m.ok||await M0(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(g){await M0(g)}}function Ts(s){var a;let r=null;C5(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=r5(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:r,user:l},error:null}}function R0(s){const a=Ts(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Os(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function S5(s){return{data:s,error:null}}function k5(s){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:o,verification_type:u}=s,d=v5(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:o,verification_type:u},g=Object.assign({},d);return{data:{properties:m,user:g},error:null}}function _5(s){return s}function C5(s){return s.access_token&&s.refresh_token&&s.expires_in}var A5=function(s,a){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(s);o<l.length;o++)a.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(s,l[o])&&(r[l[o]]=s[l[o]]);return r};class E5{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=yb(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(a,r="global"){try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Te(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Os})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=A5(a,["options"]),o=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(o.new_email=l==null?void 0:l.newEmail,delete o.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:k5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Os})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,o,u,d,m,g;try{const x={nextPage:null,lastPage:0,total:0},f=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=a==null?void 0:a.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:_5});if(f.error)throw f.error;const y=await f.json(),w=(d=f.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(g=(m=f.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(v=>{const k=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);x[`${j}Page`]=k}),x.total=parseInt(w)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(Te(x))return{data:{users:[]},error:x};throw x}}async getUserById(a){try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Os})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Os})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Os})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){try{const{data:r,error:l}=await ze(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:l}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(a){try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const T5={getItem:s=>Bl()?globalThis.localStorage.getItem(s):null,setItem:(s,a)=>{Bl()&&globalThis.localStorage.setItem(s,a)},removeItem:s=>{Bl()&&globalThis.localStorage.removeItem(s)}};function z0(s={}){return{getItem:a=>s[a]||null,setItem:(a,r)=>{s[a]=r},removeItem:a=>{delete s[a]}}}function D5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cr={debug:!!(globalThis&&Bl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jb extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class O5 extends jb{}async function M5(s,a,r){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await r()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(a===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new O5(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(cr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}D5();const R5={url:n5,storageKey:s5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Tl=30*1e3,L0=3;async function B0(s,a,r){return await r()}class ql{constructor(a){var r,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ql.nextInstanceID,ql.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},R5),a);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new E5({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=yb(o.fetch),this.lock=o.lock||B0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:vn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=M5:this.lock=B0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Bl()?this.storage=T5:(this.memoryStorage={},this.storage=z0(this.memoryStorage)):(this.memoryStorage={},this.storage=z0(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xb}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const a=vn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",a),a||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:l}=await this._getSessionFromURL(a);if(l)return this._debug("#_initialize()","error detecting session from URL",l),(l==null?void 0:l.message)==="Identity is already linked"||(l==null?void 0:l.message)==="Identity is already linked to another user"?{error:l}:(await this._removeSession(),{error:l});const{session:o,redirectType:u}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Te(a)?{error:a}:{error:new vb("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,o;try{const u=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=a==null?void 0:a.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ts}),{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const g=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(a){var r,l,o;try{let u;if("email"in a){const{email:f,password:y,options:w}=a;let b=null,v=null;this.flowType==="pkce"&&([b,v]=await or(this.storage,this.storageKey)),u=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:f,password:y,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:v},xform:Ts})}else if("phone"in a){const{phone:f,password:y,options:w}=a;u=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:y,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Ts})}else throw new Co("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const g=d.session,x=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(a){try{let r;if("email"in a){const{email:u,password:d,options:m}=a;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:R0})}else if("phone"in a){const{phone:u,password:d,options:m}=a;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:R0})}else throw new Co("You must provide either an email or phone number and a password");const{data:l,error:o}=r;return o?{data:{user:null,session:null},error:o}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(a){var r,l,o,u;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=a.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async _exchangeCodeForSession(a){const r=await _o(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(r??"").split("/"),{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Ts});return await Vd(this.storage,`${this.storageKey}-code-verifier`),d?{data:{user:null,session:null,redirectType:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Gd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}async signInWithIdToken(a){try{const{options:r,provider:l,token:o,access_token:u,nonce:d}=a,m=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ts}),{data:g,error:x}=m;return x?{data:{user:null,session:null},error:x}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Gd}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:x})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(a){var r,l,o,u,d;try{if("email"in a){const{email:m,options:g}=a;let x=null,f=null;this.flowType==="pkce"&&([x,f]=await or(this.storage,this.storageKey));const{error:y}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:f},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in a){const{phone:m,options:g}=a,{data:x,error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:f}}throw new Co("You must provide either an email or phone number.")}catch(m){if(Te(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(a){var r,l;try{let o,u;"options"in a&&(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo,u=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:m}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ts});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,x=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:x,session:g},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(a){var r,l,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await or(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=a==null?void 0:a.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:S5})}catch(u){if(Te(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new ea;const{error:o}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:o,options:u}=a,{error:d}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in a){const{phone:l,type:o,options:u}=a,{data:d,error:m}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new Co("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await _o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.storage.isServer){let d=this.suppressGetSessionWarning;a=new Proxy(a,{get:(g,x,f)=>(!d&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,x,f))})}return{data:{session:a},error:null}}const{session:o,error:u}=await this._callRefreshToken(a.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Os}):await this._useSession(async r=>{var l,o,u;const{data:d,error:m}=r;if(m)throw m;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ea}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Os})})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new ea;const d=o.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await or(this.storage,this.storageKey));const{data:x,error:f}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:d.access_token,xform:Os});if(f)throw f;return d.user=x.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}_decodeJWT(a){return T0(a)}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ea;const r=Date.now()/1e3;let l=r,o=!0,u=null;const d=T0(a.access_token);if(d.exp&&(l=d.exp,o=l<=r),o){const{session:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;u={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:d,error:m}=r;if(m)throw m;a=(l=d.session)!==null&&l!==void 0?l:void 0}if(!(a!=null&&a.refresh_token))throw new ea;const{session:o,error:u}=await this._callRefreshToken(a.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(a){try{if(!vn())throw new Ao("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ao("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!a)throw new D0("Not a valid PKCE flow url.");const r=Fd(window.location.href);if(a){if(!r.code)throw new D0("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(r.code);if(T)throw T;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:A.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Ao(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:m,expires_at:g,token_type:x}=r;if(!u||!m||!d||!x)throw new Ao("No session defined in URL");const f=Math.round(Date.now()/1e3),y=parseInt(m);let w=f+y;g&&(w=parseInt(g));const b=w-f;b*1e3<=Tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const v=w-y;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,w,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,w,f);const{data:k,error:j}=await this._getUser(u);if(j)throw j;const S={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:y,expires_at:w,refresh_token:d,token_type:x,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:r.type},error:null}}catch(r){if(Te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const a=Fd(window.location.href);return!!(vn()&&(a.access_token||a.error_description))}async _isPKCEFlow(){const a=Fd(window.location.href),r=await _o(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:o,error:u}=r;if(u)return{error:u};const d=(l=o.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:m}=await this.admin.signOut(d,a);if(m&&!(b5(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return a!=="others"&&(await this._removeSession(),await Vd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(a){const r=l5(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,o;try{const{data:{session:u},error:d}=r;if(d)throw d;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",a,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",u),console.error(u)}})}async resetPasswordForEmail(a,r={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await or(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(Te(u))return{data:null,error:u};throw u}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(a){var r;try{const{data:l,error:o}=await this._useSession(async u=>{var d,m,g,x,f;const{data:y,error:w}=u;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",b,{headers:this.headers,jwt:(f=(x=y.session)===null||x===void 0?void 0:x.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return vn()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:a.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(Te(l))return{data:{provider:a.provider,url:null},error:l};throw l}}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,o;const{data:u,error:d}=r;if(d)throw d;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await u5(async o=>(o>0&&await c5(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Ts})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Yd(u)&&Date.now()+d-l<Tl})}catch(l){if(this._debug(r,"error",l),Te(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),vn()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await _o(this.storage,this.storageKey);if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const o=Math.round(Date.now()/1e3),u=((a=l.expires_at)!==null&&a!==void 0?a:1/0)<o+E0;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${E0}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Yd(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Zo;const{data:u,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!u.session)throw new ea;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),Te(u)){const d={session:null,error:u};return Yd(u)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,r,l=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await bb(this.storage,this.storageKey,a)}async _removeSession(){this._debug("#_removeSession()"),await Vd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Tl);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-a)/Tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Tl}ms, refresh threshold is ${L0} ticks`),o<=L0&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof jb)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const o=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,d]=await or(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:o,error:u}=r;return u?{data:null,error:u}:await ze(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,o;const{data:u,error:d}=r;if(d)return{data:null,error:d};const{data:m,error:g}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:a.friendlyName,factor_type:a.factorType,issuer:a.issuer},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:u}=r;if(u)return{data:null,error:u};const{data:d,error:m}=await ze(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:{code:a.code,challenge_id:a.challengeId},headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:m})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:u}=r;return u?{data:null,error:u}:await ze(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?{data:null,error:l}:await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const l=(a==null?void 0:a.factors)||[],o=l.filter(u=>u.factor_type==="totp"&&u.status==="verified");return{data:{all:l,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var r,l;const{data:{session:o},error:u}=a;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(o.access_token);let m=null;d.aal&&(m=d.aal);let g=m;((l=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const f=d.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:f},error:null}}))}}ql.nextInstanceID=0;const z5=ql;class L5 extends z5{constructor(a){super(a)}}var B5=function(s,a,r,l){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(f){try{x(l.next(f))}catch(y){d(y)}}function g(f){try{x(l.throw(f))}catch(y){d(y)}}function x(f){f.done?u(f.value):o(f.value).then(m,g)}x((l=l.apply(s,a||[])).next())})};class U5{constructor(a,r,l){var o,u,d;if(this.supabaseUrl=a,this.supabaseKey=r,!a)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const m=e5(a);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:Y3,realtime:J3,auth:Object.assign(Object.assign({},K3),{storageKey:g}),global:G3},f=t5(l??{},x);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=f.global.headers)!==null&&u!==void 0?u:{},this.auth=this._initSupabaseAuthClient((d=f.auth)!==null&&d!==void 0?d:{},this.headers,f.global.fetch),this.fetch=W3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},f.realtime)),this.rest=new x3(`${m}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new s3(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new H3(this.storageUrl,this.headers,this.fetch)}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},l={}){return this.rest.rpc(a,r,l)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a,r;return B5(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return(r=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:o,storageKey:u,flowType:d,debug:m},g,x){var f;const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L5({url:this.authUrl,headers:Object.assign(Object.assign({},y),g),storageKey:u,autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:o,flowType:d,debug:m,fetch:x,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(a){return new T3(this.realtimeUrl,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(a,r,l){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==l?(this.realtime.setAuth(l??null),this.changedAccessToken=l):a==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I5=(s,a,r)=>new U5(s,a,r);let Ul;async function P5(){try{if(window.supabaseClient){Ul=window.supabaseClient,console.log("Using existing Supabase client for demo form");return}if(typeof __supabase_url>"u"||!__supabase_url||__supabase_url==="YOUR_SUPABASE_URL"||typeof __supabase_anon_key>"u"||!__supabase_anon_key||__supabase_anon_key==="YOUR_SUPABASE_ANON_KEY"){console.warn("Supabase not configured. Demo form submissions will not work.");return}Ul=I5(__supabase_url,__supabase_anon_key),window.supabaseClient=Ul,console.log("Supabase client initialized for demo form")}catch(s){console.error("Supabase initialization failed:",s)}}const ur=[{name:"Project Management",category:"project",icon:"🏗️",status:"active",description:"Complete project lifecycle management with task tracking, milestones, and team collaboration.",improvement:"AI-powered project insights predict delays and suggest optimizations."},{name:"Task Tracking",category:"project",icon:"✓",status:"active",description:"Comprehensive task management with assignments, priorities, and progress tracking.",improvement:"Smart task prioritization based on project dependencies and deadlines."},{name:"Daily Logs",category:"project",icon:"📝",status:"active",description:"Digital daily logs for field activities, weather, and progress notes.",improvement:"AI extracts key information and flags safety concerns automatically."},{name:"Photo Gallery",category:"project",icon:"📸",status:"active",description:"Organized photo documentation with tagging and timeline view.",improvement:"AI-powered image recognition for automatic categorization and progress tracking."},{name:"Document Management",category:"project",icon:"🗂️",status:"active",description:"Centralized repository for all project documents with version control.",improvement:"AI-driven tagging and search to automatically categorize files and flag compliance issues."},{name:"Team Collaboration",category:"project",icon:"👥",status:"active",description:"Real-time messaging, notifications, and team coordination tools.",improvement:"AI suggests relevant team members for tasks based on skills and availability."},{name:"RFI Management",category:"project",icon:"📋",status:"active",description:"Request for Information system with tracking and response management.",improvement:"AI searches project documents to suggest answers and auto-routes to experts."},{name:"RFI Tracking",category:"project",icon:"🔍",status:"active",description:"Track RFI status, responses, and resolution timelines.",improvement:"Predictive analytics identify potential RFI bottlenecks."},{name:"Punch List",category:"project",icon:"✓",status:"active",description:"Quality control and defect tracking with photo documentation.",improvement:"AI categorizes issues and suggests similar past resolutions."},{name:"Quality Control",category:"project",icon:"🎯",status:"active",description:"Systematic quality checks and inspection workflows.",improvement:"ML models predict quality issues based on historical data."},{name:"Drawings & Plans",category:"project",icon:"📐",status:"active",description:"Blueprint management with version control and markup tools.",improvement:"AI detects changes between versions and highlights conflicts."},{name:"Drawing Comparison",category:"project",icon:"🔄",status:"active",description:"Side-by-side comparison of drawing versions.",improvement:"Automated change detection and impact analysis."},{name:"Daywork Sheets",category:"project",icon:"📊",status:"active",description:"Daily work tracking with labor, equipment, and materials.",improvement:"AI validates entries and suggests cost optimizations."},{name:"Labor Tracking",category:"project",icon:"⏱️",status:"active",description:"Track worker hours and productivity metrics.",improvement:"Predictive scheduling based on historical productivity data."},{name:"Invoicing & Billing",category:"financial",icon:"🧾",status:"active",description:"Generate invoices, manage retainers, and track payments.",improvement:"AI sends automated payment reminders and forecasts cash flow."},{name:"Budget Tracking",category:"financial",icon:"💰",status:"active",description:"Real-time budget monitoring and variance analysis.",improvement:"Predictive budget alerts before overruns occur."},{name:"Cost Analysis",category:"financial",icon:"📈",status:"active",description:"Detailed cost breakdowns and profitability analysis.",improvement:"AI identifies cost-saving opportunities across projects."},{name:"Payment Tracking",category:"financial",icon:"💳",status:"active",description:"Track payments, receivables, and payment schedules.",improvement:"Smart payment reminders and cash flow optimization."},{name:"Financial Reports",category:"financial",icon:"📊",status:"active",description:"Comprehensive financial reporting and analytics.",improvement:"AI generates insights and recommendations from financial data."},{name:"Integrated Accounting",category:"financial",icon:"🏦",status:"active",description:"Full accounting service from bookkeeping to tax filing.",improvement:"AI bookkeeper categorizes transactions from automated bank feeds."},{name:"Subcontractor Management",category:"project",icon:"👷",status:"active",description:"Manage subcontractors, contracts, and performance.",improvement:"AI rates subcontractor performance and suggests best matches for new projects."},{name:"Contract Management",category:"project",icon:"📄",status:"active",description:"Track contracts, compliance, and insurance.",improvement:"Automated compliance checks and renewal reminders."},{name:"Time Tracking",category:"project",icon:"⏱️",status:"active",description:"Employee time tracking and timesheet management.",improvement:"AI detects anomalies and optimizes resource allocation."},{name:"Payroll Integration",category:"financial",icon:"💵",status:"active",description:"Seamless integration with payroll systems.",improvement:"Automated payroll calculations and tax compliance."},{name:"AI Chatbot Assistant",category:"business",icon:"🤖",status:"in-progress",description:"Conversational AI assistant for platform navigation and insights.",improvement:"Natural language interface for all platform features."},{name:"Document Analysis",category:"business",icon:"📄",status:"in-progress",description:"AI-powered document parsing and information extraction.",improvement:"Automatic extraction of key data from contracts and plans."},{name:"Predictive Analytics",category:"business",icon:"🔮",status:"in-progress",description:"ML models for project outcome prediction.",improvement:"Forecast project success and identify risks early."},{name:"Smart Scheduling",category:"project",icon:"🗓️",status:"in-progress",description:"AI-optimized resource scheduling and allocation.",improvement:"Dynamic schedule optimization based on constraints."},{name:"Risk Assessment",category:"business",icon:"⚠️",status:"in-progress",description:"Automated risk identification and mitigation.",improvement:"Proactive risk alerts with suggested actions."},{name:"Cost Estimation",category:"financial",icon:"🧮",status:"in-progress",description:"AI-powered project cost estimation.",improvement:"Historical data analysis for accurate estimates."},{name:"Performance Metrics",category:"business",icon:"📊",status:"in-progress",description:"Comprehensive KPI tracking and visualization.",improvement:"Real-time dashboards with predictive insights."},{name:"Trend Analysis",category:"business",icon:"📈",status:"in-progress",description:"Identify patterns and trends across projects.",improvement:"ML-powered trend detection and forecasting."},{name:"Custom Dashboards",category:"business",icon:"📱",status:"in-progress",description:"Personalized dashboards for different roles.",improvement:"AI suggests relevant metrics for each user."},{name:"Lead Management",category:"business",icon:"🎯",status:"planned",description:"Track and nurture sales leads.",improvement:"AI scores leads and suggests follow-up actions."},{name:"Proposal Generation",category:"business",icon:"📝",status:"planned",description:"Automated proposal creation from templates.",improvement:"AI customizes proposals based on client data."},{name:"Client Portal",category:"business",icon:"🌐",status:"planned",description:"Self-service portal for clients.",improvement:"AI-powered client insights and recommendations."},{name:"Bid Management",category:"business",icon:"💼",status:"planned",description:"Manage bids and tender processes.",improvement:"AI analyzes win probability and suggests pricing."},{name:"CRM Integration",category:"business",icon:"👥",status:"planned",description:"Customer relationship management.",improvement:"Sentiment analysis and client health scoring."},{name:"Agent Library",category:"business",icon:"🛒",status:"planned",description:"Browse and install custom AI agents.",improvement:"Marketplace for specialized construction AI tools."},{name:"Custom Workflows",category:"business",icon:"⚙️",status:"planned",description:"Build custom automation workflows.",improvement:"No-code workflow builder with AI suggestions."},{name:"API Marketplace",category:"business",icon:"🔌",status:"planned",description:"Third-party integrations and APIs.",improvement:"AI recommends relevant integrations."},{name:"Voice Commands",category:"business",icon:"🎤",status:"planned",description:"Control platform with voice commands in the field.",improvement:"Hands-free operation for field workers with safety gear."},{name:"AR/VR Integration",category:"project",icon:"🥽",status:"planned",description:"Augmented reality for on-site plan visualization.",improvement:"Overlay digital plans on physical construction sites."},{name:"Drone Integration",category:"project",icon:"🚁",status:"planned",description:"Automated drone surveys and progress tracking.",improvement:"AI analyzes drone footage for progress and safety issues."},{name:"IoT Sensors",category:"project",icon:"📡",status:"planned",description:"Real-time monitoring from construction site sensors.",improvement:"Predictive maintenance and safety alerts from sensor data."},{name:"BIM Integration",category:"project",icon:"🏢",status:"planned",description:"Building Information Modeling integration.",improvement:"AI detects clashes and suggests optimizations in 3D models."},{name:"Digital Twin",category:"project",icon:"👯",status:"planned",description:"Create digital replicas of construction projects.",improvement:"Real-time simulation and what-if scenario analysis."},{name:"Safety AI Monitor",category:"project",icon:"🦺",status:"planned",description:"Computer vision for real-time safety monitoring.",improvement:"Detect PPE violations and unsafe conditions automatically."},{name:"Compliance Automation",category:"project",icon:"📜",status:"planned",description:"Automated regulatory compliance tracking.",improvement:"AI keeps up with changing regulations and ensures compliance."},{name:"Environmental Monitoring",category:"project",icon:"🌍",status:"planned",description:"Track environmental impact and sustainability.",improvement:"Carbon footprint tracking and green building recommendations."},{name:"Incident Prediction",category:"project",icon:"⚡",status:"planned",description:"Predict and prevent safety incidents.",improvement:"ML models identify high-risk situations before they occur."},{name:"Dynamic Pricing",category:"financial",icon:"💎",status:"planned",description:"AI-optimized pricing for bids and quotes.",improvement:"Real-time market analysis for competitive pricing."},{name:"Cash Flow Forecasting",category:"financial",icon:"💸",status:"planned",description:"Predictive cash flow modeling.",improvement:"AI predicts cash flow 6-12 months ahead with high accuracy."},{name:"Fraud Detection",category:"financial",icon:"🔍",status:"planned",description:"Automated fraud and anomaly detection.",improvement:"ML identifies suspicious transactions and billing patterns."},{name:"Tax Optimization",category:"financial",icon:"🧾",status:"planned",description:"AI-powered tax planning and optimization.",improvement:"Maximize deductions and minimize tax liability legally."},{name:"Investment Analysis",category:"financial",icon:"📊",status:"planned",description:"ROI analysis for equipment and projects.",improvement:"AI recommends best investment opportunities."},{name:"Smart Procurement",category:"project",icon:"🛍️",status:"planned",description:"AI-optimized material procurement.",improvement:"Predict material needs and optimize ordering timing."},{name:"Supplier Network",category:"project",icon:"🌐",status:"planned",description:"Intelligent supplier matching and management.",improvement:"AI rates suppliers and suggests best matches for each job."},{name:"Logistics Optimization",category:"project",icon:"🚚",status:"planned",description:"Optimize delivery routes and schedules.",improvement:"Reduce transportation costs and delivery delays."},{name:"Inventory Prediction",category:"project",icon:"📦",status:"planned",description:"Predictive inventory management.",improvement:"AI forecasts material usage and prevents shortages."},{name:"Waste Reduction",category:"project",icon:"♻️",status:"planned",description:"Minimize material waste through optimization.",improvement:"AI suggests material reuse and waste reduction strategies."},{name:"Skills Matching",category:"project",icon:"🎯",status:"planned",description:"Match workers to tasks based on skills.",improvement:"AI optimizes team composition for each project phase."},{name:"Training Recommendations",category:"business",icon:"📚",status:"planned",description:"Personalized training and upskilling paths.",improvement:"AI identifies skill gaps and suggests training programs."},{name:"Performance Analytics",category:"business",icon:"📈",status:"planned",description:"Detailed workforce performance metrics.",improvement:"Identify top performers and areas for improvement."},{name:"Shift Optimization",category:"project",icon:"🕐",status:"planned",description:"AI-optimized shift scheduling.",improvement:"Balance workload, skills, and labor costs automatically."},{name:"Wellness Monitoring",category:"project",icon:"💪",status:"planned",description:"Worker health and wellness tracking.",improvement:"Prevent burnout and optimize work-life balance."},{name:"Client Mobile App",category:"business",icon:"📱",status:"planned",description:"Dedicated mobile app for clients.",improvement:"Real-time project updates and communication."},{name:"Virtual Tours",category:"business",icon:"🎥",status:"planned",description:"360° virtual tours of project progress.",improvement:"AI-generated progress videos and walkthroughs."},{name:"Client Sentiment Analysis",category:"business",icon:"😊",status:"planned",description:"Monitor client satisfaction in real-time.",improvement:"AI detects dissatisfaction early and suggests interventions."},{name:"Automated Reporting",category:"business",icon:"📄",status:"planned",description:"Auto-generated client progress reports.",improvement:"AI creates beautiful, personalized reports automatically."},{name:"3D Printing Integration",category:"project",icon:"🖨️",status:"planned",description:"Manage 3D printing for construction components.",improvement:"AI optimizes print parameters and material usage."},{name:"Robotics Coordination",category:"project",icon:"🤖",status:"planned",description:"Coordinate construction robots and automation.",improvement:"AI schedules and optimizes robotic tasks."},{name:"Blockchain Contracts",category:"business",icon:"⛓️",status:"planned",description:"Smart contracts on blockchain for transparency.",improvement:"Automated, tamper-proof contract execution."},{name:"Quantum Computing",category:"business",icon:"⚛️",status:"planned",description:"Quantum algorithms for complex optimization.",improvement:"Solve previously impossible scheduling and routing problems."},{name:"Neural Architecture Search",category:"business",icon:"🧠",status:"planned",description:"Self-improving AI models.",improvement:"AI that automatically improves its own algorithms."},{name:"Real-time Translation",category:"business",icon:"🌍",status:"planned",description:"Instant translation for international teams.",improvement:"AI translates conversations and documents in real-time."},{name:"Meeting Intelligence",category:"business",icon:"🎙️",status:"planned",description:"AI meeting assistant and note-taker.",improvement:"Automatic transcription, summaries, and action items."},{name:"Knowledge Base",category:"business",icon:"📚",status:"planned",description:"Searchable company knowledge repository.",improvement:"AI suggests relevant past solutions and best practices."},{name:"Expert Network",category:"business",icon:"👨‍🏫",status:"planned",description:"Connect with industry experts on-demand.",improvement:"AI matches problems with the right experts instantly."},{name:"Predictive Maintenance",category:"project",icon:"🔧",status:"planned",description:"Predict equipment failures before they happen.",improvement:"Reduce downtime and maintenance costs."},{name:"Market Intelligence",category:"business",icon:"📊",status:"planned",description:"Real-time construction market analysis.",improvement:"AI tracks market trends and competitor activity."},{name:"Benchmarking",category:"business",icon:"📏",status:"planned",description:"Compare performance against industry standards.",improvement:"AI identifies areas where you outperform or lag behind."},{name:"Scenario Planning",category:"business",icon:"🎲",status:"planned",description:"What-if analysis for strategic decisions.",improvement:"AI simulates outcomes of different business strategies."}],Io=[{id:"agent-pm",name:"Project Optimizer",description:"Uses predictive analytics to foresee project issues, recalculates optimal schedules, and instantly shows the ripple effects of change orders on timelines and budgets.",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0l-3.75 5.25L9 3m0 0l-3.75 5.25M6 16.5h12M9 16.5v3.75m6-3.75v3.75" /></svg>'},{id:"agent-biz",name:"Business Advisor",description:"Acts as a virtual consultant, analyzing performance data and industry benchmarks to give strategic advice, such as identifying new market opportunities or relevant government grants.",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg>'},{id:"agent-doc",name:"Compliance Analyst",description:"Scans documents and field logs to extract key obligations, flag safety risks, and check for compliance issues, like ensuring subcontractor insurance is up to date.",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'},{id:"agent-acc",name:"Accounting Agent",description:"Handles the heavy lifting of bookkeeping, classifies transactions, and ensures alignment with accounting standards. It stays up-to-date on tax rules and can produce complex financial documents automatically.",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 7.756a4.5 4.5 0 010 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'},{id:"agent-user",name:"User Assistant",description:"The user-facing chatbot or voice assistant. Users can ask questions in natural language (“What were our profits last quarter?”) and get instant answers, making the complex system incredibly user-friendly.",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" /></svg>'}],$5=document.querySelectorAll(".nav-item"),q5=document.querySelectorAll(".mobile-nav-item"),H5=document.querySelectorAll(".nav-item-direct"),F5=document.querySelectorAll(".content-section"),Kd=document.getElementById("features-grid"),U0=document.querySelectorAll(".filter-btn"),V5=document.getElementById("mobile-menu-button"),wb=document.getElementById("mobile-menu"),jh=document.getElementById("auth-button"),Nb=document.getElementById("logout-button");document.getElementById("marketing-container");const ns=document.getElementById("app-container");function G5(){console.log("🔐 showAppForLogin called - hiding marketing site");const s=document.getElementById("marketing-site");s&&(s.style.display="none",console.log("✅ Marketing site hidden")),ns&&(ns.classList.remove("hidden"),ns.style.display="block",console.log("✅ App container shown"))}function Sb(){console.log("🚪 handleLogoutUI called"),jh.textContent="Login";const s=document.getElementById("marketing-site");s&&(s.style.display="block",console.log("✅ Marketing site shown again")),ns&&(ns.classList.add("hidden"),ns.style.display="none",console.log("✅ App container hidden")),jh.classList.remove("hidden"),Nb.classList.add("hidden"),document.querySelectorAll(".marketing-nav").forEach(a=>a.style.display="flex"),kb("home"),console.log("✅ handleLogoutUI complete - back to marketing site")}function Y5(){console.log("🔐 handleLoginUI called");const s=document.getElementById("marketing-site");console.log("📍 Marketing site element:",s),s?(s.style.display="none",console.log("✅ ENTIRE marketing site hidden (header + content)")):console.error("❌ Marketing site not found!"),ns&&(ns.classList.remove("hidden"),ns.style.display="block",console.log("✅ App container shown")),console.log("✅ handleLoginUI complete - marketing site COMPLETELY hidden")}window.addEventListener("userLoggedIn",()=>{console.log("🔐 userLoggedIn event received - hiding marketing header"),Y5()});window.addEventListener("userLoggedOut",()=>{console.log("🚪 userLoggedOut event received - showing marketing header"),Sb()});jh.addEventListener("click",()=>{G5()});Nb.addEventListener("click",()=>{window.dispatchEvent(new CustomEvent("userLoggedOutTrigger"))});function kb(s){const a=document.querySelector(".nav-item.nav-active");a&&a.classList.remove("nav-active");const r=document.querySelector(`.nav-item[data-target="${s}"]`);r&&r.classList.add("nav-active"),F5.forEach(l=>{l.classList.toggle("active",l.id===s),l.classList.toggle("hidden",l.id!==s)}),wb.classList.add("hidden"),window.scrollTo(0,0)}const K5=[...$5,...q5,...H5];K5.forEach(s=>{s.addEventListener("click",a=>{a.preventDefault();const r=s.dataset.target||(s.getAttribute("href")?s.getAttribute("href").substring(1):null);r&&kb(r)})});V5.addEventListener("click",()=>{wb.classList.toggle("hidden")});function J5(){const s=ur.length,a=ur.filter(g=>g.status==="active").length,r=ur.filter(g=>g.status==="in-progress").length,l=ur.filter(g=>g.status==="planned").length,o=document.getElementById("total-features"),u=document.getElementById("active-features"),d=document.getElementById("inprogress-features"),m=document.getElementById("planned-features");o&&(o.textContent=s),u&&(u.textContent=a),d&&(d.textContent=r),m&&(m.textContent=l)}function _b(s="all"){if(!Kd)return;Kd.innerHTML="",(s==="all"?ur:ur.filter(r=>r.category===s)).forEach(r=>{const l=document.createElement("div");l.className=`feature-card bg-white p-6 rounded-lg shadow-md border border-gray-100 feature-category-${r.category}`;const o={active:'<span class="status-dot bg-green-500"></span> <span class="text-xs text-green-700 font-medium">Active</span>',"in-progress":'<span class="status-dot bg-yellow-500"></span> <span class="text-xs text-yellow-700 font-medium">In Progress</span>',planned:'<span class="status-dot bg-gray-400"></span> <span class="text-xs text-gray-600 font-medium">Planned</span>'},u=r.status&&o[r.status]||"";l.innerHTML=`
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                            <span class="text-3xl mr-3">${r.icon}</span>
                            <h3 class="text-xl font-semibold text-gray-800">${r.name}</h3>
                        </div>
                        ${u?`<div class="flex items-center gap-1">${u}</div>`:""}
                    </div>
                    <div class="details">
                        <p class="text-gray-600 mt-2 text-sm">${r.description}</p>
                        <p class="mt-4 text-sm"><span class="font-semibold text-blue-600">AI-Powered Improvement:</span> ${r.improvement}</p>
                    </div>
                `,l.addEventListener("click",()=>{l.classList.toggle("open")}),Kd.appendChild(l)}),J5()}U0.forEach(s=>{s.addEventListener("click",()=>{U0.forEach(a=>a.classList.remove("active")),s.classList.add("active"),_b(s.dataset.filter)})});function Q5(){const s=document.getElementById("ai-hub");if(!s)return;const a=s.parentElement;if(!a)return;const r=document.getElementById("ai-agent-title"),l=document.getElementById("ai-agent-description"),o=Math.min(a.offsetWidth,a.offsetHeight)/2-70;Io.forEach((d,m)=>{const g=m/Io.length*2*Math.PI-Math.PI/2,x=o*Math.cos(g),f=o*Math.sin(g),y=document.createElement("div");y.id=d.id,y.className="ai-agent-node absolute w-32 h-32 rounded-full bg-white border-2 border-slate-200 flex flex-col items-center justify-center text-center p-2 text-sm font-semibold shadow-lg text-slate-700",y.style.left="50%",y.style.top="50%",y.style.transform=`translate(-50%, -50%) translate(${x}px, ${f}px)`,y.innerHTML=`
                    <div class="text-blue-600">${d.icon}</div>
                    <span class="mt-1 text-xs font-bold leading-tight">${d.name}</span>
                `,y.addEventListener("click",()=>{document.querySelector(".scenario-btn:disabled")||(a.querySelectorAll(".ai-agent-node").forEach(w=>w.classList.remove("active")),y.classList.add("active"),r.textContent=d.name,l.textContent=d.description)}),a.appendChild(y)});const u=document.querySelector("#agent-user");u&&u.click()}function Dl(s,a,r,l,o){if(document.getElementById(l)){const f=document.getElementById(l);return f.style.color=o,f}const u={x:s.offsetLeft+s.offsetWidth/2,y:s.offsetTop+s.offsetHeight/2},d={x:a.offsetLeft+a.offsetWidth/2,y:a.offsetTop+a.offsetHeight/2},m=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=Math.atan2(d.y-u.y,d.x-u.x)*180/Math.PI,x=document.createElement("div");return x.id=l,x.className="ai-scenario-path",x.dataset.length=m,x.style.top=`${u.y}px`,x.style.left=`${u.x}px`,x.style.transform=`rotate(${g}deg)`,x.style.width="0px",x.style.color=o,r.appendChild(x),x}function X5(s){const a=document.querySelectorAll(".scenario-btn");if(Array.from(a).some(S=>S.disabled))return;a.forEach(S=>{S.disabled=!0,S.classList.remove("active-scenario")});const l=document.querySelector(`[data-scenario="${s}"]`);l&&l.classList.add("active-scenario");const o={pm:document.getElementById("agent-pm"),user:document.getElementById("agent-user"),biz:document.getElementById("agent-biz"),doc:document.getElementById("agent-doc"),acc:document.getElementById("agent-acc")};for(const S in o)if(!o[S]){console.error(`Scenario node '${S}' not found!`),a.forEach(A=>{A.disabled=!1,A.classList.remove("active-scenario")});return}const u=o.pm.parentElement,m={safetyHazard:"#ef4444",weatherDelay:"#3b82f6",smartRFI:"#22c55e"}[s],g={doc_pm:Dl(o.doc,o.pm,u,"path-doc-pm",m),pm_user:Dl(o.pm,o.user,u,"path-pm-user",m),user_biz:Dl(o.user,o.biz,u,"path-user-biz",m),user_doc:Dl(o.user,o.doc,u,"path-user-doc",m),doc_user:Dl(o.doc,o.user,u,"path-doc-user",m)},f={safetyHazard:[{node:o.doc,duration:2500,text:"A field operative's daily log mentions 'faulty scaffolding'. The **Compliance Analyst** instantly parses this, flags a critical safety hazard, and escalates the issue."},{node:o.pm,duration:3e3,text:"The alert triggers the **Project Optimizer**, which automatically freezes tasks near the hazard, notifies teams, and calculates the schedule impact—all within seconds.",path:g.doc_pm},{node:o.user,duration:3e3,text:"Finally, the **User Assistant** creates a high-priority inspection task, assigns it to the site supervisor, and attaches the original log, ensuring immediate, documented action.",path:g.pm_user}],weatherDelay:[{node:o.pm,duration:2500,text:"The **Project Optimizer** analyzes an upcoming forecast and predicts that heavy rain will conflict with a critical 'Concrete Pour' activity."},{node:o.user,duration:3e3,text:"It proactively notifies the **User Assistant**, which drafts an alert for the Project Manager with a smart suggestion to reschedule and pre-notifies the concrete supplier.",path:g.pm_user},{node:o.biz,duration:3e3,text:"Simultaneously, the **Business Advisor** models the financial impact of the delay vs. pouring with expensive additives, providing a complete picture for a fast, profitable decision.",path:g.user_biz}],smartRFI:[{node:o.user,duration:2e3,text:"An operative on-site asks the **User Assistant** via voice: 'What's the fire rating for the doors on level 3?'"},{node:o.doc,duration:3e3,text:"The **Compliance Analyst** performs a semantic search across all project documents, understanding the *intent* of the question, not just keywords.",path:g.user_doc},{node:o.user,duration:3e3,text:"Within seconds, it finds the correct spec sheet and provides the answer directly to the operative's phone, **saving hours of searching** and preventing costly rework.",path:g.doc_user}]}[s];if(!f){console.error(`Scenario '${s}' not found!`),a.forEach(S=>{S.disabled=!1,S.classList.remove("active-scenario")});return}const y=document.querySelectorAll(".ai-agent-node"),w=document.querySelectorAll(".ai-scenario-path");let b=null;const v=()=>{if(y.forEach(S=>S.classList.remove("highlight","active")),w.forEach(S=>{S.style.width="0px",S.style.opacity="0"}),a.forEach(S=>{S.disabled=!1,S.classList.remove("active-scenario")}),o.user){const S=document.getElementById("ai-agent-title"),A=document.getElementById("ai-agent-description"),T=Io.find(L=>L.id===o.user.id);o.user.classList.add("active"),T&&(S.textContent=T.name,A.innerHTML=T.description)}};let k=0;function j(){if(y.forEach(L=>L.classList.remove("highlight")),b&&(b.style.opacity="0.2"),k>=f.length){setTimeout(()=>{b&&(b.style.opacity="0"),setTimeout(v,500)},2e3);return}const S=f[k],A=document.getElementById("ai-agent-title"),T=document.getElementById("ai-agent-description");if(S.node){y.forEach($=>$.classList.remove("active")),S.node.classList.add("highlight","active"),S.node.style.color=m;const L=Io.find($=>$.id===S.node.id);A.classList.add("fade-out"),T.classList.add("fade-out"),setTimeout(()=>{L&&(A.textContent=L.name),T.innerHTML=S.text.replace(/\*\*(.*?)\*\*/g,'<strong class="text-gray-900">$1</strong>'),A.classList.remove("fade-out"),T.classList.remove("fade-out")},400)}S.path?(S.path.style.opacity="1",S.path.style.width=`${S.path.dataset.length}px`,b=S.path):b=null,k++,setTimeout(j,S.duration)}w.forEach(S=>{S.style.width="0px",S.style.opacity="0"}),y.forEach(S=>{S.classList.remove("highlight","active"),S.style.color=""}),setTimeout(j,100)}async function Z5(s){s.preventDefault();const a=s.target,r=a.querySelector('button[type="submit"]'),l=document.getElementById("form-feedback");if(!Ul){l.textContent="Database not connected. Please try again later.",l.className="text-sm text-center mt-4 text-red-600";return}r.disabled=!0,r.textContent="Submitting...",l.textContent="";try{const{error:o}=await Ul.from("demo_requests").insert({name:a.name.value,email:a.email.value,company:a.company.value,submitted_at:new Date().toISOString()});if(o)throw o;l.textContent="Thank you! We will be in touch shortly.",l.className="text-sm text-center mt-4 text-green-600",a.reset()}catch(o){console.error("Error adding document: ",o),l.textContent="An error occurred. Please try again.",l.className="text-sm text-center mt-4 text-red-600"}finally{r.disabled=!1,r.textContent="Submit Request"}}var P0;(P0=document.getElementById("demo-form"))==null||P0.addEventListener("submit",Z5);document.querySelectorAll(".scenario-btn").forEach(s=>{s.addEventListener("click",a=>{const r=a.currentTarget.dataset.scenario;r&&X5(r)})});_b();const I0=document.getElementById("ai-core"),W5=new ResizeObserver(()=>{var a;const s=(a=document.querySelector("#ai-hub"))==null?void 0:a.parentElement;s&&(s.querySelectorAll(".ai-agent-node, .ai-scenario-path").forEach(r=>r.remove()),Q5())});I0&&W5.observe(I0);P5();Sb();export{Hl as g};
