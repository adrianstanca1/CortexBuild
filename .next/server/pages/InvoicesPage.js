(()=>{var a={};a.id=4721,a.ids=[3220,4721],a.modules={8732:a=>{"use strict";a.exports=require("react/jsx-runtime")},15645:()=>{},33873:a=>{"use strict";a.exports=require("path")},40361:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},46060:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},49199:(a,b,c)=>{"use strict";c.r(b),c.d(b,{config:()=>u,default:()=>q,getServerSideProps:()=>t,getStaticPaths:()=>s,getStaticProps:()=>r,handler:()=>C,reportWebVitals:()=>v,routeModule:()=>B,unstable_getServerProps:()=>z,unstable_getServerSideProps:()=>A,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>x,unstable_getStaticProps:()=>w});var d={};c.r(d),c.d(d,{InvoicesPage:()=>o});var e=c(63885),f=c(80237),g=c(81413),h=c(65611),i=c.n(h),j=c(625),k=c.n(j),l=c(8732),m=c(82015);c(15645);let n=({onClose:a,onSave:b})=>{let[c,d]=(0,m.useState)("modern"),[e,f]=(0,m.useState)({invoiceNumber:`INV-${Date.now()}`,invoiceDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],companyName:"CortexBuild Ltd",companyAddress:"123 Construction Ave, London, UK",companyEmail:"billing@cortexbuild.com",companyPhone:"+44 20 1234 5678",clientName:"",clientAddress:"",clientEmail:"",clientPhone:"",items:[{description:"",quantity:1,rate:0,amount:0}],notes:"Thank you for your business!",terms:"Payment due within 30 days",subtotal:0,tax:0,total:0}),g=(a,b,c)=>{let d=[...e.items];d[a]={...d[a],[b]:c},("quantity"===b||"rate"===b)&&(d[a].amount=d[a].quantity*d[a].rate),f({...e,items:d}),h(d)},h=a=>{let b=a.reduce((a,b)=>a+b.amount,0),c=.2*b,d=b+c;f(a=>({...a,subtotal:b,tax:c,total:d}))},i=a=>`\xa3${a.toFixed(2)}`;return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",children:(0,l.jsxs)("div",{className:"min-h-screen p-4",children:[(0,l.jsxs)("div",{className:"max-w-7xl mx-auto mb-4 bg-white rounded-lg shadow-lg p-4 print:hidden",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Builder"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{window.print()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Print / PDF"}),(0,l.jsx)("button",{onClick:()=>{b(e)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save Invoice"}),(0,l.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Template"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"modern",name:"Modern",color:"bg-blue-500"},{id:"classic",name:"Classic",color:"bg-gray-800"},{id:"creative",name:"Creative",color:"bg-teal-500"},{id:"minimalist",name:"Minimalist",color:"bg-gray-400"},{id:"corporate",name:"Corporate",color:"bg-gray-700"},{id:"artistic",name:"Artistic",color:"bg-red-800"},{id:"teal",name:"Teal",color:"bg-teal-600"},{id:"geometric",name:"Geometric",color:"bg-yellow-500"},{id:"handwritten",name:"Handwritten",color:"bg-gray-600"},{id:"vintage",name:"Vintage",color:"bg-amber-700"}].map(a=>(0,l.jsx)("button",{onClick:()=>d(a.id),className:`px-4 py-2 rounded-lg transition-all ${c===a.id?`${a.color} text-white shadow-lg scale-105`:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:a.name},a.id))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Your Company"}),(0,l.jsx)("input",{type:"text",placeholder:"Company Name",value:e.companyName,onChange:a=>f({...e,companyName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),(0,l.jsx)("input",{type:"text",placeholder:"Address",value:e.companyAddress,onChange:a=>f({...e,companyAddress:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),(0,l.jsx)("input",{type:"email",placeholder:"Email",value:e.companyEmail,onChange:a=>f({...e,companyEmail:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),(0,l.jsx)("input",{type:"tel",placeholder:"Phone",value:e.companyPhone,onChange:a=>f({...e,companyPhone:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Bill To"}),(0,l.jsx)("input",{type:"text",placeholder:"Client Name",value:e.clientName,onChange:a=>f({...e,clientName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),(0,l.jsx)("input",{type:"text",placeholder:"Address",value:e.clientAddress,onChange:a=>f({...e,clientAddress:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),(0,l.jsx)("input",{type:"email",placeholder:"Email",value:e.clientEmail,onChange:a=>f({...e,clientEmail:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),(0,l.jsx)("input",{type:"tel",placeholder:"Phone",value:e.clientPhone,onChange:a=>f({...e,clientPhone:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice #"}),(0,l.jsx)("input",{type:"text",value:e.invoiceNumber,onChange:a=>f({...e,invoiceNumber:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Date"}),(0,l.jsx)("input",{type:"date",value:e.invoiceDate,onChange:a=>f({...e,invoiceDate:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),(0,l.jsx)("input",{type:"date",value:e.dueDate,onChange:a=>f({...e,dueDate:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:"Line Items"}),(0,l.jsx)("button",{onClick:()=>{f({...e,items:[...e.items,{description:"",quantity:1,rate:0,amount:0}]})},className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"+ Add Item"})]}),e.items.map((a,b)=>(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Description",value:a.description,onChange:a=>g(b,"description",a.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg"}),(0,l.jsx)("input",{type:"number",placeholder:"Qty",value:a.quantity,onChange:a=>g(b,"quantity",parseFloat(a.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg"}),(0,l.jsx)("input",{type:"number",placeholder:"Rate",value:a.rate,onChange:a=>g(b,"rate",parseFloat(a.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg"}),(0,l.jsx)("div",{className:"col-span-2 px-3 py-2 bg-gray-100 rounded-lg flex items-center",children:i(a.amount)}),(0,l.jsx)("button",{onClick:()=>(a=>{let b=e.items.filter((b,c)=>c!==a);f({...e,items:b}),h(b)})(b),className:"col-span-1 px-2 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"\xd7"})]},b))]})]}),(0,l.jsxs)("div",{className:`a4-preview-container ${c} bg-white mx-auto shadow-2xl`,style:{width:"21cm",minHeight:"29.7cm",padding:"1cm",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,l.jsx)("header",{style:{borderBottom:"2px solid #e5e7eb",paddingBottom:"1rem",marginBottom:"2rem"},children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.5rem"},children:e.companyName}),(0,l.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:[e.companyAddress,(0,l.jsx)("br",{}),e.companyEmail,(0,l.jsx)("br",{}),e.companyPhone]})]}),(0,l.jsxs)("div",{style:{textAlign:"right"},children:[(0,l.jsx)("h2",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#2563eb",marginBottom:"0.5rem"},children:"INVOICE"}),(0,l.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["#",e.invoiceNumber]})]})]})}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginBottom:"2rem"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Bill To"}),(0,l.jsxs)("p",{style:{fontSize:"0.875rem",color:"#1f2937",lineHeight:"1.5"},children:[(0,l.jsx)("strong",{children:e.clientName}),(0,l.jsx)("br",{}),e.clientAddress,(0,l.jsx)("br",{}),e.clientEmail,(0,l.jsx)("br",{}),e.clientPhone]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Invoice Details"}),(0,l.jsxs)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[(0,l.jsx)("span",{children:"Invoice Date:"}),(0,l.jsx)("span",{children:e.invoiceDate})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:"Due Date:"}),(0,l.jsx)("span",{children:e.dueDate})]})]})]})]}),(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"2rem"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{backgroundColor:"#f3f4f6",borderBottom:"2px solid #d1d5db"},children:[(0,l.jsx)("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Description"}),(0,l.jsx)("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Qty"}),(0,l.jsx)("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Rate"}),(0,l.jsx)("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Amount"})]})}),(0,l.jsx)("tbody",{children:e.items.map((a,b)=>(0,l.jsxs)("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[(0,l.jsx)("td",{style:{padding:"0.75rem",fontSize:"0.875rem",color:"#1f2937"},children:a.description}),(0,l.jsx)("td",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",color:"#1f2937"},children:a.quantity}),(0,l.jsx)("td",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",color:"#1f2937"},children:i(a.rate)}),(0,l.jsx)("td",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",color:"#1f2937"},children:i(a.amount)})]},b))})]}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:(0,l.jsxs)("div",{style:{width:"300px",backgroundColor:"#f9fafb",border:"1px solid #f3f4f6",borderRadius:"0.5rem",padding:"1rem"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.875rem"},children:[(0,l.jsx)("span",{children:"Subtotal:"}),(0,l.jsx)("span",{children:i(e.subtotal)})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.875rem"},children:[(0,l.jsx)("span",{children:"Tax (20%):"}),(0,l.jsx)("span",{children:i(e.tax)})]}),(0,l.jsx)("div",{style:{borderTop:"2px solid #d1d5db",paddingTop:"0.5rem",marginTop:"0.5rem"},children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"bold"},children:[(0,l.jsx)("span",{children:"Total:"}),(0,l.jsx)("span",{children:i(e.total)})]})})]})}),(0,l.jsxs)("div",{style:{backgroundColor:"#dcfce7",color:"#166534",padding:"1rem",borderRadius:"0.5rem",marginBottom:"2rem",textAlign:"center"},children:[(0,l.jsx)("p",{style:{fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Amount Due"}),(0,l.jsx)("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:i(e.total)})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Notes"}),(0,l.jsx)("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:e.notes})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Terms & Conditions"}),(0,l.jsx)("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:e.terms})]})]})]})]})})},o=()=>{let[a,b]=(0,m.useState)(""),[c,d]=(0,m.useState)("all"),[e,f]=(0,m.useState)([]),[g,h]=(0,m.useState)(!0),[i,j]=(0,m.useState)(null),[k,o]=(0,m.useState)(!1);(0,m.useEffect)(()=>{p()},[a,c]);let p=async()=>{try{h(!0);let b=new URLSearchParams({page:"1",limit:"50"});a&&b.append("search",a),"all"!==c&&b.append("status",c);let d=await fetch(`/api/invoices?${b}`),e=await d.json();e.success?f(e.data):j(e.error)}catch(a){j(a.message),f(q)}finally{h(!1)}},q=[{id:"INV-2024-001",client:"Metro Construction Group",project:"Downtown Office Complex",description:"Progress billing - Phase 1 completion",amount:486e3,status:"paid",type:"progress",issueDate:"Nov 1, 2024",dueDate:"Nov 30, 2024",paidAmount:486e3,paidDate:"Nov 28, 2024"},{id:"INV-2024-002",client:"Green Valley Homes",project:"Riverside Luxury Apartments",description:"Progress billing - Foundation and framing",amount:302400,status:"sent",type:"progress",issueDate:"Dec 1, 2024",dueDate:"Dec 31, 2024",paidAmount:0,paidDate:null},{id:"INV-2024-003",client:"Metro Construction Group",project:"Downtown Office Complex",description:"Progress billing - Phase 2 structural work",amount:561600,status:"viewed",type:"progress",issueDate:"Dec 15, 2024",dueDate:"Jan 15, 2025",paidAmount:0,paidDate:null},{id:"INV-2024-002",client:"Green Valley Homes",project:"Riverside Apartments",description:"Progress payment - 50% completion",amount:172800,status:"sent",type:"progress",issueDate:"May 15, 2024",dueDate:"Jun 15, 2024",paidAmount:0,paidDate:null},{id:"INV-2024-001",client:"Sunset Developments",project:"Downtown Office Complex",description:"Progress payment - Phase 1 completion",amount:486e3,status:"paid",type:"progress",issueDate:"Feb 1, 2024",dueDate:"Mar 1, 2024",paidAmount:486e3,paidDate:"Feb 28, 2024"}],r=a=>null==a?"\xa30.00":`\xa3${a.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return(0,l.jsxs)("div",{className:"p-8",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Invoices"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage billing and payments"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsx)("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:a=>b(a.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),(0,l.jsxs)("select",{value:c,onChange:a=>d(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"all",children:"All Status"}),(0,l.jsx)("option",{value:"paid",children:"Paid"}),(0,l.jsx)("option",{value:"sent",children:"Sent"}),(0,l.jsx)("option",{value:"viewed",children:"Viewed"}),(0,l.jsx)("option",{value:"overdue",children:"Overdue"}),(0,l.jsx)("option",{value:"draft",children:"Draft"})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,l.jsx)("span",{children:"New Invoice"})]})]})]})}),(0,l.jsx)("div",{className:"space-y-4",children:e.map((a,b)=>(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,l.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsxs)("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${{paid:"bg-green-100 text-green-800",sent:"bg-blue-100 text-blue-800",viewed:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"}[a.status]||"bg-gray-100 text-gray-800"}`,children:[(0,l.jsx)("span",{children:{paid:"✓",sent:"\uD83D\uDCE4",viewed:"\uD83D\uDC41",overdue:"⚠️",draft:"\uD83D\uDCDD"}[a.status]||"\uD83D\uDCC4"}),(0,l.jsx)("span",{children:a.status})]}),(0,l.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:r(a.amount)})]}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Invoice #",a.id]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:a.client})]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600 mr-2",children:"Project:"}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.project})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:a.description}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Issue Date:"}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.issueDate})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Due Date:"}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.dueDate})]}),a.paidAmount>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Paid:"}),(0,l.jsx)("p",{className:"text-sm font-medium text-green-600",children:r(a.paidAmount)})]}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800",children:a.type})})]})]})]},`${a.id}-${b}`))}),k&&(0,l.jsx)(n,{onClose:()=>o(!1),onSave:async a=>{try{let b=localStorage.getItem("user"),c=b?JSON.parse(b):null,d=c?.company_id||"company-1";(await fetch("/api/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_id:d,invoice_number:a.invoiceNumber,client_name:a.clientName,description:a.items.map(a=>a.description).join(", "),total:a.total,status:"draft",issue_date:a.invoiceDate,due_date:a.dueDate})})).ok&&(o(!1),p())}catch(a){console.error("Failed to save invoice:",a)}}})]})};var p=c(12289);let q=(0,g.M)(d,"default"),r=(0,g.M)(d,"getStaticProps"),s=(0,g.M)(d,"getStaticPaths"),t=(0,g.M)(d,"getServerSideProps"),u=(0,g.M)(d,"config"),v=(0,g.M)(d,"reportWebVitals"),w=(0,g.M)(d,"unstable_getStaticProps"),x=(0,g.M)(d,"unstable_getStaticPaths"),y=(0,g.M)(d,"unstable_getStaticParams"),z=(0,g.M)(d,"unstable_getServerProps"),A=(0,g.M)(d,"unstable_getServerSideProps"),B=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/InvoicesPage",pathname:"/InvoicesPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:d}),C=(0,p.U)({srcPage:"/InvoicesPage",config:u,userland:d,routeModule:B,getStaticPaths:s,getStaticProps:r,getServerSideProps:t})},56472:a=>{"use strict";a.exports=require("@opentelemetry/api")},82015:a=>{"use strict";a.exports=require("react")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[5611,157],()=>b(b.s=49199));module.exports=c})();